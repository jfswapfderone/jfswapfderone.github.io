(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Swap"],{"037f":function(e,t,i){"use strict";i("17ab")},"14b8":function(e,t,i){"use strict";i("e035")},"17ab":function(e,t,i){},"35e3":function(e,t,i){"use strict";i.r(t);i("ac1f"),i("1276"),i("a9e3"),i("caad"),i("2532"),i("fb6a");var o=i("7a23"),n=i("e524"),a=i.n(n),l=i("965b"),r=i.n(l),s=i("93c0"),c=i.n(s),m=function(e){return Object(o["pushScopeId"])("data-v-2bf21c9a"),e=e(),Object(o["popScopeId"])(),e},d={class:"top"},u=m((function(){return Object(o["createElementVNode"])("span",{style:{flex:"1"}},null,-1)})),p=m((function(){return Object(o["createElementVNode"])("use",{"xlink:href":"#icon-addLP"},null,-1)})),b=[p],h=["xlink:href"],f={class:"swap-content"},v={class:"swap-content_left",ref:"swapLeft"},k={class:"card-container"},g={class:"card-container_top flex justify-between items-center"},O={class:"s-text"},j={class:"flex justify-between items-center mt-20"},w=m((function(){return Object(o["createElementVNode"])("div",{style:{height:"0.12rem"}},null,-1)})),T={class:"card-container"},y={class:"card-container_top flex justify-between items-center"},N={class:"s-text"},V={class:"flex justify-between items-center mt-20"},S={key:0},_={key:1},E={key:0,style:{"font-size":"0.24rem"}},$={key:0,style:{"font-size":"0.24rem",color:"#f8be46",margin:"0.1rem 0"}},x={key:1,style:{"font-size":"0.24rem",color:"#F81111",margin:"0.1rem 0"}},B={class:"card-container"},C={key:0,class:"target-tag"},A={class:"card-container_top flex justify-between items-center"},I={class:"s-text"},L={class:"flex justify-between items-center mt-20"},F={class:"switch-container"},D=m((function(){return Object(o["createElementVNode"])("i",{class:"iconfont icon-arrow-down",style:{transform:"rotateZ(180deg)"}},null,-1)})),P=[D],U=m((function(){return Object(o["createElementVNode"])("div",{style:{height:"0.12rem"}},null,-1)})),R={class:"card-container"},M={key:0,class:"target-tag"},z={class:"card-container_top flex justify-between items-center"},Q={class:"s-text"},q={class:"flex justify-between items-center mt-20"},W={class:"limit-price-label"},H={class:"card-container flex justify-between items-center"},J=["disabled"],G=["disabled"],Y=m((function(){return Object(o["createElementVNode"])("div",{class:"swap-content_center"},null,-1)})),X={class:"token-info"},K={class:"icon-token-container"},Z=["src"],ee={style:{flex:"1","text-align":"left"},class:"van-ellipsis"},te={class:"right-section-1"},ie=Object(o["createTextVNode"])("+"),oe={class:"right-section-2"},ne={key:0,class:"swap-label"},ae={key:0},le={class:"swap-label_item-left"},re={key:1},se={class:"swap-label_item-left"},ce={class:"swap-label_item-left"},me={class:"swap-label_item-left"},de={key:0},ue={key:0,style:{width:"0.3rem",margin:"0.02rem 0.1rem 0"},src:a.a,alt:"",srcset:""},pe={key:1},be={key:0},he={key:1,class:"path-amm"},fe=m((function(){return Object(o["createElementVNode"])("img",{style:{width:"0.3rem",margin:"0.02rem 0.1rem 0"},src:a.a,alt:"",srcset:""},null,-1)})),ve={key:0,class:"select-token iconfont icon-collapse-down"},ke={class:"section-bottom"},ge={class:"title"},Oe=m((function(){return Object(o["createElementVNode"])("span",{style:{flex:"1"}},null,-1)})),je={key:0,style:{"background-color":"#fff"}},we={key:1,style:{"background-color":"#fff"}},Te={class:"footer-container"},ye=m((function(){return Object(o["createElementVNode"])("img",{src:r.a,alt:"",srcset:""},null,-1)})),Ne=m((function(){return Object(o["createElementVNode"])("img",{src:c.a,style:{height:"0.4rem"},alt:"",srcset:""},null,-1)})),Ve={style:{background:"#fff","padding-bottom":"1rem"}},Se={class:"token-item header"},_e={class:"flex-2"},Ee={class:"flex-1"},$e={class:"flex-1 right-label"},xe=m((function(){return Object(o["createElementVNode"])("span",{style:{width:"0.32rem"}},null,-1)})),Be=["onClick"],Ce={class:"path-list flex-start flex-2"},Ae={key:0},Ie={key:1,class:"path-amm"},Le=m((function(){return Object(o["createElementVNode"])("img",{style:{width:"0.3rem",margin:"0.02rem 0.1rem 0"},src:a.a,alt:"",srcset:""},null,-1)})),Fe={key:0,class:"tag"},De={class:"flex-1"},Pe=Object(o["createTextVNode"])(" <0.01% "),Ue=Object(o["createTextVNode"])(" >40% ");function Re(e,t,n,a,l,r){var s,c,m,p,D,Re,Me,ze,Qe,qe,We,He,Je,Ge,Ye,Xe,Ke,Ze,et,tt,it,ot,nt,at,lt,rt,st,ct,mt,dt,ut,pt,bt,ht,ft,vt,kt,gt,Ot,jt,wt,Tt,yt,Nt,Vt,St,_t,Et,$t,xt,Bt,Ct,At=this,It=Object(o["resolveComponent"])("SwapNotice"),Lt=Object(o["resolveComponent"])("ConnectButton"),Ft=Object(o["resolveComponent"])("van-count-down"),Dt=Object(o["resolveComponent"])("SlippageButton"),Pt=Object(o["resolveComponent"])("SwapTypeTabs"),Ut=Object(o["resolveComponent"])("SwapSelectToken"),Rt=Object(o["resolveComponent"])("van-field"),Mt=Object(o["resolveComponent"])("PercentStep"),zt=Object(o["resolveComponent"])("van-button"),Qt=Object(o["resolveComponent"])("van-form"),qt=Object(o["resolveComponent"])("van-icon"),Wt=Object(o["resolveComponent"])("van-image"),Ht=Object(o["resolveComponent"])("PriceChart"),Jt=Object(o["resolveComponent"])("van-tab"),Gt=Object(o["resolveComponent"])("van-tabs"),Yt=Object(o["resolveComponent"])("van-checkbox"),Xt=Object(o["resolveComponent"])("van-loading"),Kt=Object(o["resolveComponent"])("TxItem"),Zt=Object(o["resolveComponent"])("DynamicScrollerItem"),ei=Object(o["resolveComponent"])("DynamicScroller"),ti=Object(o["resolveComponent"])("van-empty"),ii=Object(o["resolveComponent"])("LimitTxItem"),oi=Object(o["resolveComponent"])("confirm-swap"),ni=Object(o["resolveComponent"])("confirm-limit"),ai=Object(o["resolveComponent"])("van-action-sheet"),li=Object(o["resolveDirective"])("animation-trigger");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("section",{class:"swap-container",style:Object(o["normalizeStyle"])({"--upColor":e.$store.getters.upColor[3],"--downColor":e.$store.getters.downColor[3]})},[Object(o["createVNode"])(It),Object(o["createElementVNode"])("div",d,[Object(o["createVNode"])(Lt),u,Object(o["createVNode"])(Ft,{ref:"countDown",class:"icon-countDown",time:1e4,format:"sss",onFinish:r.onCountDownFinish},{default:Object(o["withCtx"])((function(e){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.seconds)+"s ",1)]})),_:1},8,["onFinish"]),Object(o["createVNode"])(Dt,{slippage:l.slippage,"onUpdate:slippage":t[0]||(t[0]=function(e){return l.slippage=e})},null,8,["slippage"]),r.tokenInfo.token&&r.tokenInfo.chain&&l.openLp&&r.isShow?(Object(o["openBlock"])(),Object(o["createElementBlock"])("svg",{key:0,class:"icon-svg icon-lang","aria-hidden":"true",onClick:t[1]||(t[1]=Object(o["withModifiers"])((function(){return r.goLiquidity&&r.goLiquidity.apply(r,arguments)}),["stop"]))},b)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("svg",{key:1,class:"icon-svg icon-lang","aria-hidden":"true",onClick:t[2]||(t[2]=Object(o["withModifiers"])((function(t){return e.$store.state.changeLangVisible=!0}),["stop"]))},[Object(o["createElementVNode"])("use",{"xlink:href":"#icon-".concat(e.$store.getters.language,"-o")},null,8,h)]))]),Object(o["createElementVNode"])("div",f,[Object(o["createElementVNode"])("div",v,[Object(o["createVNode"])(Pt,{"active-tab":l.activeTab,tabs:r.typeTabs,"onUpdate:activeTab":r.switchTab},null,8,["active-tab","tabs","onUpdate:activeTab"]),0===l.activeTab||1===l.activeTab?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Object(o["createVNode"])(Qt,{class:"swap-form",onSubmit:r.onSubmit,style:{"--van-cell-horizontal-padding":"0","--van-cell-vertical-padding":"0"}},{default:Object(o["withCtx"])((function(){var i,n,a,s,c,m,d,u,p,b,h,f,v,$;return[Object(o["createElementVNode"])("div",k,[Object(o["createElementVNode"])("div",g,[Object(o["createVNode"])(Ut,{tokens:r.swapTokens,token:l.token1,"onUpdate:token":[t[3]||(t[3]=function(e){return l.token1=e}),r.handleSelectToken1],chain:e.$store.getters.netId||(null===(i=e.$route.params)||void 0===i||null===(n=i.id)||void 0===n||null===(a=n.split)||void 0===a||null===(s=a.call(n,"-"))||void 0===s?void 0:s[1])||l.token1.chain||""},null,8,["tokens","token","chain","onUpdate:token"]),Object(o["createElementVNode"])("div",O,Object(o["toDisplayString"])(e.$t("balance"))+": "+Object(o["toDisplayString"])(e.$f.formatNumber2((null===(c=l.token1)||void 0===c?void 0:c.balance)||0)),1)]),Object(o["createElementVNode"])("div",j,[0===l.activeTab?(Object(o["openBlock"])(),Object(o["createBlock"])(Rt,{key:0,modelValue:l.toAmount,"onUpdate:modelValue":[t[4]||(t[4]=function(e){return l.toAmount=e}),r.watchToAmount],placeholder:"0.0",type:"number","input-align":"right",clearable:"",class:"input-number",onFocus:t[5]||(t[5]=function(t){return e.$refs.percentStep.handleClick(0,!0)})},null,8,["modelValue","onUpdate:modelValue"])):Object(o["createCommentVNode"])("",!0),1===l.activeTab?(Object(o["openBlock"])(),Object(o["createBlock"])(Rt,{key:1,modelValue:l.fromAmount,"onUpdate:modelValue":[t[6]||(t[6]=function(e){return l.fromAmount=e}),r.watchFromAmount],placeholder:"0.0",type:"number","input-align":"right",clearable:"",class:"input-number",onFocus:t[7]||(t[7]=function(t){return e.$refs.percentStep.handleClick(0,!0)})},null,8,["modelValue","onUpdate:modelValue"])):Object(o["createCommentVNode"])("",!0)])]),w,Object(o["createElementVNode"])("div",T,[Object(o["createElementVNode"])("div",y,[Object(o["createVNode"])(Ut,{tokens:r.swapTokens,token:l.token2,"onUpdate:token":[t[8]||(t[8]=function(e){return l.token2=e}),r.handleSelectToken2],chain:e.$store.getters.netId||(null===(m=e.$route.params)||void 0===m||null===(d=m.id)||void 0===d||null===(u=d.split)||void 0===u||null===(p=u.call(d,"-"))||void 0===p?void 0:p[1])||l.token2.chain||""},null,8,["tokens","token","chain","onUpdate:token"]),Object(o["createElementVNode"])("div",N,Object(o["toDisplayString"])(e.$t("balance"))+": "+Object(o["toDisplayString"])(e.$f.formatNumber2((null===(b=l.token2)||void 0===b?void 0:b.balance)||0)),1)]),Object(o["createElementVNode"])("div",V,[1===l.activeTab?(Object(o["openBlock"])(),Object(o["createBlock"])(Rt,{key:0,modelValue:l.toAmount,"onUpdate:modelValue":[t[9]||(t[9]=function(e){return l.toAmount=e}),r.watchToAmount],placeholder:"0.0",type:"number","input-align":"right",clearable:"",class:"input-number",onFocus:t[10]||(t[10]=function(t){return e.$refs.percentStep.handleClick(0,!0)})},null,8,["modelValue","onUpdate:modelValue"])):Object(o["createCommentVNode"])("",!0),0===l.activeTab?(Object(o["openBlock"])(),Object(o["createBlock"])(Rt,{key:1,modelValue:l.fromAmount,"onUpdate:modelValue":[t[11]||(t[11]=function(e){return l.fromAmount=e}),r.watchFromAmount],placeholder:"0.0",type:"number","input-align":"right",clearable:"",class:"input-number",onFocus:t[12]||(t[12]=function(t){return e.$refs.percentStep.handleClick(0,!0)})},null,8,["modelValue","onUpdate:modelValue"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(Mt,{ref:"percentStep",onChange:r.handlePercentChange,activeColor:0===l.activeTab?e.$store.getters.upColor[3]:e.$store.getters.downColor[3]},null,8,["onChange","activeColor"]),r.isApprove?(Object(o["openBlock"])(),Object(o["createBlock"])(zt,{key:1,class:"submit-btn",block:"",loading:l.loadingSwap||l.quoteLoading,"loading-text":l.loadingSwap?e.$t("buying"):e.$t("quoting"),color:r.swapButtonColor,disabled:(null===(v=r.priceImpactV)||void 0===v||null===($=v.gt)||void 0===$?void 0:$.call(v,.4))||!r.checkAmount()||!l.fromAmount||!l.toAmount,"native-type":"submit"},{default:Object(o["withCtx"])((function(){var t,i,n,a,s;return[Number(0===!r.fromToken.balance||Number(r.fromToken.balance)<Number(At.fromAmount)||""===e.$store.state.wallet)?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",S,Object(o["toDisplayString"])(r.checkAmountMessage()),1)):null!==(t=r.priceImpactV)&&void 0!==t&&null!==(i=t.gt)&&void 0!==i&&i.call(t,.4)?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",_,Object(o["toDisplayString"])(e.$t("priceImpactTooHigh")),1)):(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:2},[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(null!==(n=r.priceImpactV)&&void 0!==n&&null!==(a=n.gt)&&void 0!==a&&a.call(n,.1)?0===l.activeTab?e.$t("buyAnyway"):e.$t("sellAnyway"):0===l.activeTab?e.$t("buy"):e.$t("sell"))+" "+Object(o["toDisplayString"])((null===(s=l.token1)||void 0===s?void 0:s.symbol)||""),1),r.taxStr?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",E,Object(o["toDisplayString"])(r.taxStr),1)):Object(o["createCommentVNode"])("",!0)],64))]})),_:1},8,["loading","loading-text","color","disabled"])):(Object(o["openBlock"])(),Object(o["createBlock"])(zt,{key:0,class:"submit-btn",block:"",color:r.swapButtonColor,"native-type":"submit","loading-text":l.quoteLoading?e.$t("quoting"):l.loadingApprove?e.$t("approve"):"",loading:l.loadingApprove||l.loadingSwap||l.quoteLoading,disabled:(null===(h=r.priceImpactV)||void 0===h||null===(f=h.gt)||void 0===f?void 0:f.call(h,.4))||!r.checkAmount()||!l.fromAmount||!l.toAmount},{default:Object(o["withCtx"])((function(){var t,i;return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(Number(0===!r.fromToken.balance||Number(r.fromToken.balance)<Number(At.fromAmount)||""===e.$store.state.wallet)?null!==(t=r.priceImpactV)&&void 0!==t&&null!==(i=t.gt)&&void 0!==i&&i.call(t,.4)?e.$t("priceImpactTooHigh"):r.checkAmountMessage():e.$t("approve")),1)]})),_:1},8,["color","loading-text","loading","disabled"]))]})),_:1},8,["onSubmit"]),l.isTaxHigh?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",$,Object(o["toDisplayString"])(e.$t("taxTooHigh")),1)):Object(o["createCommentVNode"])("",!0),l.isCannotSellAll?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",x,Object(o["toDisplayString"])(e.$t("cannotSellAll")),1)):Object(o["createCommentVNode"])("",!0)],64)):Object(o["createCommentVNode"])("",!0),2===l.activeTab?(Object(o["openBlock"])(),Object(o["createBlock"])(Qt,{key:1,class:"swap-form",onSubmit:r.onLimitSubmit,style:{"--van-cell-horizontal-padding":"0","--van-cell-vertical-padding":"0"}},{default:Object(o["withCtx"])((function(){var i,n,a,s,c,m,d,u,p,b;return[Object(o["createElementVNode"])("div",B,[l.isLimitBaseToken?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",C,Object(o["toDisplayString"])(e.$t("targetToken")),1)),Object(o["createElementVNode"])("div",A,[Object(o["createVNode"])(Ut,{tokens:r.swapTokens,token:l.limitToToken,"onUpdate:token":[t[13]||(t[13]=function(e){return l.limitToToken=e}),r.handleSelectLimitToToken],chain:e.$store.getters.netId||(null===(i=e.$route.params)||void 0===i||null===(n=i.id)||void 0===n||null===(a=n.split)||void 0===a||null===(s=a.call(n,"-"))||void 0===s?void 0:s[1])||l.limitToToken.chain||""},null,8,["tokens","token","chain","onUpdate:token"]),Object(o["createElementVNode"])("div",I,Object(o["toDisplayString"])(e.$t("balance"))+": "+Object(o["toDisplayString"])(e.$f.formatNumber2((null===(c=l.limitToToken)||void 0===c?void 0:c.balance)||0)),1)]),Object(o["createElementVNode"])("div",L,[Object(o["createVNode"])(Rt,{modelValue:l.limitToAmount,"onUpdate:modelValue":[t[14]||(t[14]=function(e){return l.limitToAmount=e}),r.watchLimitToAmount],placeholder:"0.0",type:"number","input-align":"right",clearable:"",class:"input-number",onFocus:t[15]||(t[15]=function(t){return e.$refs.percentStep1.handleClick(0,!0)})},null,8,["modelValue","onUpdate:modelValue"])])]),Object(o["createElementVNode"])("div",F,[Object(o["createElementVNode"])("div",{class:"switch-box",onClick:t[16]||(t[16]=Object(o["withModifiers"])((function(){return r.switchLimitToken&&r.switchLimitToken.apply(r,arguments)}),["stop"]))},P)]),U,Object(o["createElementVNode"])("div",R,[l.isLimitBaseToken?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",M,Object(o["toDisplayString"])(e.$t("targetToken")),1)):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",z,[Object(o["createVNode"])(Ut,{tokens:r.swapTokens,token:l.limitFromToken,"onUpdate:token":[t[17]||(t[17]=function(e){return l.limitFromToken=e}),r.handleSelectLimitFromToken],chain:e.$store.getters.netId||(null===(m=e.$route.params)||void 0===m||null===(d=m.id)||void 0===d||null===(u=d.split)||void 0===u||null===(p=u.call(d,"-"))||void 0===p?void 0:p[1])||l.limitFromToken.chain||""},null,8,["tokens","token","chain","onUpdate:token"]),Object(o["createElementVNode"])("div",Q,Object(o["toDisplayString"])(e.$t("balance"))+": "+Object(o["toDisplayString"])(e.$f.formatNumber2((null===(b=l.limitFromToken)||void 0===b?void 0:b.balance)||0)),1)]),Object(o["createElementVNode"])("div",q,[Object(o["createVNode"])(Rt,{modelValue:l.limitFromAmount,"onUpdate:modelValue":[t[18]||(t[18]=function(e){return l.limitFromAmount=e}),r.watchLimitFromAmount],placeholder:"0.0",type:"number","input-align":"right",clearable:"",class:"input-number",onFocus:t[19]||(t[19]=function(t){return e.$refs.percentStep1.handleClick(0,!0)})},null,8,["modelValue","onUpdate:modelValue"])])]),Object(o["createVNode"])(Mt,{ref:"percentStep1",onChange:r.handlePercentChange1,activeColor:"#3F80F7"},null,8,["onChange"]),Object(o["createElementVNode"])("div",W,Object(o["toDisplayString"])(e.$t("delegatePrice"))+"("+Object(o["toDisplayString"])(l.isLimitBaseToken?l.limitFromToken.symbol:l.limitToToken.symbol)+")",1),Object(o["createElementVNode"])("div",H,[Object(o["createElementVNode"])("button",{class:"limit-price-icon",type:"button",onClick:t[20]||(t[20]=Object(o["withModifiers"])((function(){return r.minusLimitPrice&&r.minusLimitPrice.apply(r,arguments)}),["stop"])),disabled:!Number(l.limitPrice)},[Object(o["createVNode"])(qt,{name:"minus"})],8,J),Object(o["createVNode"])(Rt,{modelValue:l.limitPrice,"onUpdate:modelValue":[t[21]||(t[21]=function(e){return l.limitPrice=e}),r.watchLimitPrice],placeholder:"0.0",label:"$",type:"number","input-align":"left","label-align":"right","label-width":"0.2rem",clearable:"",class:"input-number",border:!1,style:{"--van-field-label-margin-right":"0.1rem"}},null,8,["modelValue","onUpdate:modelValue"]),Object(o["createElementVNode"])("button",{class:"limit-price-icon",type:"button",onClick:t[22]||(t[22]=Object(o["withModifiers"])((function(){return r.addLimitPrice&&r.addLimitPrice.apply(r,arguments)}),["stop"])),disabled:!Number(l.limitPrice)},[Object(o["createVNode"])(qt,{name:"plus"})],8,G)]),r.isLimitApprove?(Object(o["openBlock"])(),Object(o["createBlock"])(zt,{key:1,class:"submit-btn",block:"",loading:l.loadingLimit,"loading-text":l.loadingLimit?e.$t("buying"):e.$t("quoting"),color:"#558BED",disabled:!r.checkLimitAmount()||!l.limitFromAmount||!l.limitToAmount,"native-type":"submit"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(Number(0===!l.limitFromToken.balance||Number(l.limitFromToken.balance)<Number(At.limitFromAmount)||""===e.$store.state.wallet)?r.checkLimitAmountMessage():e.$t("submitOrder")),1)]})),_:1},8,["loading","loading-text","disabled"])):(Object(o["openBlock"])(),Object(o["createBlock"])(zt,{key:0,class:"submit-btn",block:"",color:r.swapButtonColor,"native-type":"submit","loading-text":l.quoteLimitLoading?e.$t("quoting"):l.loadingLimitApprove?e.$t("approve"):"",loading:l.loadingLimitApprove||l.loadingLimit||l.quoteLimitLoading,disabled:!r.checkLimitAmount()||!l.limitFromAmount||!l.limitToAmount},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(Number(0===!l.limitFromToken.balance||Number(l.limitFromToken.balance)<Number(At.limitFromAmount)||""===e.$store.state.wallet)?r.checkLimitAmountMessage():e.$t("approve")),1)]})),_:1},8,["color","loading-text","loading","disabled"]))]})),_:1},8,["onSubmit"])):Object(o["createCommentVNode"])("",!0)],512),Y,Object(o["createElementVNode"])("div",{class:"swap-content_right",style:Object(o["normalizeStyle"])({"max-height":l.height/50+"rem"})},[Object(o["createElementVNode"])("div",X,[Object(o["createElementVNode"])("div",K,[Object(o["createVNode"])(Wt,{round:"",width:"0.36rem",height:"0.36rem","icon-size":"0.36rem","lazy-load":"","show-loading":"",src:null!==(s=e.$route.params)&&void 0!==s&&null!==(c=s.id)&&void 0!==c&&c.includes(l.nativeToken)?null===(m=l.baseToken)||void 0===m||null===(p=m.token)||void 0===p?void 0:p.logoURI:e.$f.formatIcon(e.$route.params.id),"error-icon":i("aecc")},null,8,["src","error-icon"]),null!==(D=l.baseToken)&&void 0!==D&&null!==(Re=D.token)&&void 0!==Re&&Re.chain?(Object(o["openBlock"])(),Object(o["createElementBlock"])("img",{key:0,class:"icon-svg icon-network",style:{"font-size":"0.24rem"},src:"https://avesp.xyz/oss/chain/".concat(null===(Me=l.baseToken)||void 0===Me||null===(ze=Me.token)||void 0===ze?void 0:ze.chain,".png"),alt:"",srcset:""},null,8,Z)):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("span",ee,Object(o["toDisplayString"])((null===(Qe=l.baseToken)||void 0===Qe||null===(qe=Qe.token)||void 0===qe?void 0:qe.symbol)||""),1),r.tokenInfo.token&&r.tokenInfo.chain&&l.openLp&&r.isShow?(Object(o["openBlock"])(),Object(o["createBlock"])(zt,{key:0,icon:"plus",type:"primary",plain:"",round:"",size:"mini",style:{"--van-padding-base":"0"},onClick:Object(o["withModifiers"])(r.goLiquidity,["stop"])},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("liquidity")),1)]})),_:1},8,["onClick"])):Object(o["createCommentVNode"])("",!0)]),Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("div",te,[Object(o["createElementVNode"])("div",null," $"+Object(o["toDisplayString"])(e.$f.formatNumber2((null===(We=l.baseToken)||void 0===We||null===(He=We.token)||void 0===He?void 0:He.current_price_usd)||0)),1),Object(o["createElementVNode"])("div",{style:Object(o["normalizeStyle"])({color:(null===(Je=l.baseToken)||void 0===Je||null===(Ge=Je.token)||void 0===Ge?void 0:Ge.price_change)<0?"var(--downColor)":"var(--upColor)"})},[(null===(Ye=l.baseToken)||void 0===Ye||null===(Xe=Ye.token)||void 0===Xe?void 0:Xe.price_change)>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[ie],64)):Object(o["createCommentVNode"])("",!0),Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$f.formatNumber2((null===(Ke=l.baseToken)||void 0===Ke||null===(Ze=Ke.token)||void 0===Ze?void 0:Ze.price_change)||0,2))+"% ",1)],4)])),[[li,null===(et=l.baseToken)||void 0===et||null===(tt=et.token)||void 0===tt?void 0:tt.current_price_usd,"animation-bg"]]),Object(o["createVNode"])(Ht,{dataX:l.dataX,dataY:l.dataY},null,8,["dataX","dataY"]),Object(o["createElementVNode"])("table",oe,[Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("th",null,Object(o["toDisplayString"])(e.$t("pool1")),1),Object(o["createElementVNode"])("th",null,Object(o["toDisplayString"])(e.$t("amount")),1)]),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(null===(it=l.baseToken)||void 0===it||null===(ot=it.pairs)||void 0===ot?void 0:ot.slice(0,2),(function(t,i){return Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",{key:i},[Object(o["createElementVNode"])("td",null,[Object(o["createElementVNode"])("div",null,Object(o["toDisplayString"])(t.target_token===t.token0_address?t.token0_symbol:t.token1_symbol),1),Object(o["createElementVNode"])("div",null,Object(o["toDisplayString"])(t.target_token===t.token0_address?t.token1_symbol:t.token0_symbol),1)]),Object(o["createElementVNode"])("td",null,[Object(o["createElementVNode"])("div",null,Object(o["toDisplayString"])(e.$f.formatNumber2(t.target_token===t.token0_address?t.reserve0:t.reserve1)),1),Object(o["createElementVNode"])("div",null,Object(o["toDisplayString"])(e.$f.formatNumber2(t.target_token===t.token0_address?t.reserve1:t.reserve0)),1)])])),[[li,t.target_token===t.token0_address?t.token0_price_usd:t.token1_price_usd,"animation-bg"]])})),128)),(null===(nt=l.baseToken)||void 0===nt||null===(at=nt.pairs)||void 0===at?void 0:at.length)>2&&l.isPairShowMore?(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],{key:0},Object(o["renderList"])(null===(lt=l.baseToken)||void 0===lt||null===(rt=lt.pairs)||void 0===rt?void 0:rt.slice(2),(function(t,i){return Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",{key:i},[Object(o["createElementVNode"])("td",null,[Object(o["createElementVNode"])("div",null,Object(o["toDisplayString"])(t.target_token===t.token0_address?t.token0_symbol:t.token1_symbol),1),Object(o["createElementVNode"])("div",null,Object(o["toDisplayString"])(t.target_token===t.token0_address?t.token1_symbol:t.token0_symbol),1)]),Object(o["createElementVNode"])("td",null,[Object(o["createElementVNode"])("div",null,Object(o["toDisplayString"])(e.$f.formatNumber2(t.target_token===t.token0_address?t.reserve0:t.reserve1)),1),Object(o["createElementVNode"])("div",null,Object(o["toDisplayString"])(e.$f.formatNumber2(t.target_token===t.token0_address?t.reserve1:t.reserve0)),1)])])),[[li,t.target_token===t.token0_address?t.token0_price_usd:t.token1_price_usd,"animation-bg"]])})),128)):Object(o["createCommentVNode"])("",!0)]),Object(o["withDirectives"])(Object(o["createElementVNode"])("div",{class:"btn-more",onClick:t[23]||(t[23]=Object(o["withModifiers"])((function(e){return l.isPairShowMore=!0}),["stop"]))},[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("viewMore")),1),Object(o["createVNode"])(qt,{name:"arrow-down"})],512),[[o["vShow"],!l.isPairShowMore&&(null===(st=l.baseToken)||void 0===st||null===(ct=st.pairs)||void 0===ct?void 0:ct.length)>2]]),Object(o["withDirectives"])(Object(o["createElementVNode"])("div",{class:"btn-more",onClick:t[24]||(t[24]=Object(o["withModifiers"])((function(e){return l.isPairShowMore=!1}),["stop"]))},[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("putAway")),1),Object(o["createVNode"])(qt,{name:"arrow-up"})],512),[[o["vShow"],l.isPairShowMore&&(null===(mt=l.baseToken)||void 0===mt||null===(dt=mt.pairs)||void 0===dt?void 0:dt.length)>2]])],4)]),0===l.activeTab||1===l.activeTab?(Object(o["openBlock"])(),Object(o["createElementBlock"])("ul",ne,[null!==(ut=l.swapQuoteInfo)&&void 0!==ut&&ut.isAmountOut?(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",re,[Object(o["createElementVNode"])("div",se,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("maximumReceived")),1),Object(o["createElementVNode"])("i",{class:"iconfont icon-changjianwentixiangguanwenti",onClick:t[26]||(t[26]=Object(o["withModifiers"])((function(t){return r.alertTips(e.$t("maximumReceived"),e.$t("slippageTips"))}),["stop"]))})]),Object(o["createElementVNode"])("div",null,Object(o["toDisplayString"])(e.$f.formatNumber2(r.maxSold))+" "+Object(o["toDisplayString"])((null===(vt=l.swapQuoteInfo)||void 0===vt||null===(kt=vt.routerPath)||void 0===kt||null===(gt=kt[0])||void 0===gt?void 0:gt.symbol)||""),1)])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",ae,[Object(o["createElementVNode"])("div",le,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("minimumReceived")),1),Object(o["createElementVNode"])("i",{class:"iconfont icon-changjianwentixiangguanwenti",onClick:t[25]||(t[25]=Object(o["withModifiers"])((function(t){return r.alertTips(e.$t("minimumReceived"),e.$t("slippageTips"))}),["stop"]))})]),Object(o["createElementVNode"])("div",null,Object(o["toDisplayString"])(e.$f.formatNumber2(r.minReceived))+" "+Object(o["toDisplayString"])((null===(pt=l.swapQuoteInfo)||void 0===pt||null===(bt=pt.routerPath)||void 0===bt||null===(ht=bt[(null===(ft=l.swapQuoteInfo)||void 0===ft?void 0:ft.routerPath.length)-1])||void 0===ht?void 0:ht.symbol)||""),1)])),Object(o["createElementVNode"])("li",null,[Object(o["createElementVNode"])("div",ce,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("priceImpact")),1),Object(o["createElementVNode"])("i",{class:"iconfont icon-changjianwentixiangguanwenti",onClick:t[27]||(t[27]=Object(o["withModifiers"])((function(t){return r.alertTips(e.$t("priceImpact"),e.$t("priceImpactTips"))}),["stop"]))})]),Object(o["createElementVNode"])("div",{style:Object(o["normalizeStyle"])({color:r.priceImpactColor})},Object(o["toDisplayString"])(r.priceImpact)+Object(o["toDisplayString"])(null!==(Ot=r.priceImpactV)&&void 0!==Ot&&null!==(jt=Ot.gt)&&void 0!==jt&&jt.call(Ot,.05)?"(".concat(e.$t("excessivePriceImpact"),")"):""),5)]),Object(o["createElementVNode"])("li",null,[Object(o["createElementVNode"])("div",me,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("tokenRoute")),1),Object(o["createElementVNode"])("i",{class:"iconfont icon-changjianwentixiangguanwenti",onClick:t[28]||(t[28]=Object(o["withModifiers"])((function(t){return r.alertTips(e.$t("tokenRoute"),e.$t("tokenRouteTips"))}),["stop"]))})]),1===(null===(wt=l.swapQuoteInfo)||void 0===wt?void 0:wt.toWrapper)||2===(null===(Tt=l.swapQuoteInfo)||void 0===Tt?void 0:Tt.toWrapper)?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",de,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(l.swapRouterPath,(function(e,t){return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:t},[0!==t?(Object(o["openBlock"])(),Object(o["createElementBlock"])("img",ue)):Object(o["createCommentVNode"])("",!0),e.symbol?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",pe,Object(o["toDisplayString"])(e.symbol),1)):Object(o["createCommentVNode"])("",!0)],64)})),128))])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:1,class:"path-list clickable",onClick:t[29]||(t[29]=Object(o["withModifiers"])((function(e){return l.dialogListRouterVisible=!0}),["stop","prevent"]))},[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(l.swapRouterPath,(function(e,t){return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:t},[e.symbol?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",be,Object(o["toDisplayString"])(e.symbol),1)):Object(o["createCommentVNode"])("",!0),e.nextAmm&&"unknown"!==e.nextAmm?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",he,[Object(o["createVNode"])(Wt,{class:"icon-amm-logo","lazy-load":"","show-loading":"",round:"",src:"https://www.avestorage.cloud/swap/".concat(e.nextAmm,".jpeg"),"error-icon":i("aecc")},null,8,["src","error-icon"]),fe])):Object(o["createCommentVNode"])("",!0)],64)})),128)),l.listRouter.length>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("i",ve)):Object(o["createCommentVNode"])("",!0)]))])])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",ke,[Object(o["createElementVNode"])("div",ge,[Object(o["createVNode"])(Gt,{active:l.tabActive1,"onUpdate:active":t[30]||(t[30]=function(e){return l.tabActive1=e}),shrink:"",color:"#558BED",style:{"--van-tabs-nav-background-color":"#fff"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(Jt,{name:"swap",title:e.$t("historyExchange")},null,8,["title"]),Object(o["createVNode"])(Jt,{name:"limit",title:e.$t("historyLimitOrder")},null,8,["title"])]})),_:1},8,["active"]),Oe,Object(o["createVNode"])(Yt,{modelValue:l.isCurrentToken,"onUpdate:modelValue":t[31]||(t[31]=function(e){return l.isCurrentToken=e}),"icon-size":"0.32rem"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("currentToken")),1)]})),_:1},8,["modelValue"]),"limit"===l.tabActive1?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[l.loadingGetLimitOrder?(Object(o["openBlock"])(),Object(o["createBlock"])(Xt,{key:0,size:"0.4rem",style:{"margin-left":"0.36rem"}})):(Object(o["openBlock"])(),Object(o["createElementBlock"])("i",{key:1,class:"iconfont icon-shuaxin",onClick:t[32]||(t[32]=Object(o["withModifiers"])((function(){return r.getLimitOrder&&r.getLimitOrder.apply(r,arguments)}),["stop"]))}))],64)):Object(o["createCommentVNode"])("",!0)]),"swap"===l.tabActive1?(Object(o["openBlock"])(),Object(o["createElementBlock"])("ul",je,[(null===(yt=r.txs)||void 0===yt?void 0:yt.length)>0?(Object(o["openBlock"])(),Object(o["createBlock"])(ei,{key:0,items:r.txs,"min-item-size":200,"key-field":"id","page-mode":"",buffer:1e3,class:"scroller"},{default:Object(o["withCtx"])((function(e){var t=e.item,i=e.index,n=e.active;return[Object(o["createVNode"])(Zt,{item:t,active:n,"data-index":i},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(Kt,{item:t},null,8,["item"])]})),_:2},1032,["item","active","data-index"])]})),_:1},8,["items"])):Object(o["createCommentVNode"])("",!0),Object(o["withDirectives"])(Object(o["createVNode"])(ti,{class:"empty",image:e.emptyNoDataLight,description:e.$t("empty")},null,8,["image","description"]),[[o["vShow"],r.txs&&0===r.txs.length]])])):Object(o["createCommentVNode"])("",!0),"limit"===l.tabActive1?(Object(o["openBlock"])(),Object(o["createElementBlock"])("ul",we,[(null===(Nt=r.filterLimitOrders)||void 0===Nt?void 0:Nt.length)>0?(Object(o["openBlock"])(),Object(o["createBlock"])(ei,{key:0,items:r.filterLimitOrders,"min-item-size":200,"key-field":"id","page-mode":"",buffer:1e3,class:"scroller"},{default:Object(o["withCtx"])((function(e){var t=e.item,i=e.index,n=e.active;return[Object(o["createVNode"])(Zt,{item:t,active:n,"data-index":i},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(ii,{item:t,onRefresh:r.getLimitOrder},null,8,["item","onRefresh"])]})),_:2},1032,["item","active","data-index"])]})),_:1},8,["items"])):Object(o["createCommentVNode"])("",!0),Object(o["withDirectives"])(Object(o["createVNode"])(ti,{class:"empty",image:e.emptyNoDataLight,description:e.$t("empty")},null,8,["image","description"]),[[o["vShow"],r.filterLimitOrders&&0===r.filterLimitOrders.length]])])):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("div",Te,[Object(o["createElementVNode"])("div",{class:"section-audit",onClick:t[33]||(t[33]=Object(o["withModifiers"])((function(){return r.goAudit&&r.goAudit.apply(r,arguments)}),["stop"]))},[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("securityAudit"))+": ",1),ye]),Object(o["createElementVNode"])("div",{class:"section-audit",onClick:t[34]||(t[34]=Object(o["withModifiers"])((function(t){return e.$f.openBrowser("https://jfswap.com")}),["stop"]))},[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("supported"))+": ",1),Ne])])],4),Object(o["createVNode"])(oi,{visible:l.dialogVisibleSwap,"onUpdate:visible":t[35]||(t[35]=function(e){return l.dialogVisibleSwap=e}),swapInfo:l.swapInfo,slippage:l.slippage,onSubmit:r.submitSwap,loading:l.loadingConfirmSwap,chain:e.$store.getters.netId||(null===(Vt=e.$route.params)||void 0===Vt||null===(St=Vt.id)||void 0===St||null===(_t=St.split)||void 0===_t||null===(Et=_t.call(St,"-"))||void 0===Et?void 0:Et[1])||"",nativePrice:l.nativePrice,gasPrice:l.gasPrice},null,8,["visible","swapInfo","slippage","onSubmit","loading","chain","nativePrice","gasPrice"]),Object(o["createVNode"])(ni,{visible:l.dialogVisibleLimit,"onUpdate:visible":t[36]||(t[36]=function(e){return l.dialogVisibleLimit=e}),limitInfo:l.limitInfo,onSubmit:r.submitLimitOrder,loading:l.loadingConfirmLimit,chain:e.$store.getters.netId||(null===($t=e.$route.params)||void 0===$t||null===(xt=$t.id)||void 0===xt||null===(Bt=xt.split)||void 0===Bt||null===(Ct=Bt.call(xt,"-"))||void 0===Ct?void 0:Ct[1])||""},null,8,["visible","limitInfo","onSubmit","loading","chain"]),Object(o["createVNode"])(ai,{show:l.dialogListRouterVisible,"onUpdate:show":t[37]||(t[37]=function(e){return l.dialogListRouterVisible=e}),title:e.$t("selectRouter"),style:{height:"60%","--van-popup-background-color":"#fff"}},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("ul",Ve,[Object(o["createElementVNode"])("li",Se,[Object(o["createElementVNode"])("span",_e,Object(o["toDisplayString"])(e.$t("router")),1),Object(o["createElementVNode"])("span",Ee,Object(o["toDisplayString"])(l.isAmount?e.$t("expectedAmount"):e.$t("expectedPay")),1),Object(o["createElementVNode"])("span",$e,Object(o["toDisplayString"])(e.$t("priceImpact")),1),xe]),Object(o["withDirectives"])(Object(o["createVNode"])(ti,{description:e.$t("emptyData"),class:"empty"},null,8,["description"]),[[o["vShow"],l.listRouter&&0===l.listRouter.length]]),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(l.listRouter,(function(t,n){return Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{key:n,class:"token-item",onClick:Object(o["withModifiers"])((function(e){return r.getSelectedRouter(n)}),["stop"])},[Object(o["createElementVNode"])("div",Ce,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(t,(function(e,t){return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:t},[e.symbol?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",Ae,Object(o["toDisplayString"])(e.symbol),1)):Object(o["createCommentVNode"])("",!0),e.nextAmm&&"unknown"!==e.nextAmm?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ie,[Object(o["createVNode"])(Wt,{class:"icon-amm-logo","lazy-load":"","show-loading":"",round:"",src:"https://www.avestorage.cloud/swap/".concat(e.nextAmm,".jpeg"),"error-icon":i("aecc")},null,8,["src","error-icon"]),Le])):Object(o["createCommentVNode"])("",!0)],64)})),128)),0===n?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Fe,Object(o["toDisplayString"])(e.$t("best")),1)):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("span",De,Object(o["toDisplayString"])(e.$f.formatNumber2(t.amount)),1),t.priceImpact<10?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",{key:0,class:"right-label flex-1",style:Object(o["normalizeStyle"])({color:r.formatPriceImpactColor(t.priceImpact)})},[Number(t.priceImpact)<.01?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Pe],64)):(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:1},[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$f.formatNumber2(t.priceImpact,2))+"% ",1)],64))],4)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",{key:1,class:"right-label flex-1",style:Object(o["normalizeStyle"])({color:r.formatPriceImpactColor(t.priceImpact)})},[Number(t.priceImpact)>40?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Ue],64)):(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:1},[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$f.formatNumber2(t.priceImpact,2))+"% ",1)],64))],4)),l.selectedRouterIndex===n?(Object(o["openBlock"])(),Object(o["createBlock"])(qt,{key:2,size:"0.32rem",color:"#558BED",name:"success"})):(Object(o["openBlock"])(),Object(o["createBlock"])(qt,{key:3,style:{opacity:"0"},size:"0.32rem",color:"#558BED",name:"success"}))],8,Be)})),128))])]})),_:1},8,["show","title"])],64)}var Me=i("1da1"),ze=i("5530"),Qe=i("2909"),qe=i("3835"),We=(i("96cf"),i("b0c0"),i("b680"),i("4de4"),i("d3b7"),i("99af"),i("159b"),i("7db0"),i("d81d"),i("c740"),i("b65f"),i("5319"),i("466d"),i("4d63"),i("c607"),i("2c3e"),i("25f0"),i("00b4"),i("3ca3"),i("ddb0"),i("e9c4"),i("b64b"),i("a15b"),{class:"notice-container"}),He={class:"notice-text"};function Je(e,t,i,n,a,l){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",We,[Object(o["createElementVNode"])("div",He,[Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])(a.isShow?"":"van-ellipsis"),style:{flex:"1"}},[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("swapNotice"))+" ",1),Object(o["createElementVNode"])("span",{class:"clickable",onClick:t[0]||(t[0]=Object(o["withModifiers"])((function(e){return a.isShow=!a.isShow}),["stop"]))},Object(o["toDisplayString"])(e.$t("less")),1)],2),a.isShow?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",{key:0,class:"clickable",onClick:t[1]||(t[1]=Object(o["withModifiers"])((function(e){return a.isShow=!a.isShow}),["stop"]))},Object(o["toDisplayString"])(e.$t("more")),1))])])}var Ge={name:"SwapNotice",data:function(){return{isShow:!1}}},Ye=(i("37be"),i("6b0d")),Xe=i.n(Ye);const Ke=Xe()(Ge,[["render",Je],["__scopeId","data-v-42589603"]]);var Ze=Ke,et=function(e){return Object(o["pushScopeId"])("data-v-2644cf5a"),e=e(),Object(o["popScopeId"])(),e},tt={class:"popup-title"},it={class:"slippage-label"},ot={style:{width:"100%"}},nt={class:"radio-group"},at={key:0,style:{flex:"1"}},lt=["id","value"],rt=["for"],st={class:"slippage-input"},ct=et((function(){return Object(o["createElementVNode"])("span",null,"%",-1)})),mt={class:"form-submit"};function dt(e,t,i,n,a,l){var r=this,s=Object(o["resolveComponent"])("van-field"),c=Object(o["resolveComponent"])("van-button"),m=Object(o["resolveComponent"])("van-form"),d=Object(o["resolveComponent"])("van-popup");return Object(o["openBlock"])(),Object(o["createBlock"])(d,{show:l.dialogVisible,"onUpdate:show":t[4]||(t[4]=function(e){return l.dialogVisible=e}),class:"popup-container",closeable:!0,"close-on-click-overlay":!1,"close-on-popstate":!1,round:"",position:"center",teleport:"#app",style:{width:"90%","min-height":"20vh"}},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("h3",tt,Object(o["toDisplayString"])(e.$t("setSlippage")),1),Object(o["createVNode"])(m,{class:"popup-content",onSubmit:l.confirmSubmit},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",it,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("slippage")),1),Object(o["createElementVNode"])("i",{class:"iconfont icon-changjianwentixiangguanwenti",onClick:t[0]||(t[0]=Object(o["withModifiers"])((function(){return l.openSlippageTips&&l.openSlippageTips.apply(l,arguments)}),["stop"])),style:{"font-size":"0.38rem","margin-left":"0.05rem",color:"#558BED"}})]),Object(o["createVNode"])(s,{name:"slippage",modelValue:a.slippage,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.slippage=e}),label:"",style:{"--van-cell-horizontal-padding":"0"},rules:[{required:!0,message:r.$t("enterSlippage")},{validator:l.validator,message:r.$t("slippageMaxTip")}],border:!1},{input:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",ot,[Object(o["createElementVNode"])("div",nt,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(a.slippageList,(function(e,i){return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:i},[0!==i?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",at)):Object(o["createCommentVNode"])("",!0),Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"radio",id:"radio-".concat(e),"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.slippage=e}),value:e,class:"radio-input"},null,8,lt),[[o["vModelRadio"],a.slippage]]),Object(o["createElementVNode"])("label",{for:"radio-".concat(e),class:"radio-item"},Object(o["toDisplayString"])(e)+"%",9,rt)],64)})),128))]),Object(o["createElementVNode"])("div",st,[Object(o["createVNode"])(s,{class:"input",name:"slippage",type:"number",min:"0",max:"49.99",modelValue:a.slippage,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.slippage=e}),onBlur:l.handleBlur,clearable:""},null,8,["modelValue","onBlur"]),ct])])]})),_:1},8,["modelValue","rules"]),Object(o["createElementVNode"])("div",mt,[Object(o["createVNode"])(c,{class:"btn",block:"",round:"","native-type":"submit",size:"normal",type:"primary"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("confirm1")),1)]})),_:1})])]})),_:1},8,["onSubmit"])]})),_:1},8,["show"])}var ut={name:"Slippage",props:{visible:Boolean,initSlippage:String},emits:["update:visible","onSubmit"],data:function(){return{slippageList:["0.1","0.5","1"],slippage:this.initSlippage||"1"}},computed:{dialogVisible:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}}},methods:{confirmSubmit:function(){this.$emit("onSubmit",this.slippage),console.log("slippage",this.slippage)},openSlippageTips:function(){this.$dialog.alert({title:this.$t("slippage"),message:this.$t("slippageTips"),confirmButtonText:this.$t("iKnown"),confirmButtonColor:"#558BED",messageAlign:"left"}).then((function(){}))},handleBlur:function(){this.slippage&&Number(this.slippage)<0&&(this.slippage=0)},validator:function(e){return Number(e)<=49.99}}};i("f37e");const pt=Xe()(ut,[["render",dt],["__scopeId","data-v-2644cf5a"]]);var bt=pt,ht={key:0,class:"gap"},ft=["id","value"],vt=["for"];function kt(e,t,i,n,a,l){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"tabs",style:Object(o["normalizeStyle"])({"--tab-active-color":i.activeColor||"#fff","--tab-active-bgColor":i.activeBgColor||"#3F80F7","--tab-gap":i.gap||"0.16rem"})},[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(l.newTabs,(function(e,i){return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:i},[0!==i?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",ht)):Object(o["createCommentVNode"])("",!0),Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"radio",id:e.id,"onUpdate:modelValue":t[0]||(t[0]=function(e){return l.tabActive=e}),value:e.value||e.name,class:"tab-radio-input"},null,8,ft),[[o["vModelRadio"],l.tabActive]]),Object(o["createElementVNode"])("label",{for:e.id,class:"tab-item"},Object(o["toDisplayString"])(e.name),9,vt)],64)})),128))],4)}var gt=i("ec26"),Ot={name:"RTabs",props:{tabs:Array,active:String,activeColor:String,activeBgColor:String,gap:String},emits:["update:active"],data:function(){return{}},computed:{tabActive:{get:function(){return this.active},set:function(e){this.$emit("update:active",e)}},newTabs:function(){return this.tabs.map((function(e){return Object(ze["a"])(Object(ze["a"])({},e),{},{id:"tab-item-"+Object(gt["a"])()})}))}},methods:{}};i("e7b0");const jt=Xe()(Ot,[["render",kt],["__scopeId","data-v-56f8a46c"]]);var wt=jt,Tt=function(e){return Object(o["pushScopeId"])("data-v-b557f64c"),e=e(),Object(o["popScopeId"])(),e},yt={key:0,class:"gap"},Nt=["onClick"],Vt=Tt((function(){return Object(o["createElementVNode"])("div",{class:"bar"},null,-1)})),St={class:"text"};function _t(e,t,i,n,a,l){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"percent-container",style:Object(o["normalizeStyle"])({"--percent-active-color":i.activeColor})},[Object(o["createElementVNode"])("div",{for:"percent-radio-0",class:Object(o["normalizeClass"])({active:0===a.activePercent})},null,2),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(a.percentList,(function(e,t){return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:t},[0!==t?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",yt)):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])(["label",{active:e===a.activePercent}]),onClick:Object(o["withModifiers"])((function(t){return l.handleClick(e)}),["stop"])},[Vt,Object(o["createElementVNode"])("div",St,Object(o["toDisplayString"])(e)+"%",1)],10,Nt)],64)})),128))],4)}var Et={name:"PercentStep",props:{activeColor:String},emits:["change"],data:function(){return{activePercent:0,percentList:[25,50,75,100]}},methods:{handleClick:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e===this.activePercent?(this.activePercent=0,this.$emit("change",0,t)):(this.activePercent=e,this.$emit("change",e,t))}}};i("3731");const $t=Xe()(Et,[["render",_t],["__scopeId","data-v-b557f64c"]]);var xt=$t,Bt=i("57c9"),Ct=function(e){return Object(o["pushScopeId"])("data-v-5841c9f0"),e=e(),Object(o["popScopeId"])(),e},At={class:"flex items-center"},It={class:"label mr-20"},Lt={key:0,class:"token-container"},Ft={class:"icon-token-container mr-5"},Dt=["src"],Pt={class:"mr-5"},Ut=Ct((function(){return Object(o["createElementVNode"])("span",{style:{flex:"1"}},null,-1)})),Rt={class:"flex items-center mt-10"},Mt={class:"label mr-20"},zt={key:0,class:"token-container"},Qt={class:"icon-token-container mr-5"},qt=["src"],Wt={class:"mr-5"},Ht={class:"flex items-center mt-10"},Jt={class:"label mr-20"},Gt={key:0,class:"token-container"},Yt={class:"flex items-center justify-between mt-10"},Xt={class:"label mr-20"};function Kt(e,t,n,a,l,r){var s,c,m,d=Object(o["resolveComponent"])("van-image"),u=Object(o["resolveComponent"])("van-loading"),p=Object(o["resolveComponent"])("van-button");return Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{class:"tx-li-item van-hairline--bottom clickable",onClick:t[1]||(t[1]=Object(o["withModifiers"])((function(e){return r.goLink(n.item)}),["stop"]))},[Object(o["createElementVNode"])("div",At,[Object(o["createElementVNode"])("span",It,Object(o["toDisplayString"])(e.$t("from")),1),n.item.from_token?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Lt,[Object(o["createElementVNode"])("div",Ft,[Object(o["createVNode"])(d,{round:"",width:"0.4rem",height:"0.4rem","icon-size":"0.4rem","lazy-load":"","show-loading":"",src:e.$f.formatIcon(n.item.from_token+"-"+n.item.chain),"error-icon":i("aecc")},null,8,["src","error-icon"]),Object(o["createElementVNode"])("img",{class:"icon-svg icon-network",src:"https://www.avestorage.cloud/chain/".concat(n.item.chain,".png"),alt:"",srcset:""},null,8,Dt)]),Object(o["createElementVNode"])("span",Pt,Object(o["toDisplayString"])(e.$f.formatNumber2(r.formatUnits(n.item.from_amount,n.item.from_token_decimals))),1),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(n.item.from_token_symbol||""),1)])):Object(o["createCommentVNode"])("",!0),Ut,0===n.item.is_merged?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:1,size:"0.32rem",color:"#3F80F7","text-size":"0.24rem"})):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("div",Rt,[Object(o["createElementVNode"])("span",Mt,Object(o["toDisplayString"])(e.$t("to")),1),n.item.to_token?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",zt,[Object(o["createElementVNode"])("div",Qt,[Object(o["createVNode"])(d,{round:"",width:"0.4rem",height:"0.4rem","icon-size":"0.4rem","lazy-load":"","show-loading":"",src:e.$f.formatIcon(n.item.to_token+"-"+n.item.chain),"error-icon":i("aecc")},null,8,["src","error-icon"]),Object(o["createElementVNode"])("img",{class:"icon-svg icon-network",src:"https://www.avestorage.cloud/chain/".concat(n.item.chain,".png"),alt:"",srcset:""},null,8,qt)]),Object(o["createElementVNode"])("span",Wt,Object(o["toDisplayString"])(e.$f.formatNumber2(r.formatUnits(n.item.to_amount,n.item.to_token_decimals))),1),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])((null===(s=n.item)||void 0===s?void 0:s.to_token_symbol)||""),1)])):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("div",Ht,[Object(o["createElementVNode"])("span",Jt,Object(o["toDisplayString"])(e.$t("delegatePrice"))+"("+Object(o["toDisplayString"])(n.item.target_token===n.item.from_token?(null===(c=n.item)||void 0===c?void 0:c.from_token_symbol)||"":(null===(m=n.item)||void 0===m?void 0:m.to_token_symbol)||"")+")",1),n.item.target_token?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Gt,[Object(o["createElementVNode"])("span",null,"$"+Object(o["toDisplayString"])(n.item.target_limit_price?e.$f.formatNumber2(n.item.target_limit_price):"--"),1)])):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("div",Yt,[Object(o["createElementVNode"])("span",Xt,Object(o["toDisplayString"])(e.$f.formatDate(n.item.created_at)),1),0===n.item.status?(Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:0,class:"btn-s",plain:"",hairline:"",type:"primary",size:"small",loading:l.loading,"loading-text":e.$t("revoke"),"loading-size":"0.28rem",onClick:t[0]||(t[0]=Object(o["withModifiers"])((function(e){return r.confirmCancel(n.item)}),["stop"]))},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("revoke")),1)]})),_:1},8,["loading","loading-text"])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",{key:1,class:"status-txt",style:Object(o["normalizeStyle"])({color:r.formatStatusColor(n.item.status)})},Object(o["toDisplayString"])(r.formatStatus(n.item.status)),5))])])}var Zt=i("365c"),ei=i("6779"),ti={name:"TxItem",props:{item:Object},emits:["refresh"],data:function(){return{loading:!1}},methods:{formatUnits:ei["utils"].formatUnits,goLink:function(e){this.$router.push({name:"LimitOrder",params:{id:e.id}})},confirmCancel:function(e){var t=this;this.$dialog.confirm({title:this.$t("cancelOrderConfirming"),message:this.$t("confirmCancelMessage"),confirmButtonText:this.$t("confirm1"),confirmButtonColor:"#558BED",cancelButtonText:this.$t("cancel")}).then((function(){t.cancelLimitOrder(e)}))},cancelLimitOrder:function(e){var t=this,i={fromToken:e.from_token,fromAmount:e.from_amount,toToken:e.to_token,minReturn:e.to_min_amount,salt:e.salt,id:e.id,order_id:e.order_id};console.log(i),this.loading=!0,Object(Zt["d"])(i).then((function(e){console.log(e),t.$notify({type:"success",message:t.$t("cancelledOrderSuccessfully")}),t.$emit("refresh")})).catch((function(e){console.log(e),t.$f.handleError(e)})).finally((function(){t.loading=!1}))},formatStatus:function(e){var t,i={0:"",1:this.$t("cancelled"),2:this.$t("completed")};return null!==(t=i[e])&&void 0!==t?t:e},formatStatusColor:function(e){return 1===e?"#999999":2===e?"#12B886":"#3F80F7 "}}};i("a4d2");const ii=Xe()(ti,[["render",Kt],["__scopeId","data-v-5841c9f0"]]);var oi=ii,ni=function(e){return Object(o["pushScopeId"])("data-v-3d144354"),e=e(),Object(o["popScopeId"])(),e},ai={class:"select-box"},li={key:0,class:"token-container"},ri={key:1},si=ni((function(){return Object(o["createElementVNode"])("i",{class:"iconfont icon-collapse-down"},null,-1)})),ci={class:"rules-content"},mi={class:"search-bar",action:"/"},di={key:0,class:"pop-title"},ui={style:{background:"#fff"}},pi=["onClick"],bi={class:"main"},hi={key:0,class:"risk-status high"},fi={key:0,class:"minor"},vi=ni((function(){return Object(o["createElementVNode"])("span",{style:{flex:"1"}},null,-1)})),ki={class:"right-label"},gi=ni((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),Oi={key:0,class:"minor"};function ji(e,t,n,a,l,r){var s=Object(o["resolveComponent"])("van-image"),c=Object(o["resolveComponent"])("van-search"),m=Object(o["resolveComponent"])("van-empty"),d=Object(o["resolveComponent"])("van-icon"),u=Object(o["resolveComponent"])("DynamicScrollerItem"),p=Object(o["resolveComponent"])("DynamicScroller"),b=Object(o["resolveComponent"])("van-action-sheet");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ai,[Object(o["createElementVNode"])("button",{class:"select-container",type:"button",onClick:t[0]||(t[0]=Object(o["withModifiers"])((function(e){return l.show=!0}),["stop"]))},[n.token.address||n.token.token?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",li,[Object(o["createVNode"])(s,{round:"",width:"0.32rem",height:"0.32rem","icon-size":"0.32rem",style:{"margin-right":"0.1rem"},"lazy-load":"","show-loading":"",src:e.$f.formatIcon((n.token.token||n.token.address)+"-"+n.chain),"error-icon":i("aecc")},null,8,["src","error-icon"]),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(n.token.symbol||""),1)])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ri,Object(o["toDisplayString"])(e.$t("pleaseSelectToken")),1)),si]),Object(o["createVNode"])(b,{show:l.show,"onUpdate:show":t[2]||(t[2]=function(e){return l.show=e}),title:e.$t("selectToken"),style:{height:"80vh","--van-popup-background-color":"#fff"},"lazy-render":!1},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",ci,[Object(o["createElementVNode"])("form",mi,[Object(o["createVNode"])(c,{modelValue:l.keyword,"onUpdate:modelValue":t[1]||(t[1]=function(e){return l.keyword=e}),modelModifiers:{trim:!0},background:"#fff",shape:"round",placeholder:e.$t("searchContractORName"),onSearch:r.onSearch,onCancel:r.onCancel},null,8,["modelValue","placeholder","onSearch","onCancel"])]),""!==l.keyword||n.isBalance?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",di,Object(o["toDisplayString"])(e.$t("popularTokens")),1)),Object(o["createElementVNode"])("ul",ui,[Object(o["withDirectives"])(Object(o["createVNode"])(m,{class:"empty",image:e.emptyNoDataLight,description:e.$t("empty")},null,8,["image","description"]),[[o["vShow"],l.searchTokens&&0===l.searchTokens.length&&!l.loading]]),Object(o["createVNode"])(p,{items:l.searchTokens,"min-item-size":30,"key-field":"address",class:"tokens"},{default:Object(o["withCtx"])((function(t){var a=t.item,c=t.index,m=t.active;return[Object(o["createVNode"])(u,{item:a,active:m,"data-index":c},{default:Object(o["withCtx"])((function(){var t;return[Object(o["createElementVNode"])("li",{class:"token-item",onClick:Object(o["withModifiers"])((function(e){return r.handleSelectToken(a)}),["stop"])},[Object(o["createVNode"])(s,{class:"icon-token",round:"",width:"0.6rem",height:"0.6rem","icon-size":"0.6rem","lazy-load":"","show-loading":"",src:e.$f.formatIcon("".concat(a.address,"-").concat(a.chain||n.chain)),"error-icon":i("aecc")},null,8,["src","error-icon"]),Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("div",bi,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(a.symbol),1),a.risk_score>60||a.risk_level<0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",hi,Object(o["toDisplayString"])(e.$t("highRisk")),1)):Object(o["createCommentVNode"])("",!0)]),(null!==a&&void 0!==a&&null!==(t=a.tags)&&void 0!==t&&t.includes("tokens")||null===a||void 0===a||!a.tags)&&a.address!==l.nativeToken?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",fi,Object(o["toDisplayString"])(a.address.slice(0,6)+"..."+a.address.slice(-6)),1)):Object(o["createCommentVNode"])("",!0)]),vi,Object(o["createElementVNode"])("div",ki,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(a.value?e.$f.formatNumber2(a.value):""),1),gi,void 0!==a.price?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",Oi,"$"+Object(o["toDisplayString"])(a.value?e.$f.formatNumber2(a.value*a.price):""),1)):Object(o["createCommentVNode"])("",!0)]),a.address===(n.token.address||n.token.token)?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0,size:"0.32rem",color:"#558BED",name:"success"})):(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:1,style:{opacity:"0"},size:"0.32rem",color:"#558BED",name:"success"}))],8,pi)]})),_:2},1032,["item","active","data-index"])]})),_:1},8,["items"])])])]})),_:1},8,["show","title"])])}i("841c");var wi=i("c9d9"),Ti=null,yi={name:"SwapSelectToken",props:{tokens:Array,token:{type:Object,default:function(){return{address:"",chain:"",symbol:"",isbaseToken:!1}}},chain:String,hasNative:{type:Boolean,default:!0},isBalance:{type:Boolean,default:!1}},emits:["update:token"],data:function(){var e=this;return{show:!1,keyword:"",searchTokens:this.tokens.filter((function(t){return e.hasNative||t.address!==wi["e"]}))||[],loading:!1,nativeToken:wi["e"]}},computed:{searchResultTokens:function(){var e,t=this;return(null===(e=this.searchTokens)||void 0===e?void 0:e.length)>0?this.searchTokens:this.tokens.filter((function(e){return t.hasNative||e.address!==wi["e"]}))}},watch:{keyword:function(e){""!==e?this.tokenSearch():this.searchTokens=[]},show:function(e){var t=this;e&&(this.searchTokens=this.tokens.filter((function(e){return t.hasNative||e.address!==wi["e"]}))||[])}},methods:{onSearch:function(e){console.log(e),Ti&&(clearTimeout(Ti),Ti=null),this.search()},onCancel:function(){this.keyword="",this.show=!1},handleSelectToken:function(e){var t=this;if(null!==e&&void 0!==e&&e.address||null!==e&&void 0!==e&&e.token){var i=Object(ze["a"])(Object(ze["a"])({},e),{},{address:e.address||e.token,isbaseToken:this.token.isbaseToken});this.$emit("update:token",i),Object.keys(i).forEach((function(e){t.token[e]=i[e]})),this.show=!1}},tokenSearch:function(){var e=this;Ti&&(clearTimeout(Ti),Ti=null),Ti=setTimeout((function(){e.search()}),500)},search:function(){var e=this;if(""!==this.keyword){var t=new RegExp(this.keyword,"i"),i=this.tokens.filter((function(i){return(t.test(i.address)||t.test(i.symbol)||t.test(i.name))&&(e.hasNative||i.address!==wi["e"])}));(null===i||void 0===i?void 0:i.length)>0?this.searchTokens=i:this.isBalance||(this.loading=!0,Object(Zt["D"])(this.keyword,this.chain).then((function(t){var i,o,n;e.searchTokens=null===(i=t.filter)||void 0===i||null===(o=i.call(t,(function(t){return t.chain===e.chain})))||void 0===o||null===(n=o.map)||void 0===n?void 0:n.call(o,(function(e){return Object(ze["a"])(Object(ze["a"])({},e),{},{address:e.token})}))})).catch((function(t){console.log(t),e.searchTokens=[]})).finally((function(){e.loading=!1})))}else this.searchTokens=this.tokens.filter((function(t){return e.hasNative||t.address!==wi["e"]}))}}};i("f0e9");const Ni=Xe()(yi,[["render",ji],["__scopeId","data-v-3d144354"]]);var Vi=Ni,Si=function(e){return Object(o["pushScopeId"])("data-v-53f80bcd"),e=e(),Object(o["popScopeId"])(),e},_i={class:"swap-title"},Ei={class:"swap-info"},$i={class:"swap-info_item header"},xi={class:"header-li"},Bi={class:"header-li_left"},Ci=["src"],Ai={class:"header-li_right"},Ii={class:"switch-box"},Li={class:"header-li"},Fi={class:"header-li_left"},Di=["src"],Pi={class:"header-li_right"},Ui={key:0,class:"bg-change"},Ri={class:"swap-info_item"},Mi={class:"swap-info_item-label"},zi={class:"swap-info_item-value"},Qi={class:"p-item"},qi={class:"p-item"},Wi={key:1,class:"swap-info_item"},Hi={class:"swap-info_item-label"},Ji={class:"swap-info_item-value"},Gi={class:"swap-info_item"},Yi={class:"swap-info_item-label"},Xi={class:"swap-info_item-value"},Ki={key:0,class:"swap-info_item"},Zi={class:"swap-info_item-label"},eo={class:"swap-info_item-value"},to={key:1,class:"swap-info_item"},io={class:"swap-info_item-label"},oo={class:"swap-info_item-value"},no={class:"swap-info_item"},ao={class:"swap-info_item-label"},lo={key:0,class:"swap-info_item-value path-list"},ro={key:0},so={key:1,class:"path-amm"},co=Si((function(){return Object(o["createElementVNode"])("img",{style:{width:"0.3rem",margin:"0.02rem 0.1rem 0"},src:a.a,alt:"",srcset:""},null,-1)})),mo={key:1},uo={key:0,style:{width:"0.3rem",margin:"0.02rem 0.1rem 0"},src:a.a,alt:"",srcset:""},po={key:1},bo={key:3,class:"swap-info_item"},ho={class:"swap-info_item-label"},fo={class:"swap-info_item-value"},vo=["href"],ko={class:"iconfont icon-copy",style:{"margin-left":"0.1rem"}},go={class:"footer"};function Oo(e,t,n,a,l,r){var s=Object(o["resolveComponent"])("van-icon"),c=Object(o["resolveComponent"])("van-button"),m=Object(o["resolveComponent"])("van-image"),d=Object(o["resolveComponent"])("van-popup"),u=Object(o["resolveDirective"])("copy");return Object(o["openBlock"])(),Object(o["createBlock"])(d,{show:r.dialogVisible,"onUpdate:show":t[0]||(t[0]=function(e){return r.dialogVisible=e}),style:Object(o["normalizeStyle"])({width:"90%",padding:"0.4rem"}),closeable:"",round:"",teleport:"#app"},{default:Object(o["withCtx"])((function(){var t,a,d,p,b,h,f,v,k,g;return[Object(o["createElementVNode"])("header",_i,Object(o["toDisplayString"])(e.$t("tradeConfirm")),1),Object(o["createElementVNode"])("ul",Ei,[Object(o["createElementVNode"])("li",$i,[Object(o["createElementVNode"])("div",xi,[Object(o["createElementVNode"])("div",Bi,[Object(o["createElementVNode"])("img",{class:"icon-token",src:r.formatLogo(n.swapInfo.fromToken),alt:"",height:"20"},null,8,Ci),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(n.swapInfo.fromToken.symbol),1)]),Object(o["createElementVNode"])("div",Ai,Object(o["toDisplayString"])(e.$f.formatNumber2(r.formatUnits(n.swapInfo.fromTokenAmount||0,n.swapInfo.fromToken.decimals))||"0"),1)]),Object(o["createElementVNode"])("div",Ii,[Object(o["createVNode"])(s,{class:"switch-icon",name:"down"})]),Object(o["createElementVNode"])("div",Li,[Object(o["createElementVNode"])("div",Fi,[Object(o["createElementVNode"])("img",{class:"icon-token",src:r.formatLogo(n.swapInfo.toToken),alt:"",height:"20"},null,8,Di),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(n.swapInfo.toToken.symbol),1)]),Object(o["createElementVNode"])("div",Pi,Object(o["toDisplayString"])(e.$f.formatNumber2(r.formatUnits(n.swapInfo.toTokenAmount||0,n.swapInfo.toToken.decimals))||"0"),1)])]),l.priceUpdated?(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",Ui,[Object(o["createElementVNode"])("div",null,Object(o["toDisplayString"])(e.$t("priceUpdated")),1),Object(o["createVNode"])(c,{class:"btn",type:"primary",color:"#3F80F7",size:"small",round:"",onClick:r.accept},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("accept")),1)]})),_:1},8,["onClick"])])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("li",Ri,[Object(o["createElementVNode"])("div",Mi,Object(o["toDisplayString"])(e.$t("price")),1),Object(o["createElementVNode"])("div",zi,[Object(o["createElementVNode"])("div",Qi,"1 "+Object(o["toDisplayString"])(n.swapInfo.fromToken.symbol)+" = "+Object(o["toDisplayString"])(r.getPrice(r.formatUnits(n.swapInfo.fromTokenAmount||0,n.swapInfo.fromToken.decimals),r.formatUnits(n.swapInfo.toTokenAmount||0,n.swapInfo.toToken.decimals)))+" "+Object(o["toDisplayString"])(n.swapInfo.toToken.symbol),1),Object(o["createElementVNode"])("div",qi,"1 "+Object(o["toDisplayString"])(n.swapInfo.toToken.symbol)+" = "+Object(o["toDisplayString"])(r.getPrice(r.formatUnits(n.swapInfo.toTokenAmount||0,n.swapInfo.toToken.decimals),r.formatUnits(n.swapInfo.fromTokenAmount||0,n.swapInfo.fromToken.decimals)))+" "+Object(o["toDisplayString"])(n.swapInfo.fromToken.symbol),1)])]),n.swapInfo.fromToken.isWrapper&&n.swapInfo.toToken.isETH||n.swapInfo.toToken.isWrapper&&n.swapInfo.fromToken.isETH?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",Wi,[Object(o["createElementVNode"])("div",Hi,Object(o["toDisplayString"])(e.$t("slippage")),1),Object(o["createElementVNode"])("div",Ji,Object(o["toDisplayString"])(n.slippage)+"%",1)])),Object(o["createElementVNode"])("li",Gi,[Object(o["createElementVNode"])("div",Yi,Object(o["toDisplayString"])(e.$t("estimatedGas")),1),Object(o["createElementVNode"])("div",Xi," $"+Object(o["toDisplayString"])(r.getEstimatedFee(n.swapInfo.gasValue)),1)]),n.swapInfo.fromToken.isWrapper&&n.swapInfo.toToken.isETH||n.swapInfo.toToken.isWrapper&&n.swapInfo.fromToken.isETH?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:2},[n.swapInfo.isAmountOut?(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",to,[Object(o["createElementVNode"])("div",io,Object(o["toDisplayString"])(e.$t("maximumReceived")),1),Object(o["createElementVNode"])("div",oo,Object(o["toDisplayString"])(r.maxSold)+" "+Object(o["toDisplayString"])(null===(d=n.swapInfo)||void 0===d||null===(p=d.fromToken)||void 0===p?void 0:p.symbol),1)])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",Ki,[Object(o["createElementVNode"])("div",Zi,Object(o["toDisplayString"])(e.$t("minimumReceived")),1),Object(o["createElementVNode"])("div",eo,Object(o["toDisplayString"])(r.minReceived)+" "+Object(o["toDisplayString"])(null===(t=n.swapInfo)||void 0===t||null===(a=t.toToken)||void 0===a?void 0:a.symbol),1)]))],64)),Object(o["createElementVNode"])("li",no,[Object(o["createElementVNode"])("div",ao,Object(o["toDisplayString"])(e.$t("tokenRoute")),1),n.swapInfo.fromToken.isWrapper&&n.swapInfo.toToken.isETH||n.swapInfo.toToken.isWrapper&&n.swapInfo.fromToken.isETH?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",mo,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.swapRouterPath,(function(e,t){return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:t},[0!==t?(Object(o["openBlock"])(),Object(o["createElementBlock"])("img",uo)):Object(o["createCommentVNode"])("",!0),e.symbol?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",po,Object(o["toDisplayString"])(e.symbol),1)):Object(o["createCommentVNode"])("",!0)],64)})),128))])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",lo,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.swapRouterPath,(function(e,t){return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:t},[e.symbol?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",ro,Object(o["toDisplayString"])(e.symbol),1)):Object(o["createCommentVNode"])("",!0),e.nextAmm&&"unknown"!==e.nextAmm?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",so,[Object(o["createVNode"])(m,{class:"icon-amm-logo","lazy-load":"","show-loading":"",round:"",src:"https://www.avestorage.cloud/swap/".concat(e.nextAmm,".jpeg"),"error-icon":i("aecc")},null,8,["src","error-icon"]),co])):Object(o["createCommentVNode"])("",!0)],64)})),128))]))]),null!==(b=n.swapInfo)&&void 0!==b&&b.transaction?(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",bo,[Object(o["createElementVNode"])("div",ho,Object(o["toDisplayString"])(e.$t("txHash")),1),Object(o["createElementVNode"])("div",fo,[Object(o["createElementVNode"])("a",{href:e.$f.formatExplorerUrl(n.chain,n.swapInfo.transaction,"tx"),target:"_blank"},Object(o["toDisplayString"])((null===(h=n.swapInfo)||void 0===h||null===(f=h.transaction)||void 0===f?void 0:f.slice(0,6))+"..."+(null===(v=n.swapInfo)||void 0===v||null===(k=v.transaction)||void 0===k?void 0:k.slice(-6))),9,vo),Object(o["withDirectives"])(Object(o["createElementVNode"])("i",ko,null,512),[[u,null===(g=n.swapInfo)||void 0===g?void 0:g.transaction]])])])):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("div",go,[Object(o["createVNode"])(c,{class:"submit-button",type:"primary",loading:r.isLoading,"loading-text":e.$t("confirming"),block:"",onClick:Object(o["withModifiers"])(r.submitSwap,["stop"]),disabled:l.priceUpdated},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("confirm")),1)]})),_:1},8,["loading","loading-text","onClick","disabled"])])]})),_:1},8,["show","style"])}var jo=i("901e"),wo=i.n(jo),To={name:"ConfirmSwap",props:{visible:Boolean,swapInfo:Object,slippage:String,loading:Boolean,chain:String,nativePrice:Number,gasPrice:String},emits:["update:visible","submit"],data:function(){return{priceUpdated:!1}},computed:{dialogVisible:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}},isLoading:function(){return this.loading},minReceived:function(){var e,t,i;return this.$f.formatNumber(ei["utils"].formatUnits(new wo.a((null===(e=this.swapInfo)||void 0===e?void 0:e.toTokenAmount)||0).times(100-Number(this.slippage)).div(100).toFixed(0),null===(t=this.swapInfo)||void 0===t||null===(i=t.toToken)||void 0===i?void 0:i.decimals)||0)},maxSold:function(){var e,t,i;return this.$f.formatNumber(ei["utils"].formatUnits(new wo.a((null===(e=this.swapInfo)||void 0===e?void 0:e.fromTokenAmount)||0).times(100+Number(this.slippage)).div(100).toFixed(0),null===(t=this.swapInfo)||void 0===t||null===(i=t.fromToken)||void 0===i?void 0:i.decimals)||0)},swapRouterPath:function(){var e;return(null===(e=this.swapInfo)||void 0===e?void 0:e.swapRouterPath)||[]}},watch:{swapInfo:function(e,t){var i=new wo.a(e.fromTokenAmount).minus(t.fromTokenAmount).div(t.fromTokenAmount).abs(),o=new wo.a(e.toTokenAmount).minus(t.toTokenAmount).div(t.toTokenAmount).abs();(i.gt(.005)||o.gt(.005))&&(this.priceUpdated=!0)},visible:function(e){e&&(this.priceUpdated=!1)}},methods:{formatUnits:ei["utils"].formatUnits,formatPrice:function(e){return this.$f.formatNumber(e&&""!==e?ei["utils"].formatEther(this.nativePrice):0)},getPrice:function(e,t){return!e||!t||isNaN(Number(e))||isNaN(Number(t))?"0":this.$f.formatNumber2(new wo.a(t).div(e).toFixed())||"0"},getEstimatedFee:function(e){return e&&Number(new wo.a(e.toString()).times(this.nativePrice).times(this.gasPrice).div(String(Math.pow(10,18))).toFixed(2))||"0"},submitSwap:function(){this.$emit("submit")},formatLogo:function(e){var t;return!e.logoURI||null!==e&&void 0!==e&&null!==(t=e.logoURI)&&void 0!==t&&t.includes("empty-token")?this.$f.formatIcon(e.address+"-"+this.chain):e.logoURI},goLink:function(){this.$f.openBrowser(this.$f.formatExplorerUrl(this.chain,this.swapInfo.transaction,"tx"))},accept:function(){this.priceUpdated=!1}}};i("f8d0");const yo=Xe()(To,[["render",Oo],["__scopeId","data-v-53f80bcd"]]);var No=yo,Vo={class:"swap-title"},So={class:"swap-info"},_o={class:"swap-info_item"},Eo={class:"swap-info_item-label"},$o={class:"swap-info_item-value"},xo=["src"],Bo={class:"ml-5"},Co={class:"swap-info_item"},Ao={class:"swap-info_item-label"},Io={class:"swap-info_item"},Lo={class:"swap-info_item-label"},Fo={class:"swap-info_item-value",style:{"font-size":"0.24rem"}},Do={style:{color:"#3F80F7"}},Po={class:"swap-info_item"},Uo={class:"swap-info_item-label"},Ro={class:"swap-info_item-value"},Mo=["src"],zo={class:"ml-5"},Qo={class:"swap-info_item"},qo={class:"swap-info_item-label"},Wo={class:"swap-info_item-value"},Ho=["src"],Jo={class:"ml-5"},Go={key:0,class:"swap-info_item tips warning"},Yo={key:1,class:"swap-info_item tips warning"},Xo={class:"footer"};function Ko(e,t,i,n,a,l){var r=this,s=Object(o["resolveComponent"])("van-button"),c=Object(o["resolveComponent"])("van-popup");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{show:l.dialogVisible,"onUpdate:show":t[0]||(t[0]=function(e){return l.dialogVisible=e}),style:Object(o["normalizeStyle"])({width:"90%",padding:"0.4rem"}),closeable:"",round:"",teleport:"#app"},{default:Object(o["withCtx"])((function(){var t,n,c,m,d,u,p,b,h,f,v,k,g,O;return[Object(o["createElementVNode"])("header",Vo,Object(o["toDisplayString"])(e.$t("limitConfirm")),1),Object(o["createElementVNode"])("ul",So,[Object(o["createElementVNode"])("li",_o,[Object(o["createElementVNode"])("div",Eo,Object(o["toDisplayString"])(e.$t("delegatedToken")),1),Object(o["createElementVNode"])("div",$o,[Object(o["createElementVNode"])("img",{class:"icon-token",src:l.formatLogo(i.limitInfo.isLimitBaseToken?i.limitInfo.fromToken:i.limitInfo.toToken),alt:"",height:"20"},null,8,xo),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$f.formatNumber2(i.limitInfo.isLimitBaseToken?i.limitInfo.fromAmount||0:i.limitInfo.toAmount||0)),1),Object(o["createElementVNode"])("span",Bo,Object(o["toDisplayString"])(i.limitInfo.isLimitBaseToken?(null===(t=i.limitInfo)||void 0===t||null===(n=t.fromToken)||void 0===n?void 0:n.symbol)||"":(null===(c=i.limitInfo)||void 0===c||null===(m=c.toToken)||void 0===m?void 0:m.symbol)||""),1)])]),Object(o["createElementVNode"])("li",Co,[Object(o["createElementVNode"])("div",Ao,Object(o["toDisplayString"])(e.$t("delegateType")),1),Object(o["createElementVNode"])("div",{class:"swap-info_item-value",style:Object(o["normalizeStyle"])({color:i.limitInfo.isLimitBaseToken?e.$store.getters.downColor[3]:e.$store.getters.upColor[3]})},Object(o["toDisplayString"])(i.limitInfo.isLimitBaseToken?r.$t("sell"):r.$t("buy")),5)]),Object(o["createElementVNode"])("li",Io,[Object(o["createElementVNode"])("div",Lo,Object(o["toDisplayString"])(e.$t("delegatePrice"))+"("+Object(o["toDisplayString"])(i.limitInfo.isLimitBaseToken?(null===(d=i.limitInfo)||void 0===d||null===(u=d.fromToken)||void 0===u?void 0:u.symbol)||"":(null===(p=i.limitInfo)||void 0===p||null===(b=p.toToken)||void 0===b?void 0:b.symbol)||"")+")",1),Object(o["createElementVNode"])("div",Fo,[Object(o["createElementVNode"])("span",null,"$"+Object(o["toDisplayString"])(i.limitInfo.targetLimitPrice||0),1),Object(o["createElementVNode"])("span",Do,"("+Object(o["toDisplayString"])(e.$t("auto-submitWhenPriceTriggered"))+")",1)])]),Object(o["createElementVNode"])("li",Po,[Object(o["createElementVNode"])("div",Uo,Object(o["toDisplayString"])(e.$t("paymentToken")),1),Object(o["createElementVNode"])("div",Ro,[Object(o["createElementVNode"])("img",{class:"icon-token",src:l.formatLogo(i.limitInfo.fromToken),alt:"",height:"20"},null,8,Mo),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$f.formatNumber2(i.limitInfo.fromAmount||0)),1),Object(o["createElementVNode"])("span",zo,Object(o["toDisplayString"])((null===(h=i.limitInfo)||void 0===h||null===(f=h.fromToken)||void 0===f?void 0:f.symbol)||""),1)])]),Object(o["createElementVNode"])("li",Qo,[Object(o["createElementVNode"])("div",qo,Object(o["toDisplayString"])(e.$t("expectedReceipt")),1),Object(o["createElementVNode"])("div",Wo,[Object(o["createElementVNode"])("img",{class:"icon-token",src:l.formatLogo(i.limitInfo.toToken),alt:"",height:"20"},null,8,Ho),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$f.formatNumber2(i.limitInfo.toAmount||0)),1),Object(o["createElementVNode"])("span",Jo,Object(o["toDisplayString"])((null===(v=i.limitInfo)||void 0===v||null===(k=v.toToken)||void 0===k?void 0:k.symbol)||""),1)])]),(null===(g=i.limitInfo)||void 0===g||null===(O=g.fromToken)||void 0===O?void 0:O.address)===a.NATIVE_TOKEN?(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",Go,Object(o["toDisplayString"])(e.$t("limitTips1")),1)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",Yo,Object(o["toDisplayString"])(e.$t("limitTips2")),1))]),Object(o["createElementVNode"])("div",Xo,[Object(o["createVNode"])(s,{class:"submit-button",type:"primary",loading:l.isLoading,"loading-text":e.$t("confirming"),block:"",round:"",onClick:Object(o["withModifiers"])(l.submitSwap,["stop"])},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("confirm")),1)]})),_:1},8,["loading","loading-text","onClick"])])]})),_:1},8,["show","style"])}var Zo={name:"ConfirmLimit",props:{visible:Boolean,limitInfo:Object,loading:Boolean,chain:String},emits:["update:visible","submit"],data:function(){return{NATIVE_TOKEN:wi["e"]}},computed:{dialogVisible:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}},isLoading:function(){return this.loading},minReceived:function(){var e,t,i;return this.$f.formatNumber(ei["utils"].formatUnits(new wo.a((null===(e=this.limitInfo)||void 0===e?void 0:e.toAmount)||0).times(100-Number(this.slippage)).div(100).toFixed(0),null===(t=this.limitInfo)||void 0===t||null===(i=t.toToken)||void 0===i?void 0:i.decimals)||0)},maxSold:function(){var e,t,i;return this.$f.formatNumber(ei["utils"].formatUnits(new wo.a((null===(e=this.limitInfo)||void 0===e?void 0:e.fromAmount)||0).times(100+Number(this.slippage)).div(100).toFixed(0),null===(t=this.limitInfo)||void 0===t||null===(i=t.fromToken)||void 0===i?void 0:i.decimals)||0)},swapRouterPath:function(){var e;return(null===(e=this.limitInfo)||void 0===e?void 0:e.swapRouterPath)||[]}},methods:{formatUnits:ei["utils"].formatUnits,getPrice:function(e,t){return!e||!t||isNaN(Number(e))||isNaN(Number(t))?"0":this.$f.formatNumber2(new wo.a(t).div(e).toFixed())||"0"},submitSwap:function(){this.$emit("submit")},formatLogo:function(e){var t;return!e.logoURI||null!==e&&void 0!==e&&null!==(t=e.logoURI)&&void 0!==t&&t.includes("empty-token")?this.$f.formatIcon(e.address+"-"+this.chain):e.logoURI},goLink:function(){this.$f.openBrowser(this.$f.formatExplorerUrl(this.chain,this.limitInfo.transaction,"tx"))}}};i("da4c");const en=Xe()(Zo,[["render",Ko],["__scopeId","data-v-f3dbd644"]]);var tn=en,on={class:"chart-container"},nn=["id"];function an(e,t,i,n,a,l){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",on,[Object(o["createElementVNode"])("div",{id:a.chartId,style:Object(o["normalizeStyle"])({height:"1.45rem",width:"100%"})},null,12,nn)])}var ln=i("22b4"),rn=i("1be7"),sn=i("3620"),cn=i("2da7"),mn=i("4b2a"),dn=i("5e81"),un=i("e600"),pn=i("ee29"),bn=i("c55a"),hn=i("f95e");ln["a"]([cn["a"],mn["a"],dn["a"],un["a"],sn["a"],pn["a"],bn["a"],hn["a"]]);var fn={name:"PriceChart",props:{dataX:Array,dataY:Array},data:function(){return{chartId:"chart-".concat(Object(gt["a"])()),myChart:null,loading:!1}},watch:{dataY:function(){this.init()}},mounted:function(){this.init()},methods:{init:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.dataX,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.dataY,o=t.map((function(t){return e.$f.formatDate(t,"MM-DD HH:mm")}));if(document.getElementById(this.chartId)){var n=rn["b"](document.getElementById(this.chartId));n||(n=rn["c"](document.getElementById(this.chartId)));var a={tooltip:{trigger:"axis",appendToBody:!0},grid:{left:"0",right:"0",top:"5%",bottom:"3%",containLabel:!0},xAxis:{data:o,axisLine:{show:!1,lineStyle:{color:"#23293C"}},axisLabel:{show:!1,color:"#777"},axisTick:{show:!1},nameTextStyle:{fontSize:12}},yAxis:{type:"value",name:"",nameTextStyle:{fontSize:14},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1},splitLine:{show:!1,lineStyle:{type:"solid",color:["#FF646D"]}}},series:[{name:"",type:"line",data:i,smooth:!0,symbolSize:3,areaStyle:{color:"#558BED",opacity:.2},itemStyle:{color:"#558BED",lineStyle:{color:"#558BED"}},tooltip:{valueFormatter:function(t){return"$"+e.$f.formatNumber2(t||0,3,4)}}}]};n.setOption(a)}}}};i("d64a");const vn=Xe()(fn,[["render",an],["__scopeId","data-v-4931ca7b"]]);var kn=vn,gn=i("4511"),On=i("449c"),jn=["onClick"];function wn(e,t,i,n,a,l){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"tabs",style:Object(o["normalizeStyle"])({"--upColor":e.$store.getters.upColor[3],"--downColor":e.$store.getters.downColor[3]})},[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(i.tabs,(function(e,t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:t,class:Object(o["normalizeClass"])(["tab-item",{active:i.activeTab===e.type,up:0===i.activeTab,down:1===i.activeTab}]),onClick:Object(o["withModifiers"])((function(t){return l.handleSwitchTab(e.type)}),["stop"])},Object(o["toDisplayString"])(e.name),11,jn)})),128))],4)}var Tn={name:"SwapTypeTabs",props:{activeTab:Number,tabs:Array},emits:["update:activeTab"],data:function(){return{}},methods:{handleSwitchTab:function(e){this.$emit("update:activeTab",e)}}};i("7449");const yn=Xe()(Tn,[["render",wn],["__scopeId","data-v-e0737e62"]]);var Nn=yn,Vn={class:"limit-dialog-content"},Sn=Object(o["createTextVNode"])("gas"),_n=Object(o["createTextVNode"])("-");function En(e,t,i,n,a,l){var r=Object(o["resolveComponent"])("van-checkbox"),s=Object(o["resolveComponent"])("van-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(s,{show:e.$store.state.limitTipsShow,"onUpdate:show":t[2]||(t[2]=function(t){return e.$store.state.limitTipsShow=t}),title:"",showConfirmButton:!1},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Vn,[Object(o["createVNode"])(r,{modelValue:e.$store.state.limitChecked1,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.$store.state.limitChecked1=t})},{default:Object(o["withCtx"])((function(){return[Sn]})),_:1},8,["modelValue"]),Object(o["createVNode"])(r,{modelValue:e.$store.state.limitChecked2,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.$store.state.limitChecked2=t})},{default:Object(o["withCtx"])((function(){return[_n]})),_:1},8,["modelValue"])])]})),_:1},8,["show"])}var $n={name:"LimitTipsDialog"};i("037f");const xn=Xe()($n,[["render",En],["__scopeId","data-v-5f9c7358"]]);var Bn=xn,Cn=i("f465"),An=null,In=null,Ln=null,Fn={name:"Swap",components:{SwapNotice:Ze,Slippage:bt,RTabs:wt,PercentStep:xt,TxItem:Bt["a"],SwapSelectToken:Vi,ConfirmSwap:No,PriceChart:kn,ConnectButton:gn["a"],SlippageButton:On["a"],SwapTypeTabs:Nn,LimitTipsDialog:Bn,ConfirmLimit:tn,LimitTxItem:oi},data:function(){var e,t,i,o,n,a,l,r=null===(e=this.$route.params)||void 0===e||null===(t=e.id)||void 0===t||null===(i=t.split)||void 0===i?void 0:i.call(t,"-"),s=Object(qe["a"])(r,2),c=s[0],m=s[1];return{nativeToken:wi["e"],height:100,swapTokenInfo:{},tokens:[],token1:{address:c||"",chain:m||"",balance:0,symbol:""},token2:{address:"",chain:"",balance:0,symbol:""},fromAmount:"",toAmount:"",baseToken:{token:{symbol:""},pairs:[]},baseTokenExtra:{},slippage:"1",selected:"swap",dataX:[],dataY:[],swapQuoteInfo:{},isPairShowMore:!1,quoteLoading:!1,allowance:0,loadingApprove:!1,loadingSwap:!1,dialogVisibleSwap:!1,swapSubmitInfo:{},swapInfo:{fromToken:{symbol:"",name:"",decimals:18,address:"",logoURI:""},toToken:{symbol:"",name:"",decimals:18,address:"",logoURI:""},isAmountOut:!1},loadingConfirmSwap:!1,tokensPrice:{},swapRouterPath:[],nativePrice:0,initTxs:[],txsLoading:!1,isCurrentToken:!0,userBalanceTokens:[],isAndroid:!(null===(o=window)||void 0===o||null===(n=o._tw_)||void 0===n||!n.appGetPlatform),gasPrice:"0",spender:"",isTaxHigh:!1,isCannotSellAll:!1,baseTokenPrice:0,isTax:!1,txsTokens:sessionStorage.txsTokens?JSON.parse(sessionStorage.txsTokens||[]):[],isAmount:!0,listRouter:[],dialogListRouterVisible:!1,selectedRouterIndex:0,openLp:null===(a=window)||void 0===a||null===(l=a._tw_)||void 0===l?void 0:l.openLp,tx:{},userTokenList:[],activeTab:Number(this.$route.params.type)||0,limitFromToken:{address:"",chain:"",balance:0,symbol:"",price:0},limitFromAmount:"",limitToToken:{address:c||"",chain:m||"",balance:0,symbol:"",price:0},limitToAmount:"",isLimitBaseToken:!1,limitPrice:"",loadingLimit:!1,dialogVisibleLimit:!1,loadingConfirmLimit:!1,limitInfo:{fromToken:{address:"",chain:"",balance:0,symbol:"",price:0},toToken:{address:c||"",chain:m||"",balance:0,symbol:"",price:0},fromAmount:"",toAmount:"",targetToken:"",targetLimitPrice:"",isLimitBaseToken:!1},limitAllowance:0,loadingLimitApprove:!1,quoteLimitLoading:!1,tabActive1:Number(this.$route.params.type)?"limit":"swap",limitOrders:[],limitMinReturn:0,loadingGetLimitOrder:!1}},computed:{typeTabs:function(){return[{name:this.$t("buy"),type:0},{name:this.$t("sell"),type:1},{name:this.$t("limit"),type:2}]},netId:function(){return this.$store.getters.netId||""},tokenInfo:function(){var e,t,i,o;if("Swap"!==this.$route.name)return{id:"",token:"",chain:""};var n=null===(e=this.$route.params)||void 0===e||null===(t=e.id)||void 0===t||null===(i=t.split)||void 0===i?void 0:i.call(t,"-"),a=Object(qe["a"])(n,2),l=a[0],r=a[1];return{id:null===(o=this.$route.params)||void 0===o?void 0:o.id,token:l,chain:r}},tabs:function(){return[{name:this.$t("buy"),value:"buy"},{name:this.$t("sell"),value:"sell"}]},isApprove:function(){if(!this.allowance)return!1;var e=this.fromToken.decimals||0;return ei["utils"].parseUnits(new wo.a(this.fromAmount||0).toFixed(e),e).lte(this.allowance)},isLimitApprove:function(){if(!this.limitAllowance)return!1;var e=this.limitFromToken.decimals||0;return ei["utils"].parseUnits(new wo.a(this.limitFromAmount||0).toFixed(e),e).lte(this.limitAllowance)},minReceived:function(){var e,t=(null===(e=this.swapQuoteInfo)||void 0===e?void 0:e.routerPath)||{},i=t[t.length-1];return new wo.a(null===i||void 0===i?void 0:i.amount).times(100-Number(this.slippage)).div(Math.pow(10,((null===i||void 0===i?void 0:i.decimals)||0)+2)).toFixed((null===i||void 0===i?void 0:i.decimals)||0)},maxSold:function(){var e,t=(null===(e=this.swapQuoteInfo)||void 0===e?void 0:e.routerPath)||{},i=t[0];return new wo.a(null===i||void 0===i?void 0:i.amount).times(1+Number(this.slippage)/100).div(Math.pow(10,(null===i||void 0===i?void 0:i.decimals)||0)).toFixed((null===i||void 0===i?void 0:i.decimals)||0)},txs:function(){if(this.isCurrentToken){var e,t,i,o,n,a,l,r,s,c,m,d=null===(e=this.$route.params)||void 0===e||null===(t=e.id)||void 0===t||null===(i=t.split)||void 0===i||null===(o=i.call(t,"-"))||void 0===o?void 0:o[0],u=null===(n=this.$route.params)||void 0===n||null===(a=n.id)||void 0===a||null===(l=a.split)||void 0===l||null===(r=l.call(a,"-"))||void 0===r?void 0:r[1],p=null===(s=this.$store.state)||void 0===s||null===(c=s.chainConfig)||void 0===c?void 0:c[u],b=null===p||void 0===p?void 0:p.wmainWrapper;return d=d===wi["e"]?b:d,null===(m=this.initTxs)||void 0===m?void 0:m.filter((function(e){return e.from_address===d||e.to_address===d||(d===wi["e"]||d===b)&&(e.from_address===wi["e"]||e.from_address===b||e.to_address===wi["e"]||e.to_address===b)}))}return this.initTxs},filterLimitOrders:function(){if(this.isCurrentToken){var e,t=this.isLimitBaseToken?this.limitFromToken.address:this.limitToToken.address;return null===(e=this.limitOrders)||void 0===e?void 0:e.filter((function(e){return e.target_token===t}))}return this.limitOrders},taxStr:function(){var e,t,i,o,n,a,l,r=(null===(e=this.swapQuoteInfo)||void 0===e?void 0:e.totalTax)||((null===(t=this.swapQuoteInfo)||void 0===t?void 0:t.total_sell_tax)||0)+((null===(i=this.swapQuoteInfo)||void 0===i?void 0:i.total_buy_tax)||0);return r>0?"(".concat(this.$t("tax"),": ").concat(this.$f.formatNumber2(r,1),"%)"):0===this.activeTab&&(null===(o=this.baseTokenExtra)||void 0===o?void 0:o.buy_tax)>0?"(".concat(this.$t("tax"),": ").concat(this.$f.formatNumber2(null===(a=this.baseTokenExtra)||void 0===a?void 0:a.buy_tax,1),"%)"):1===this.activeTab&&(null===(n=this.baseTokenExtra)||void 0===n?void 0:n.sell_tax)>0?"(".concat(this.$t("tax"),": ").concat(this.$f.formatNumber2(null===(l=this.baseTokenExtra)||void 0===l?void 0:l.sell_tax,1),"%)"):""},priceImpactV:function(){if(!Number(this.fromAmount)&&!Number(this.toAmount))return"";var e=this.swapQuoteInfo.routerPath,t=(null===e||void 0===e?void 0:e.length)>0?null===e||void 0===e?void 0:e[0]:null,i=(null===e||void 0===e?void 0:e.length)>0?null===e||void 0===e?void 0:e[e.length-1]:null;if(t&&i){var o=this.swapQuoteInfo.from_price,n=this.swapQuoteInfo.to_price,a=ei["utils"].formatUnits(t.amount,t.decimals),l=ei["utils"].formatUnits(i.amount,i.decimals);return new wo.a(a).times(o).div(new wo.a(l).times(n)).minus(1).abs()}return""},priceImpact:function(){return this.priceImpactV?this.$f.formatNumber2(this.priceImpactV.times(100).toFixed(),2)+"%":""},swapButtonColor:function(){var e,t,i,o;return null!==(e=this.priceImpactV)&&void 0!==e&&null!==(t=e.gt)&&void 0!==t&&t.call(e,.4)?"#999":null!==(i=this.priceImpactV)&&void 0!==i&&null!==(o=i.gt)&&void 0!==o&&o.call(i,.1)?"#F7933F":0===this.activeTab?this.$store.getters.upColor[3]:1===this.activeTab?this.$store.getters.downColor[3]:"#558BED"},priceImpactColor:function(){var e,t,i,o,n,a;return null!==(e=this.priceImpactV)&&void 0!==e&&null!==(t=e.gt)&&void 0!==t&&t.call(e,.4)?"#F81111":null!==(i=this.priceImpactV)&&void 0!==i&&null!==(o=i.gt)&&void 0!==o&&o.call(i,.1)?"#F7933F":null!==(n=this.priceImpactV)&&void 0!==n&&null!==(a=n.gt)&&void 0!==a&&a.call(n,.05)?"#f8be46":""},swapTokens:function(){var e=Object(Qe["a"])(this.userBalanceTokens.slice());return this.tokens.slice().forEach((function(t){var i=e.find((function(e){return e.id===t.id}));i?i.logo_url=t.logo_url:e.push(t)})),e.length>0?e:this.tokens.slice()},isShow:function(){var e,t,i,o,n,a,l,r,s=this.$store.state.chainConfig||storage.get("chainConfig"),c=this.$store.getters.netId||(null===(e=this.$route.params)||void 0===e||null===(t=e.id)||void 0===t||null===(i=t.split)||void 0===i||null===(o=i.call(t,"-"))||void 0===o?void 0:o[1])||"";return!(!s||!c)&&(null!==(n=null===(a=s[c])||void 0===a||null===(l=a.swaps)||void 0===l||null===(r=l.some)||void 0===r?void 0:r.call(l,(function(e){return e.router_address})))&&void 0!==n&&n)},fromToken:function(){return 1===this.activeTab?this.token1:this.token2},toToken:function(){return 1===this.activeTab?this.token2:this.token1}},watch:{"$route.params.id":function(e){e&&"Swap"===this.$route.name&&(this.slippage="1",this.isTaxHigh=!1,this.isCannotSellAll=!1,this.baseTokenExtra={},this.baseTokenPrice=0,this.swapQuoteInfo.totalTax=0,this.swapQuoteInfo.total_sell_tax=0,this.swapQuoteInfo.total_buy_tax=0,this.selectedRouterIndex=0,this.getBaseToken(),this.getUserAllTxs(),this.getUserTokenList(),this.getAllowance(),this.getTokenDetails(),0===this.activeTab||1===this.activeTab?this.supportChain():2===this.activeTab&&this.supportChainLimit(),this.getLimitAllowance())},"$store.state.currentAccount":function(e){e&&"Swap"===this.$route.name&&(this.slippage="1",this.isTaxHigh=!1,this.isCannotSellAll=!1,this.selectedRouterIndex=0,this.getUserAllTxs(),this.getUserTokenList(),this.getSwapTokenList(),this.getAllowance(),this.getTokenDetails(),this.getLimitAllowance())},isPairShowMore:function(){this.getLeftHeight()},"$store.state.ws.tx":function(e){var t=this;this.tx=e,Ln||(Ln=setTimeout((function(){var e,i=t.tx,o=t.$store.state.chainConfig||storage.get("chainConfig"),n=t.baseToken.token.chain||"",a=null===o||void 0===o?void 0:o[n],l=null===a||void 0===a?void 0:a.wmainWrapper,r=null===(e=t.baseToken)||void 0===e?void 0:e.token.token;r===wi["e"]&&n&&l&&(r=l);var s=t.baseToken.token.price_change,c=100*Number(t.baseToken.token.current_price_usd)/(100+Number(s));i.from_address===r?(t.baseToken.token.current_price_usd=i.from_price_usd,t.baseToken.token.price_change=100*(i.from_price_usd-c)/c):i.to_address===r&&(t.baseToken.token.current_price_usd=i.to_price_usd,t.baseToken.token.price_change=100*(i.to_price_usd-c)/c),i.from_address===t.limitFromToken.address?t.limitFromToken.price=i.from_price_usd:i.to_address===t.limitFromToken.address&&(t.limitFromToken.price=i.to_price_usd),i.to_address===t.limitToToken.address?t.limitToToken.price=i.to_price_usd:i.from_address===t.limitToToken.address&&(t.limitToToken.price=i.from_price_usd),t.dataY=t.dataY.map((function(e,i,o){return i===o.length-1?t.baseToken.token.current_price_usd:e}));var m=t.baseToken.pairs.findIndex((function(e){return e.pair===i.pair_address}));if(m>-1){var d=t.baseToken.pairs[m];i.from_address===d.token0_address?(i.from_reserve&&(t.baseToken.pairs[m].reserve0=i.from_reserve,t.baseToken.pairs[m].token0_price_usd=i.from_price_usd),i.to_reserve&&(t.baseToken.pairs[m].reserve1=i.to_reserve,t.baseToken.pairs[m].token1_price_usd=i.to_price_usd)):(i.to_reserve&&(t.baseToken.pairs[m].reserve0=i.to_reserve,t.baseToken.pairs[m].token0_price_usd=i.to_price_usd),i.from_reserve&&(t.baseToken.pairs[m].reserve1=i.from_reserve,t.baseToken.pairs[m].token1_price_usd=i.from_price_usd))}Ln=null}),1e3))}},mounted:function(){this.getFeeInfo()},activated:function(){var e,t,i,o,n,a,l,r;this.activeTab=Number(this.$route.params.type)||0,this.tabActive1=Number(this.$route.params.type)?"limit":"swap";var s=sessionStorage.swap_token1?JSON.parse(sessionStorage.swap_token1):"",c=null===(e=this.$route.params)||void 0===e||null===(t=e.id)||void 0===t||null===(i=t.split)||void 0===i||null===(o=i.call(t,"-"))||void 0===o?void 0:o[0],m=this.$store.getters.netId||(null===(n=this.$route.params)||void 0===n||null===(a=n.id)||void 0===a||null===(l=a.split)||void 0===l||null===(r=l.call(a,"-"))||void 0===r?void 0:r[1])||"";c&&(c!==this.token1.address||s&&s.address!==c)?(this.token1={address:c||"",chain:m||"",balance:0,symbol:""},this.isLimitBaseToken?this.limitFromToken=Object(ze["a"])({},this.token1):this.limitToToken=Object(ze["a"])({},this.token1)):c||!s||m!==s.chain||this.token1.address||(this.limitToToken=Object(ze["a"])({},s),this.isLimitBaseToken?this.limitFromToken=Object(ze["a"])({},s):this.limitToToken=Object(ze["a"])({},s));var d=sessionStorage.swap_token2?JSON.parse(sessionStorage.swap_token2):"";d&&m===d.chain&&!this.token2.address&&(this.token2=Object(ze["a"])({},d),this.isLimitBaseToken?this.limitToToken=Object(ze["a"])({},d):this.limitFromToken=Object(ze["a"])({},d)),this.getBaseToken(),this.getUserAllTxs(),this.getUserTokenList(),this.getAllowance(),this.getSwapTokenList(),0===this.activeTab||1===this.activeTab?this.supportChain():2===this.activeTab&&this.supportChainLimit(),this.getLimitAllowance(),this.getLimitOrder()},methods:{init:function(){this.getBaseToken(),this.getUserAllTxs(),this.getUserTokenList(),this.getAllowance(),this.getSwapTokenList(),0===this.activeTab||1===this.activeTab?this.supportChain():2===this.activeTab&&this.supportChainLimit(),this.getLimitAllowance(),this.getLimitOrder()},formatUnits:ei["utils"].formatUnits,formatPrice:function(e){return this.$f.formatNumber(e&&""!==e&&this.$store.state.tokensPrice[e]||0)},getPrice:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return!e||!t||isNaN(Number(e))||isNaN(Number(t))?"0":this.$f.formatNumber2(new wo.a(t).times(100-i).div(100*e).toFixed(7))||"0"},getFeeInfo:function(){var e=this;Object(Zt["p"])().then((function(t){var i,o,n,a=null!==(i=t.platform_fee)&&void 0!==i?i:30,l=null!==(o=t.total_rebate)&&void 0!==o?o:40,r=null!==(n=t.to_rebate)&&void 0!==n?n:0,s=Math.trunc(a*(100-l+r)/100),c=Math.trunc(1e4*r/(100-l+r)),m={feeRate:t.to_rebate_address===wi["g"]?a:s,receiveRate:t.to_rebate_address===wi["g"]?0:c,referrer:t.to_rebate_address||""};e.$store.state.feeInfo=m}))},watchFromAmount:function(){if(!this.quoteLoading||this.isAmount){var e=this.fromAmount,t=Number(e);""===e||"."===e?(this.fromAmount="",this.toAmount="",this.quoteLoading=!1):0===t&&0!==Number(this.toAmount)?(this.toAmount=0,this.quoteLoading=!1):t&&(this.isAmount=!0,this.toAmount="",this.getQuoteInfo())}},watchToAmount:function(){if(!this.quoteLoading||!this.isAmount){var e=this.toAmount,t=Number(e);""===e||"."===e?(this.fromAmount="",this.toAmount="",this.quoteLoading=!1):0===t&&0!==Number(this.fromAmount)?(this.fromAmount=0,this.quoteLoading=!1):t&&(this.fromAmount="",this.isAmount=!1,this.getQuoteInfo(!1))}},handleFromAmountMax:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=this.fromToken.balance||0;t&&(i=(null===(e=this.fromToken)||void 0===e?void 0:e.address)===wi["e"]?new wo.a(i).minus(.01).times(t).toFixed(this.fromToken.decimals||0):new wo.a(i).times(t).toFixed(this.fromToken.decimals||0),0===Number(i)&&(i=""));this.fromAmount=i<0?0:i,this.watchFromAmount()},handlePercentChange:function(e,t){if(!t){var i,o=e/100,n=this.fromToken.balance||0;if(o)n=(null===(i=this.fromToken)||void 0===i?void 0:i.address)===wi["e"]?new wo.a(n).minus(.01).times(o).toFixed(this.fromToken.decimals||0):new wo.a(n).times(o).toFixed(this.fromToken.decimals||0),0===Number(n)&&(n="");else n="";this.fromAmount=n<0?0:n,this.watchFromAmount()}},handleToAmountMax:function(){this.toAmount=this.toToken.balance||0,this.watchToAmount()},switchTab:function(e){var t,i,o;(this.activeTab=e,this.$router.replace({name:"Swap",params:Object(ze["a"])(Object(ze["a"])({},this.$route.params),{},{type:e})}),0===e||1===e)?(null===(t=this.$refs)||void 0===t||null===(i=t.percentStep)||void 0===i||null===(o=i.handleClick)||void 0===o||o.call(i,0),this.fromAmount="",this.toAmount="",this.getAllowance(),this.tabActive1="swap"):2===e&&(this.supportChainLimit(),this.getLimitAllowance(),this.limitPrice=this.baseToken.token.current_price_usd?this.$f.formatNumber(this.baseToken.token.current_price_usd):"",this.tabActive1="limit")},switchLimitToken:function(){this.$refs.percentStep1.handleClick(0);var e=Object(ze["a"])({},this.limitFromToken);this.limitFromToken=this.limitToToken,this.limitToToken=e,this.isLimitBaseToken=!this.isLimitBaseToken,this.limitFromAmount="",this.limitToAmount="",this.getLimitAllowance()},handlePercentChange1:function(e,t){if(!t){var i=e/100,o=this.limitFromToken.balance||0;if(i){var n,a=this.limitFromToken.decimals||18;o=(null===(n=this.limitFromToken)||void 0===n?void 0:n.address)===wi["e"]?new wo.a(o).minus(.01).times(i).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(a,"})?")))[0]:new wo.a(o).times(i).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(a,"})?")))[0],0===Number(o)&&(o="")}else o="";this.limitFromAmount=o<0?0:o,this.watchLimitFromAmount()}},watchLimitFromAmount:function(){var e=this,t=this.limitFromAmount,i=Number(t);""===t||"."===t?(this.limitFromAmount="",this.limitToAmount=""):0===i&&0!==Number(this.limitToAmount)?this.limitToAmount=0:i&&(this.limitToAmount="",this.quoteLimitTokenPrice().then((function(t){if(e.limitToToken.price){var o,n,a=e.isLimitBaseToken?e.limitPrice:e.limitFromToken.price,l=e.isLimitBaseToken?e.limitToToken.price:e.limitPrice,r=e.limitToToken.decimals;e.limitToAmount=new wo.a(i).times(a||0).div(l||1).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(r,"})?")))[0];var s=e.isLimitBaseToken?e.limitFromAmount:e.limitToAmount,c=new wo.a("100").div(e.limitPrice).div(s),m=e.isLimitBaseToken?(null===(o=e.baseTokenExtra)||void 0===o?void 0:o.sell_tax)||0:(null===(n=e.baseTokenExtra)||void 0===n?void 0:n.buy_tax)||0,d=new wo.a(m).plus(20).plus(c);m=d.gte(50)?new wo.a(49):d,m=new wo.a(1).minus(m.div(100)),e.limitMinReturn=new wo.a(e.limitToAmount||0).times(m).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(r,"})?")))[0]}})))},watchLimitToAmount:function(){var e=this,t=this.limitToAmount,i=Number(t);""===t||"."===t?(this.limitFromAmount="",this.limitToAmount=""):0===i&&0!==Number(this.limitFromAmount)?this.limitFromAmount=0:i&&(console.log(i),this.limitFromAmount="",this.quoteLimitTokenPrice().then((function(t){if(e.limitFromToken.price){var o,n,a=e.isLimitBaseToken?e.limitPrice:e.limitFromToken.price,l=e.isLimitBaseToken?e.limitToToken.price:e.limitPrice;e.limitFromAmount=new wo.a(i).times(l||0).div(a||1).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(e.limitFromToken.decimals,"})?")))[0];var r=e.isLimitBaseToken?e.limitFromAmount:e.limitToAmount,s=new wo.a("100").div(e.limitPrice).div(r),c=e.isLimitBaseToken?(null===(o=e.baseTokenExtra)||void 0===o?void 0:o.sell_tax)||0:(null===(n=e.baseTokenExtra)||void 0===n?void 0:n.buy_tax)||0,m=new wo.a(c).plus(20).plus(s);c=m.gte(50)?new wo.a(49):m,c=new wo.a(1).minus(c.div(100)),e.limitMinReturn=new wo.a(e.limitToAmount||0).times(c).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(e.limitToToken.decimals,"})?")))[0]}})))},watchLimitPrice:function(){var e,t,i=this.isLimitBaseToken?this.limitPrice:this.limitFromToken.price,o=this.isLimitBaseToken?this.limitToToken.price:this.limitPrice;i&&o&&this.limitFromAmount?this.limitToAmount=new wo.a(this.limitFromAmount).times(i||0).div(o||1).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(this.limitToToken.decimals,"})?")))[0]:i&&o&&this.limitToAmount&&(this.limitFromAmount=new wo.a(this.limitToAmount).times(o||0).div(i||1).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(this.limitFromToken.decimals,"})?")))[0]);var n=this.isLimitBaseToken?this.limitFromAmount:this.limitToAmount,a=new wo.a("100").div(this.limitPrice).div(n),l=this.isLimitBaseToken?(null===(e=this.baseTokenExtra)||void 0===e?void 0:e.sell_tax)||0:(null===(t=this.baseTokenExtra)||void 0===t?void 0:t.buy_tax)||0,r=new wo.a(l).plus(20).plus(a);l=r.gte(50)?new wo.a(49):r,l=new wo.a(1).minus(l.div(100)),this.limitMinReturn=new wo.a(this.limitToAmount||0).times(l).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(this.limitToToken.decimals,"})?")))[0]},minusLimitPrice:function(){if(this.limitPrice&&new wo.a(this.limitPrice).gt("0")){var e=this.isLimitBaseToken?this.limitFromToken.decimals:this.limitToToken.decimals;this.limitPrice=this.$f.formatNumber(new wo.a(this.limitPrice).times(.99).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(e,"})?")))[0]),this.watchLimitPrice()}},addLimitPrice:function(){if(this.limitPrice&&new wo.a(this.limitPrice).gt("0")){var e=this.isLimitBaseToken?this.limitFromToken.decimals:this.limitToToken.decimals;this.limitPrice=this.$f.formatNumber(new wo.a(this.limitPrice).times(1.01).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(e,"})?")))[0]),this.watchLimitPrice()}},quoteLimitTokenPrice:function(){var e=this,t=this.limitToToken.chain,i=this.limitFromToken.address+"-"+t,o=this.limitToToken.address+"-"+t;return Object(Zt["y"])([i,o]).then(function(){var t=Object(Me["a"])(regeneratorRuntime.mark((function t(i){var o,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.limitFromToken.price=(null===i||void 0===i||null===(o=i[0])||void 0===o?void 0:o.current_price_usd)||0,e.limitToToken.price=(null===i||void 0===i||null===(n=i[1])||void 0===n?void 0:n.current_price_usd)||0,t.abrupt("return",[e.limitFromToken.price,e.limitToToken.price]);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},getLeftHeight:function(){var e=this;this.$nextTick((function(){var t=Object(Cn["o"])(e.$refs.swapLeft),i=t.height;e.height=i}))},handleWalletAddress:function(){""===this.$store.state.wallet||"importAddress"===this.$store.state.wallet?window.ethereum?(this.$store.state.importAddressVisible=!1,this.$store.commit("changeConnectVisible",!0)):this.$toast({message:this.$t("browserWalletNotDetected"),position:"top"}):this.$store.commit("changeDisconnectVisible",!0)},handleTaxSlippage:function(){if(1===this.activeTab){var e,t;if(Number(this.slippage)>Number(null===(e=this.baseTokenExtra)||void 0===e?void 0:e.sell_tax)+1)return;var i=Math.max(Math.min(Number(null===(t=this.baseTokenExtra)||void 0===t?void 0:t.sell_tax)+1,49.99),.5);this.slippage=String(Number(i.toFixed(2)))}else{var o,n;if(Number(this.slippage)>Number(null===(o=this.baseTokenExtra)||void 0===o?void 0:o.buy_tax)+1)return;var a=Math.max(Math.min(Number(null===(n=this.baseTokenExtra)||void 0===n?void 0:n.buy_tax)+1,49.99),.5);this.slippage=String(Number(a.toFixed(2)))}},onSubmit:function(){try{var e,t,i,o;if(""===this.$store.state.wallet||"importAddress"===this.$store.state.wallet)return void this.handleWalletAddress();if(!this.supportChain())return;var n=this.$store.getters.netId||(null===(e=this.$route.params)||void 0===e||null===(t=e.id)||void 0===t||null===(i=t.split)||void 0===i||null===(o=i.call(t,"-"))||void 0===o?void 0:o[1])||"";if(n!==this.netId)return void this.$toast({message:this.$t("plsSwitchChain",{chain:n}),position:"top"});0!==this.activeTab&&1!==this.activeTab||(this.isApprove?this.getSwapTx():this.approve())}catch(a){console.log(a)}},getSwapTokenList:function(){var e,t,i,o,n=this,a=this.$store.getters.netId||(null===(e=this.$route.params)||void 0===e||null===(t=e.id)||void 0===t||null===(i=t.split)||void 0===i||null===(o=i.call(t,"-"))||void 0===o?void 0:o[1])||"bsc";Object(Zt["v"])(a).then((function(e){if(n.tokens=(null===e||void 0===e?void 0:e.map((function(e){return Object(ze["a"])(Object(ze["a"])({},e),{},{id:e.token+"-"+e.chain,address:e.token})})))||[],(!n.token2.address||n.token1.address===n.token2.address)&&n.tokens.length>0){var t=n.tokens.findIndex((function(e){return/USDT$/.test(e.symbol)}));t=t<0?0:t;var i,o=n.tokens[t];if(n.token1.address===o.address)o=0===t&&null!==(i=n.tokens[1])&&void 0!==i?i:n.tokens[0];n.token2=Object(ze["a"])({},o)}if(n.isLimitBaseToken){if((!n.limitToToken.address||n.limitToToken.address===n.limitFromToken.address)&&n.tokens.length>0){var a=n.tokens.findIndex((function(e){return/USDT$/.test(e.symbol)}));a=a<0?0:a;var l,r=n.tokens[a];if(n.limitFromToken.address===r.address)r=0===a&&null!==(l=n.tokens[1])&&void 0!==l?l:n.tokens[0];n.limitToToken=Object(ze["a"])({},r)}}else if((!n.limitFromToken.address||n.limitToToken.address===n.limitFromToken.address)&&n.tokens.length>0){var s=n.tokens.findIndex((function(e){return/USDT$/.test(e.symbol)}));s=s<0?0:s;var c,m=n.tokens[s];if(n.limitToToken.address===m.address)m=0===s&&null!==(c=n.tokens[1])&&void 0!==c?c:n.tokens[0];n.limitFromToken=Object(ze["a"])({},m)}n.getTokenDetails()}))},getUserTokenList:function(){var e,t,i,o,n=this,a=this.$store.getters.netId||(null===(e=this.$route.params)||void 0===e||null===(t=e.id)||void 0===t||null===(i=t.split)||void 0===i||null===(o=i.call(t,"-"))||void 0===o?void 0:o[1])||"bsc";Object(Zt["A"])(a).then((function(e){var t,i,o;n.userBalanceTokens=null===(t=(null===e||void 0===e||null===(i=e.map((function(e){return Object(ze["a"])(Object(ze["a"])({},e),{},{id:e.token+"-"+e.chain,address:e.token})})))||void 0===i||null===(o=i.filter)||void 0===o?void 0:o.call(i,(function(e){return(e.risk_score||0)<60&&(e.risk_level||0)>=0&&"blacklist"!==e.flag&&""!==e.symbol&&"lp"!==e.flag})))||[])||void 0===t?void 0:t.filter((function(e){return!!Number(e.value)})),n.userBalanceTokens.length>0&&Object(Zt["g"])(n.userBalanceTokens.map((function(e){return e.token||""})),a).then((function(e){var t,i,o;n.userBalanceTokens=null===(t=n.userBalanceTokens)||void 0===t||null===(i=t.map)||void 0===i||null===(o=i.call(t,(function(t,i){return Object(ze["a"])(Object(ze["a"])({},t),{},{value:ei["utils"].formatUnits(e[i],t.decimals||0)})})))||void 0===o?void 0:o.filter((function(e){return!!Number(e.value)}))}))}))},getTokenDetails:function(){var e=this;Promise.all([this.getToken2Info(),this.getToken1Info()]).then((function(){0===e.activeTab?e.allowance=e.token2.allowance||"0":e.allowance=e.token1.allowance||"0"}))},getToken2Info:function(){var e,t,i=this;return Object(Zt["w"])(null===(e=this.token2)||void 0===e?void 0:e.address,null===(t=this.token2)||void 0===t?void 0:t.chain,wi["j"][this.$store.getters.netId]).then(function(){var e=Object(Me["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i.token2=Object(ze["a"])(Object(ze["a"])({},i.token2),t),sessionStorage.swap_token2=JSON.stringify(i.token2),t.address===i.limitFromToken.address?i.limitFromToken=Object(ze["a"])(Object(ze["a"])({},i.limitFromToken),t):t.address===i.limitToToken.address&&(i.limitToToken=Object(ze["a"])(Object(ze["a"])({},i.limitToToken),t)),0!==i.activeTab&&1!==i.activeTab||(i.isLimitBaseToken?i.limitToToken=Object(ze["a"])(Object(ze["a"])({},i.limitToToken),t):i.limitFromToken=Object(ze["a"])(Object(ze["a"])({},i.limitFromToken),t)),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},getToken1Info:function(){var e,t,i=this;return Object(Zt["w"])(null===(e=this.token1)||void 0===e?void 0:e.address,null===(t=this.token1)||void 0===t?void 0:t.chain,wi["j"][this.$store.getters.netId]).then(function(){var e=Object(Me["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i.token1=Object(ze["a"])(Object(ze["a"])({},i.token1),t),sessionStorage.swap_token1=JSON.stringify(i.token1),t.address===i.limitFromToken.address?i.limitFromToken=Object(ze["a"])(Object(ze["a"])({},i.limitFromToken),t):t.address===i.limitToToken.address&&(i.limitToToken=Object(ze["a"])(Object(ze["a"])({},i.limitToToken),t)),0!==i.activeTab&&1!==i.activeTab||(i.isLimitBaseToken?i.limitFromToken=Object(ze["a"])(Object(ze["a"])({},i.limitFromToken),t):i.limitToToken=Object(ze["a"])(Object(ze["a"])({},i.limitToToken),t)),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},getBaseToken:function(){var e,t,i,o=this,n=(null===(e=this.$route.params)||void 0===e?void 0:e.id)||"",a=null===(t=n.split("-"))||void 0===t?void 0:t[0],l=null===(i=n.split("-"))||void 0===i?void 0:i[1];if(this.token1.address&&(a=this.token1.address),this.token1.chain&&(l=this.token1.chain),a&&l){var r,s,c=a+"-"+l,m=null===(r=this.$store.state)||void 0===r||null===(s=r.chainConfig)||void 0===s?void 0:s[l],d=null===m||void 0===m?void 0:m.wmainWrapper,u=null===m||void 0===m?void 0:m.mainName;a===wi["e"]&&l&&d&&(c=d+"-"+l);var p=Object(Zt["t"])(c).then(function(){var e=Object(Me["a"])(regeneratorRuntime.mark((function e(t){var i,n,l,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o.baseToken=Object(ze["a"])(Object(ze["a"])({},t),a===wi["e"]?{token:Object(ze["a"])(Object(ze["a"])({},t.token),{},{token:a,symbol:u,logoURI:o.$f.formatIcon(c)})}:{}),n=null===t||void 0===t||null===(i=t.pairs)||void 0===i?void 0:i[0],l=null===n||void 0===n?void 0:n.pair,r=null===n||void 0===n?void 0:n.chain,l&&o.getKlineHistory(l+"-"+r),o.token1=Object(ze["a"])(Object(ze["a"])({},o.token1),{},{address:o.baseToken.token.token},o.baseToken.token),sessionStorage.swap_token1=JSON.stringify(o.token1),o.isLimitBaseToken?o.limitFromToken=Object(ze["a"])(Object(ze["a"])({},o.limitFromToken),{},{address:o.baseToken.token.token},o.baseToken.token):o.limitToToken=Object(ze["a"])(Object(ze["a"])({},o.limitToToken),{},{address:o.baseToken.token.token},o.baseToken.token),o.getLeftHeight(),o.limitPrice=o.baseToken.token.current_price_usd?o.$f.formatNumber(o.baseToken.token.current_price_usd):"",e.abrupt("return",t);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),b=Object(Zt["x"])(n).then(function(){var e=Object(Me["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o.baseTokenExtra=Object(ze["a"])(Object(ze["a"])({},t),{},{buy_tax:Number(Number(t.buy_tax).toFixed(2)),sell_tax:Number(Number(t.sell_tax).toFixed(2))}),o.handleTaxSlippage(),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());Promise.all([p,b]).finally((function(){o.$store.dispatch("initWs",c)}))}},getSelectedRouter:function(e){var t,i,o,n;this.dialogListRouterVisible=!1,this.selectedRouterIndex=e;var a=this.$store.getters.netId||(null===(t=this.$route.params)||void 0===t||null===(i=t.id)||void 0===i||null===(o=i.split)||void 0===o||null===(n=o.call(i,"-"))||void 0===n?void 0:n[1])||"";this.isAmount?this.dealGetQuoteInfo(!0,a):this.dealGetQuoteInfo(!1,a)},getQuoteInfo:function(){var e,t,i,o,n=this,a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if("Swap"===this.$route.name&&this.supportChain())if(Number(this.fromAmount)||Number(this.toAmount)){An&&(clearTimeout(An),An=null);var l=this.$store.getters.netId||(null===(e=this.$route.params)||void 0===e||null===(t=e.id)||void 0===t||null===(i=t.split)||void 0===i||null===(o=i.call(t,"-"))||void 0===o?void 0:o[1])||"";An=setTimeout((function(){n.dealGetQuoteInfo(a,l)}),500)}else this.quoteLoading=!1},dealGetQuoteInfo:function(e,t){var i=this;if((this.fromAmount||this.toAmount)&&this.fromToken.address&&this.toToken.address){var o=this.fromToken.decimals,n=this.toToken.decimals;this.quoteLoading=!0;var a={from_token:this.fromToken.address,to_token:this.toToken.address,amountIn:e?ei["utils"].parseUnits(new wo.a(this.fromAmount||0).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(o,"})?")))[0],o).toString():0,amountOut:e?0:ei["utils"].parseUnits(new wo.a(this.toAmount||0).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(n,"})?")))[0],n).toString()};Object(Zt["C"])(a,t).then((function(t){var a=t[i.selectedRouterIndex],l=t[i.selectedRouterIndex].routerPath,r=!1;if(e){var s,c=ei["utils"].parseUnits(new wo.a(i.fromAmount||0).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(o,"})?")))[0],o).toString(),m=(null===(s=l[0])||void 0===s?void 0:s.amount)||0;r=c===m}else{var d,u=ei["utils"].parseUnits(new wo.a(i.toAmount||0).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(n,"})?")))[0],n).toString(),p=(null===(d=l[l.length-1])||void 0===d?void 0:d.amount)||0;r=u===p}if(r){if(1===a.from_cannot_sell_all){var b,h=new wo.a(ei["utils"].parseUnits(String(i.fromToken.balance),null===(b=i.fromToken)||void 0===b?void 0:b.decimals).toString()),f=new wo.a(null===a||void 0===a?void 0:a.routerPath[0].amount);i.isCannotSellAll=h.gt(0)&&f.div(h).gt(.99999)}else i.isCannotSellAll=!1;i.isTax=a.totalTax>0||a.total_sell_tax>0||a.total_buy_tax>0;var v=i.getPriceImpact(a);if(i.isTax||v.gt(.5)){i.isTaxHigh=a.total_sell_tax+a.total_buy_tax+1>49.99;var k=a.totalTax||a.total_sell_tax+a.total_buy_tax,g=Number(v),O=k+g+(k>5||g>5?2:1);O=Math.max(Math.min(O,49.99),.5),i.slippage=String(Number(O.toFixed(2)))}else i.isTaxHigh=!1,i.slippage="1";if(i.swapQuoteInfo=a,i.swapRouterPath=l.map((function(e,t){var i,o;return{symbol:e.symbol,nextAmm:(null===a||void 0===a||null===(i=a.pair_path)||void 0===i||null===(o=i[t])||void 0===o?void 0:o.amm)||""}})),i.listRouter=t.map((function(t){var o=0,n=0;if(e){var a,l=t.routerPath[t.routerPath.length-1];o=ei["utils"].formatUnits(l.amount||"0",(null===l||void 0===l?void 0:l.decimals)||(null===(a=i.toToken)||void 0===a?void 0:a.decimals))}else{var r=t.routerPath[0];n=ei["utils"].formatUnits(r.amount||"0",(null===r||void 0===r?void 0:r.decimals)||i.fromToken.decimals)}var s=t.routerPath.map((function(e,i){var o,n;return{symbol:e.symbol,nextAmm:(null===t||void 0===t||null===(o=t.pair_path)||void 0===o||null===(n=o[i])||void 0===n?void 0:n.amm)||""}}));return Object(ze["a"])(Object(ze["a"])({},s),{},{amount:e?o:n,priceImpact:t.priceImpact})})),e){var j,w=l[l.length-1];i.toAmount=ei["utils"].formatUnits(w.amount||"0",(null===w||void 0===w?void 0:w.decimals)||(null===(j=i.toToken)||void 0===j?void 0:j.decimals))}else{var T,y=l[0];i.fromAmount=ei["utils"].formatUnits(y.amount||"0",(null===y||void 0===y?void 0:y.decimals)||(null===(T=i.fromToken)||void 0===T?void 0:T.decimals))}var N=a.totalTax||a.total_sell_tax+a.total_buy_tax||0;i.baseTokenPrice=new wo.a(i.toAmount).div(i.fromAmount).times(100-N).div(100).toFixed(),r&&i.$nextTick((function(){setTimeout((function(){i.quoteLoading=!1,i.countDownFinishReset()}),800)}))}})).catch((function(t){console.log(t),i.$f.handleError(t),e?i.toAmount="":i.fromAmount="",i.$nextTick((function(){setTimeout((function(){i.quoteLoading=!1,i.countDownFinishReset()}),800)}))}))}},handleSelectToken2:function(e){sessionStorage.swap_token2=JSON.stringify(e),this.swapRouterPath=[],this.swapQuoteInfo.totalTax=0,this.swapQuoteInfo.total_sell_tax=0,this.swapQuoteInfo.total_buy_tax=0,this.slippage="1",this.baseTokenPrice=0,this.selectedRouterIndex=0,this.fromAmount="",this.toAmount="",this.getAllowance(),this.getToken2Info()},handleSelectToken1:function(e){sessionStorage.swap_token1=JSON.stringify(e),this.swapRouterPath=[],this.swapQuoteInfo.totalTax=0,this.swapQuoteInfo.total_sell_tax=0,this.swapQuoteInfo.total_buy_tax=0,this.slippage="1",this.baseTokenPrice=0,this.selectedRouterIndex=0,this.fromAmount="",this.toAmount="",this.getToken1Info(),this.$router.replace({name:"Swap",params:{id:((null===e||void 0===e?void 0:e.address)||(null===e||void 0===e?void 0:e.token))+"-"+e.chain,type:this.$route.params.type||""}})},handleSelectLimitFromToken:function(e){this.slippage="1",this.limitFromAmount="",this.limitToAmount="",this.$refs.percentStep1.handleClick(0),this.getLimitAllowance(),this.isLimitBaseToken?(sessionStorage.swap_token1=JSON.stringify(e),this.token1=Object(ze["a"])({},e),this.$router.replace({name:"Swap",params:{id:((null===e||void 0===e?void 0:e.address)||(null===e||void 0===e?void 0:e.token))+"-"+e.chain,type:this.$route.params.type||""}}).catch((function(e){console.log("err",e)}))):(sessionStorage.swap_token2=JSON.stringify(e),this.token2=Object(ze["a"])({},e)),e.address===this.token1.address?this.getToken1Info():e.address===this.token2.address&&this.getToken2Info()},handleSelectLimitToToken:function(e){this.slippage="1",this.limitFromAmount="",this.limitToAmount="",this.$refs.percentStep1.handleClick(0),this.isLimitBaseToken?(sessionStorage.swap_token2=JSON.stringify(e),this.token2=Object(ze["a"])({},e)):(sessionStorage.swap_token1=JSON.stringify(e),this.token1=Object(ze["a"])({},e),this.$router.replace({name:"Swap",params:{id:((null===e||void 0===e?void 0:e.address)||(null===e||void 0===e?void 0:e.token))+"-"+e.chain,type:this.$route.params.type||""}}).catch((function(e){console.log("err",e)}))),e.address===this.token1.address?this.getToken1Info():e.address===this.token2.address&&this.getToken2Info()},getAllowance:function(){var e=this;if(this.$store.getters.netId&&this.$store.getters.netId===this.fromToken.chain&&this.fromToken.address){var t=wi["j"][this.$store.getters.netId];Object(Zt["b"])(this.fromToken.address,t).then((function(t){e.allowance=t.toString()}))}},approve:function(){var e=this;return Object(Me["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loadingApprove=!0,Object(Zt["c"])(e.fromToken.address).then((function(e){return e.wait()})).then((function(t){console.log(t),e.getAllowance()})).catch((function(t){console.log("err",t),e.$f.handleError(t)})).finally((function(){e.loadingApprove=!1}));case 2:case"end":return t.stop()}}),t)})))()},getSwapTx:function(){var e,t,i=this,o=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.checkAmount()?(null===(e=this.swapQuoteInfo)||void 0===e||null===(t=e.routerPath)||void 0===t?void 0:t.length)>0&&(this.loadingSwap=!0,Object(Zt["G"])(this.swapQuoteInfo,this.slippage).then(function(){var e=Object(Me["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i.swapSubmitInfo=t,i.swapInfo=t.swapInfo,i.swapInfo.gasValue=t.gasValue,i.swapInfo.swapRouterPath=i.swapRouterPath,i.loadingSwap=!1,console.log("swapInfo",i.swapInfo),o&&(i.dialogVisibleSwap=!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log("err--",e),i.loadingSwap=!1,i.$f.handleError(e)})),this.getNativeTokenPrice(),this.getGasPrice()):this.$dialog.alert({title:this.$t("tips"),message:this.checkAmountMessage(),confirmButtonText:this.$t("okay"),confirmButtonColor:"#558BED"})},submitSwap:function(){var e=arguments,t=this;return Object(Me["a"])(regeneratorRuntime.mark((function i(){var o,n,a,l,r,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return o=e.length>0&&void 0!==e[0]?e[0]:t.swapSubmitInfo,i.prev=1,t.loadingConfirmSwap=!0,console.log("swapSubmitInfo",o),i.next=6,o.swapCallStatic.apply(o,Object(Qe["a"])(o.params));case 6:n=i.sent,console.log("swapCallStaticResult",n.toString()),a=o.swapInfo,l=!(a.fromToken.isWrapper&&a.toToken.isETH||a.toToken.isWrapper&&a.fromToken.isETH),console.log("isSwap",l),r={from_address:a.fromToken.address,from_symbol:a.fromToken.symbol,from_amount:Number(ei["utils"].formatUnits(a.fromTokenAmount||0,a.fromToken.decimals)),to_address:a.toToken.address,to_symbol:a.toToken.symbol,to_amount:Number(ei["utils"].formatUnits(a.toTokenAmount||0,a.toToken.decimals)),chain:t.netId,transaction:"",wallet_address:t.$store.state.currentAccount},s={},o.swap.apply(o,Object(Qe["a"])(o.params)).then((function(e){return console.log("---confirm transaction---",e),t.swapInfo.transaction=e.hash,l&&(r.transaction=e.hash,s={time:parseInt(Date.now()/1e3),id:r.transaction,chain:t.netId,transaction:e.hash,from_address:r.from_address,from_price_eth:0,from_price_usd:"",from_symbol:a.fromToken.symbol,from_amount:Number(ei["utils"].formatUnits(a.fromTokenAmount||0,a.fromToken.decimals)),to_address:r.to_address,to_price_eth:0,to_price_usd:"",to_symbol:a.toToken.symbol,to_amount:Number(ei["utils"].formatUnits(a.toTokenAmount||0,a.toToken.decimals)),is_merged:0},t.initTxs.unshift(s)),t.loadingConfirmSwap=!1,t.fromAmount="",t.toAmount="",t.dialogVisibleSwap=!1,e.wait()})).then((function(e){return console.log("----transaction---",e),t.$notify({type:"success",message:t.$t("tradeSuccess")}),t.getTokenDetails(),t.getUserTokenList(),t.getAllowance(),l&&(t.initTxs.forEach((function(t){t.transaction===e.transactionHash&&(t.is_merged=1,t.time=parseInt(Date.now()/1e3))})),t.getUserAllTxs(s)),e})).catch((function(e){t.$refs.countDown.reset(),t.loadingConfirmSwap=!1,l&&t.getUserAllTxs(),t.$f.handleError(e,"swap")})),i.next=21;break;case 16:i.prev=16,i.t0=i["catch"](1),console.log("err--11111",i.t0),t.loadingConfirmSwap=!1,t.$f.handleError(i.t0,"swap");case 21:case"end":return i.stop()}}),i,null,[[1,16]])})))()},checkAmount:function(){if(""===this.$store.state.wallet||"importAddress"===this.$store.state.wallet)return this.handleWalletAddress(),!0;var e=this.fromToken.balance||0;return!(0===Number(e)||Number(e)<Number(this.fromAmount)||""===this.$store.state.wallet||"0"===String(this.fromAmount))},checkAmountMessage:function(){var e=this.fromToken.balance||0;return Number(0===!e||Number(e)<Number(this.fromAmount)||""===this.$store.state.wallet)?this.$t("insufficientBalance"):"0"===String(this.fromAmount)?this.$t("AmountCannotBeZero"):void 0},getNativeTokenPrice:function(){var e,t,i,o,n,a,l,r,s=this;if(this.$store.getters.netId===(null===(e=this.$route.params)||void 0===e||null===(t=e.id)||void 0===t||null===(i=t.split)||void 0===i||null===(o=i.call(t,"-"))||void 0===o?void 0:o[1])){In&&clearTimeout(In);var c=this.$store.getters.netId||(null===(n=this.$route.params)||void 0===n||null===(a=n.id)||void 0===a||null===(l=a.split)||void 0===l||null===(r=l.call(a,"-"))||void 0===r?void 0:r[1])||"";Object(Zt["u"])(c).then((function(e){s.nativePrice=e,console.log(e)})).finally((function(){}))}},getKlineHistory:function(e){var t,i,o,n,a=this;Object(Zt["r"])(e,"1",(null===(t=this.$route.params)||void 0===t||null===(i=t.id)||void 0===i||null===(o=i.split)||void 0===o||null===(n=o.call(i,"-"))||void 0===n?void 0:n[1])||"").then((function(e){var t,i=(null===e||void 0===e||null===(t=e.slice)||void 0===t?void 0:t.call(e,-10))||[];a.dataX=i.map((function(e){return e.time})),a.dataY=i.map((function(e){return e.close}))}))},goHistory:function(){this.$router.push({name:"SwapTxs"})},getUserAllTxs:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=this.$store.state.currentAccount;i&&(this.txsLoading=!0,Object(Zt["z"])().then((function(i){var o,n,a,l,r=Array.isArray(i)?i:[],s=t&&!(null!==r&&void 0!==r&&null!==(o=r.some)&&void 0!==o&&o.call(r,(function(e){return e.transaction===t.transaction})))&&Date.now()-1e3*t.time<6e5;s&&setTimeout((function(){e.getUserAllTxs(t)}),1e4),r.length>0&&(e.initTxs=(null===r||void 0===r?void 0:r.map((function(e){return e.id?Object(ze["a"])({},e):Object(ze["a"])(Object(ze["a"])({},e),{},{id:e.transaction})})))||[]),!s||null!==(n=(a=e.initTxs).some)&&void 0!==n&&n.call(a,(function(e){return e.transaction===t.transaction}))||e.initTxs.unshift(t);var c=[],m={};null===r||void 0===r||null===(l=r.forEach)||void 0===l||l.call(r,(function(e){m[e.from_address]||(c.push({address:e.from_address,symbol:e.from_symbol,chain:e.chain}),m[e.from_address]=!0),m[e.to_address]||(c.push({address:e.to_address,symbol:e.to_symbol,chain:e.chain}),m[e.to_address]=!0)})),e.txsTokens=c,sessionStorage.txsTokens=JSON.stringify(c||[])})).finally((function(){e.txsLoading=!1})))},alertTips:function(e,t){this.$dialog.alert({title:e,message:t,confirmButtonText:this.$t("getIt"),confirmButtonColor:"#558BED"}).then((function(){}))},supportChain:function(){if("Swap"===this.$route.name){var e,t,i,o,n,a,l,r,s,c,m,d,u,p=this.$store.getters.netId||(null===(e=this.$route.params)||void 0===e||null===(t=e.id)||void 0===t||null===(i=t.split)||void 0===i||null===(o=i.call(t,"-"))||void 0===o?void 0:o[1])||"",b=["eth","bsc","oec","heco","ethw","fsc","telegramx","drac"];if(p&&(null===b||void 0===b||null===(n=b.includes)||void 0===n||!n.call(b,p)))return this.$dialog.confirm({title:"",message:this.$t("notYetSupportedChainTips",{chains:"Ethereum, BSC, OKC, Heco, EthereumPoW, FSC, TelegramX, DRAC"}),confirmButtonText:null!==(c=window)&&void 0!==c&&null!==(m=c._tw_)&&void 0!==m&&m.appSwitchChain?this.$t("switchChain"):this.$t("getIt"),confirmButtonColor:"#558BED"}).then((function(){var e,t,i,o;null!==(e=window)&&void 0!==e&&null!==(t=e._tw_)&&void 0!==t&&t.appSwitchChain&&(null===(i=window)||void 0===i||null===(o=i._tw_)||void 0===o||o.appSwitchChain())})),!1;if((null===(a=this.$route.params)||void 0===a||null===(l=a.id)||void 0===l||null===(r=l.split)||void 0===r||null===(s=r.call(l,"-"))||void 0===s?void 0:s[1])!==this.$store.getters.netId&&this.$store.getters.netId)return this.$dialog.confirm({title:"",message:this.$t("chainNotSame"),confirmButtonText:null!==(d=window)&&void 0!==d&&null!==(u=d._tw_)&&void 0!==u&&u.appSwitchChain?this.$t("switchChain"):this.$t("getIt"),confirmButtonColor:"#558BED",cancelButtonText:this.$t("cancel")}).then((function(){var e,t,i,o;null!==(e=window)&&void 0!==e&&null!==(t=e._tw_)&&void 0!==t&&t.appSwitchChain&&(null===(i=window)||void 0===i||null===(o=i._tw_)||void 0===o||o.appSwitchChain())})),!1}return!0},getGasPrice:function(){var e,t,i,o,n=this,a=this.$store.getters.netId||(null===(e=this.$route.params)||void 0===e||null===(t=e.id)||void 0===t||null===(i=t.split)||void 0===i||null===(o=i.call(t,"-"))||void 0===o?void 0:o[1])||"";Object(Zt["q"])(a).then((function(e){n.gasPrice=e.toString()})).catch((function(e){console.log(e),n.gasPrice="0"}))},getPriceImpact:function(e){if(!Number(this.fromAmount)&&!Number(this.toAmount))return new wo.a(0);var t=e.routerPath,i=(null===t||void 0===t?void 0:t.length)>0?null===t||void 0===t?void 0:t[0]:null,o=(null===t||void 0===t?void 0:t.length)>0?null===t||void 0===t?void 0:t[t.length-1]:null;if(i&&o){var n=e.from_price,a=e.to_price,l=ei["utils"].formatUnits(i.amount,i.decimals),r=ei["utils"].formatUnits(o.amount,o.decimals);return new wo.a(l).times(n).div(new wo.a(r).times(a)).minus(1).abs().times(100)}return new wo.a(0)},goAudit:function(){this.$f.openBrowser("https://beosin.com/audits/SwapFinder_202209021725.pdf")},onCountDownFinish:function(){this.loadingConfirmSwap||(this.isAmount?this.watchFromAmount():this.watchToAmount())},countDownFinishReset:function(){this.$refs.countDown.reset(),this.dialogVisibleSwap&&this.isApprove&&!this.loadingConfirmSwap&&this.getSwapTx(!1)},appSwitchChain:function(e){var t,i,o,n;null!==(t=window)&&void 0!==t&&null!==(i=t._tw_)&&void 0!==i&&i.appSwitchChain&&(null===(o=window)||void 0===o||null===(n=o._tw_)||void 0===n||n.appSwitchChain(),e.stopPropagation())},formatPriceImpactColor:function(e){return e>40?"#F81111":e>10?"#F7933F":e>5?"#f8be46":""},goLiquidity:function(){var e,t;if(null!==(e=window)&&void 0!==e&&null!==(t=e._tw_)&&void 0!==t&&t.openLp){var i,o,n,a,l,r,s=this.$store.state.chainConfig||storage.get("chainConfig"),c=this.$store.getters.netId||(null===(i=this.$route.params)||void 0===i||null===(o=i.id)||void 0===o||null===(n=o.split)||void 0===n||null===(a=n.call(o,"-"))||void 0===a?void 0:a[1])||"",m=null===s||void 0===s?void 0:s[c],d=null===m||void 0===m?void 0:m.wmainWrapper,u=null===(l=s[c])||void 0===l?void 0:l.swaps,p=null===(r=this.baseToken)||void 0===r?void 0:r.pairs,b=p.find((function(e){return u.some((function(t){return t.name===e.amm&&t.router_address}))}));if(b){var h,f,v=b.token0_address===d?wi["e"]:b.token0_address,k=b.token1_address===d?wi["e"]:b.token1_address,g=b.amm;null===(h=window)||void 0===h||null===(f=h._tw_)||void 0===f||f.openLp(v,k,g)}else{var O,j,w,T,y=this.tokenInfo.address||(null===(O=this.baseToken)||void 0===O||null===(j=O.token)||void 0===j?void 0:j.token)||"";y=y===d?wi["e"]:y,null===(w=window)||void 0===w||null===(T=w._tw_)||void 0===T||T.openLp(y,"","")}}},checkLimitAmount:function(){if(""===this.$store.state.wallet||"importAddress"===this.$store.state.wallet)return this.handleWalletAddress(),!0;var e=this.limitFromToken.balance||0;return!(0===Number(e)||Number(e)<Number(this.limitFromAmount)||""===this.$store.state.wallet||"0"===String(this.limitFromAmount))},checkLimitAmountMessage:function(){var e=this.limitFromToken.balance||0;return Number(0===!e||Number(e)<Number(this.limitFromAmount)||""===this.$store.state.wallet)?this.$t("insufficientBalance"):"0"===String(this.limitFromAmount)?this.$t("AmountCannotBeZero"):void 0},getLimitAllowance:function(){var e=this;if(this.$store.getters.netId&&this.$store.getters.netId===this.limitFromToken.chain&&this.limitFromToken.address){var t=this.limitFromToken.chain||this.$store.getters.netId||"bsc",i=wi["h"][t];Object(Zt["b"])(this.limitFromToken.address,i).then((function(t){e.limitAllowance=t.toString(),console.log("limitAllowance",e.limitAllowance)}))}},getLimitOrder:function(){var e=this;if(this.$store.getters.netId){var t=this.limitFromToken.chain||this.$store.getters.netId||"bsc";this.loadingGetLimitOrder=!0,Object(Zt["s"])({chain:t}).then((function(t){e.limitOrders=t})).finally((function(){setTimeout((function(){e.loadingGetLimitOrder=!1}),800)}))}},approveLimit:function(){var e=this;return Object(Me["a"])(regeneratorRuntime.mark((function t(){var i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.supportChainLimit()){t.next=2;break}return t.abrupt("return");case 2:e.loadingLimitApprove=!0,i=e.limitFromToken.chain||e.$store.getters.netId||"bsc",o=wi["h"][i],Object(Zt["c"])(e.limitFromToken.address,o).then((function(e){return e.wait()})).then((function(t){console.log(t),e.getLimitAllowance()})).catch((function(t){console.log("err",t),e.$f.handleError(t)})).finally((function(){e.loadingLimitApprove=!1}));case 6:case"end":return t.stop()}}),t)})))()},supportChainLimit:function(){if("Swap"===this.$route.name){var e,t,i,o,n,a,l,r,s,c,m,d=this.$store.getters.netId||(null===(e=this.$route.params)||void 0===e||null===(t=e.id)||void 0===t||null===(i=t.split)||void 0===i||null===(o=i.call(t,"-"))||void 0===o?void 0:o[1])||"",u=Object.keys(wi["h"]),p=this.$store.state.chainConfig||storage.get("chainConfig"),b=u.map((function(e){return p[e].name})).join(", ");if(d&&(null===u||void 0===u||null===(n=u.includes)||void 0===n||!n.call(u,d)))return this.$toast({message:this.$t("notYetSupportedChainLimitTips",{chains:b}),position:"top"}),!1;if((null===(a=this.$route.params)||void 0===a||null===(l=a.id)||void 0===l||null===(r=l.split)||void 0===r||null===(s=r.call(l,"-"))||void 0===s?void 0:s[1])!==this.$store.getters.netId&&this.$store.getters.netId)return this.$dialog.confirm({title:"",message:this.$t("chainNotSame"),confirmButtonText:null!==(c=window)&&void 0!==c&&null!==(m=c._tw_)&&void 0!==m&&m.appSwitchChain?this.$t("switchChain"):this.$t("getIt"),confirmButtonColor:"#558BED",cancelButtonText:this.$t("cancel")}).then((function(){var e,t,i,o;null!==(e=window)&&void 0!==e&&null!==(t=e._tw_)&&void 0!==t&&t.appSwitchChain&&(null===(i=window)||void 0===i||null===(o=i._tw_)||void 0===o||o.appSwitchChain())})),!1}return!0},onLimitSubmit:function(){try{var e,t,i,o;if(""===this.$store.state.wallet||"importAddress"===this.$store.state.wallet)return void this.handleWalletAddress();if(!this.supportChainLimit())return;var n=this.$store.getters.netId||(null===(e=this.$route.params)||void 0===e||null===(t=e.id)||void 0===t||null===(i=t.split)||void 0===i||null===(o=i.call(t,"-"))||void 0===o?void 0:o[1])||"";if(n!==this.netId)return void this.$toast({message:this.$t("plsSwitchChain",{chain:n}),position:"top"});2===this.activeTab&&(this.isLimitApprove?this.openConfirmLimit():this.approveLimit())}catch(a){console.log(a)}},openConfirmLimit:function(){var e,t,i=this.isLimitBaseToken?this.limitFromAmount:this.limitToAmount,o=new wo.a("100").div(this.limitPrice).div(i),n=this.isLimitBaseToken?(null===(e=this.baseTokenExtra)||void 0===e?void 0:e.sell_tax)||0:(null===(t=this.baseTokenExtra)||void 0===t?void 0:t.buy_tax)||0,a=new wo.a(n).plus(20).plus(o);n=a.gte(50)?new wo.a(49):a,n=new wo.a(1).minus(n.div(100)),console.log("slippage",(a.gte(50)?new wo.a(49):a).toString());var l=new wo.a(i).times(this.limitPrice).gt(2.955);l?(this.limitInfo={fromToken:this.limitFromToken,toToken:this.limitToToken,fromAmount:this.limitFromAmount,toAmount:this.limitToAmount,targetToken:this.isLimitBaseToken?this.limitFromToken.address:this.limitToToken.address,targetLimitPrice:this.limitPrice,isLimitBaseToken:this.isLimitBaseToken,minReturn:new wo.a(this.limitToAmount||0).times(n).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(this.limitToToken.decimals,"})?")))[0]},this.dialogVisibleLimit=!0):this.$dialog.alert({title:this.$t("tips"),message:this.$t("minimumTransactionAmount"),confirmButtonText:this.$t("okay"),confirmButtonColor:"#558BED"})},submitLimitOrder:function(){var e,t,i=this;if(this.supportChainLimit()){var o=this.isLimitBaseToken?this.limitFromAmount:this.limitToAmount,n=new wo.a("100").div(this.limitPrice).div(o),a=this.isLimitBaseToken?(null===(e=this.baseTokenExtra)||void 0===e?void 0:e.sell_tax)||0:(null===(t=this.baseTokenExtra)||void 0===t?void 0:t.buy_tax)||0,l=new wo.a(a).plus(20).plus(n);a=l.gte(50)?new wo.a(49):l,a=new wo.a(1).minus(a.div(100));var r=this.$store.state.currentAccount;console.log("maker",r);var s=this.limitFromToken.address,c=ei["utils"].parseUnits(new wo.a(this.limitFromAmount||0).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(this.limitFromToken.decimals,"})?")))[0],this.limitFromToken.decimals).toString(),m=this.limitToToken.address,d=ei["utils"].parseUnits(new wo.a(this.limitToAmount||0).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(this.limitToToken.decimals,"})?")))[0],this.limitToToken.decimals).toString(),u=ei["utils"].parseUnits(new wo.a(this.limitToAmount||0).times(a).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(this.limitToToken.decimals,"})?")))[0],this.limitToToken.decimals).toString(),p=this.isLimitBaseToken?this.limitFromToken.address:this.limitToToken.address,b=this.limitPrice;this.loadingConfirmLimit=!0,Object(Zt["F"])(r,s,c,m,u,d,p,b).then((function(e){console.log(e),i.$notify({type:"success",message:i.$t("submitOrdersSuccess")}),i.getLimitOrder(),i.limitFromAmount="",i.limitToAmount=""})).catch((function(e){i.$f.handleError(e),console.log(e)})).finally((function(){i.loadingConfirmLimit=!1,i.dialogVisibleLimit=!1}))}}}};i("4782");const Dn=Xe()(Fn,[["render",Re],["__scopeId","data-v-2bf21c9a"]]);t["default"]=Dn},3731:function(e,t,i){"use strict";i("f898")},"377f":function(e,t,i){},"37be":function(e,t,i){"use strict";i("78ee")},"449c":function(e,t,i){"use strict";var o=i("7a23"),n=function(e){return Object(o["pushScopeId"])("data-v-249758bf"),e=e(),Object(o["popScopeId"])(),e},a=n((function(){return Object(o["createElementVNode"])("use",{"xlink:href":"#icon-slippage"},null,-1)})),l=[a],r={class:"popup-title"},s={class:"slippage-label"},c={style:{width:"100%"}},m={class:"radio-group"},d={key:0,style:{flex:"1"}},u=["id","value"],p=["for"],b={class:"slippage-input"},h=n((function(){return Object(o["createElementVNode"])("span",null,"%",-1)})),f={class:"form-submit"};function v(e,t,i,n,a,v){var k=this,g=Object(o["resolveComponent"])("van-field"),O=Object(o["resolveComponent"])("van-button"),j=Object(o["resolveComponent"])("van-form"),w=Object(o["resolveComponent"])("van-popup");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[(Object(o["openBlock"])(),Object(o["createElementBlock"])("svg",{class:"icon-svg icon-slippage","aria-hidden":"true",onClick:t[0]||(t[0]=Object(o["withModifiers"])((function(e){return a.slippageVisible=!0}),["stop"]))},l)),Object(o["createVNode"])(w,{show:a.slippageVisible,"onUpdate:show":t[5]||(t[5]=function(e){return a.slippageVisible=e}),class:"popup-container",closeable:!0,"close-on-click-overlay":!1,"close-on-popstate":!1,round:"",position:"center",teleport:"#app",style:{width:"90%","min-height":"20vh"}},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("h3",r,Object(o["toDisplayString"])(e.$t("setSlippage")),1),Object(o["createVNode"])(j,{class:"popup-content",onSubmit:v.confirmSubmit},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",s,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("slippage")),1),Object(o["createElementVNode"])("i",{class:"iconfont icon-changjianwentixiangguanwenti",onClick:t[1]||(t[1]=Object(o["withModifiers"])((function(){return v.openSlippageTips&&v.openSlippageTips.apply(v,arguments)}),["stop"])),style:{"font-size":"0.38rem","margin-left":"0.05rem",color:"#558BED"}})]),Object(o["createVNode"])(g,{name:"slippage",modelValue:a.slippageValue,"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.slippageValue=e}),label:"",style:{"--van-cell-horizontal-padding":"0"},rules:[{required:!0,message:k.$t("enterSlippage")},{validator:v.validator,message:k.$t("slippageMaxTip")}],border:!1},{input:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",c,[Object(o["createElementVNode"])("div",m,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(a.slippageList,(function(e,i){return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:i},[0!==i?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",d)):Object(o["createCommentVNode"])("",!0),Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"radio",id:"radio-".concat(e),"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.slippageValue=e}),value:e,class:"radio-input"},null,8,u),[[o["vModelRadio"],a.slippageValue]]),Object(o["createElementVNode"])("label",{for:"radio-".concat(e),class:"radio-item"},Object(o["toDisplayString"])(e)+"%",9,p)],64)})),128))]),Object(o["createElementVNode"])("div",b,[Object(o["createVNode"])(g,{class:"input",name:"slippage",type:"number",min:"0",max:"49.99",modelValue:a.slippageValue,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.slippageValue=e}),onBlur:v.handleBlur,clearable:""},null,8,["modelValue","onBlur"]),h])])]})),_:1},8,["modelValue","rules"]),Object(o["createElementVNode"])("div",f,[Object(o["createVNode"])(O,{class:"btn",block:"",round:"","native-type":"submit",size:"normal",type:"primary"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("confirm1")),1)]})),_:1})])]})),_:1},8,["onSubmit"])]})),_:1},8,["show"])],64)}i("a9e3");var k={name:"slippageButton",props:{slippage:{type:String,default:"1"}},emits:["update:slippage"],data:function(){return{slippageVisible:!1,slippageList:["0.1","0.5","1"],slippageValue:this.slippage||"1"}},watch:{slippageVisible:function(e){e&&(this.slippageValue=this.slippage||"1")}},methods:{confirmSubmit:function(){this.$emit("update:slippage",this.slippageValue),this.slippageVisible=!1},openSlippageTips:function(){this.$dialog.alert({title:this.$t("slippage"),message:this.$t("slippageTips"),confirmButtonText:this.$t("iKnown"),confirmButtonColor:"#558BED",messageAlign:"left"}).then((function(){}))},handleBlur:function(){this.slippageVisible&&Number(this.slippageValue)<0&&(this.slippageValue=0)},validator:function(e){return Number(e)<=49.99}}},g=(i("da73"),i("6b0d")),O=i.n(g);const j=O()(k,[["render",v],["__scopeId","data-v-249758bf"]]);t["a"]=j},4511:function(e,t,i){"use strict";var o=i("7a23"),n=function(e){return Object(o["pushScopeId"])("data-v-96e14eba"),e=e(),Object(o["popScopeId"])(),e},a=["src"],l=n((function(){return Object(o["createElementVNode"])("i",{class:"iconfont icon-collapse-down"},null,-1)})),r=n((function(){return Object(o["createElementVNode"])("svg",{class:"icon-svg","aria-hidden":"true"},[Object(o["createElementVNode"])("use",{"xlink:href":"#icon-qianbao1"})],-1)}));function s(e,t,i,n,s,c){return""!==e.$store.state.wallet&&"importAddress"!==e.$store.state.wallet&&c.netId?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:0,class:"left",onClick:t[1]||(t[1]=Object(o["withModifiers"])((function(){return c.handleWalletAddress&&c.handleWalletAddress.apply(c,arguments)}),["stop"]))},[c.netId?(Object(o["openBlock"])(),Object(o["createElementBlock"])("img",{key:0,onClick:t[0]||(t[0]=function(){return c.appSwitchChain&&c.appSwitchChain.apply(c,arguments)}),class:"icon-svg icon-net-connect",src:"https://avesp.xyz/oss/chain/".concat(c.netId,".png"),alt:"",srcset:""},null,8,a)):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(c.currentAccountSplit),1),l])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:1,class:"left",onClick:t[2]||(t[2]=Object(o["withModifiers"])((function(){return c.handleWalletAddress&&c.handleWalletAddress.apply(c,arguments)}),["stop"]))},[r,Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("connectWallet")),1)]))}i("ac1f"),i("5319"),i("4d63"),i("c607"),i("2c3e"),i("25f0");var c={name:"ConnectButton",computed:{currentAccount:function(){return this.$store.state.currentAccount||""},currentAccountSplit:function(){return this.currentAccount.replace(new RegExp("(.{6})(.+)(.{4})"),"$1...$3")},netId:function(){return this.$store.getters.netId}},methods:{handleWalletAddress:function(){""===this.$store.state.wallet||"importAddress"===this.$store.state.wallet?window.ethereum?(this.$store.state.importAddressVisible=!1,this.$store.commit("changeConnectVisible",!0)):this.$toast({message:this.$t("browserWalletNotDetected"),position:"top"}):this.$store.commit("changeDisconnectVisible",!0)},appSwitchChain:function(e){var t,i,o,n;null!==(t=window)&&void 0!==t&&null!==(i=t._tw_)&&void 0!==i&&i.appSwitchChain&&(null===(o=window)||void 0===o||null===(n=o._tw_)||void 0===n||n.appSwitchChain(),e.stopPropagation())}}},m=(i("598e"),i("6b0d")),d=i.n(m);const u=d()(c,[["render",s],["__scopeId","data-v-96e14eba"]]);t["a"]=u},4782:function(e,t,i){"use strict";i("d937")},"57c9":function(e,t,i){"use strict";i("a9e3");var o=i("7a23"),n=i("afd7"),a=i.n(n),l={class:"tx-li-item_1"},r={style:{display:"flex","align-item":"center","justify-content":"left","min-width":"42%"}},s={style:{display:"flex","align-item":"center",flex:"1","justify-content":"center","overflow-x":"hidden"}},c={key:0,src:a.a,style:{width:"100%"},alt:"",srcset:""},m={key:1,class:"iconfont icon-jiantou2"},d={style:{display:"flex","align-item":"center","min-width":"42%","justify-content":"right"}},u={class:"tx-li-item_3"},p={key:0},b={key:1},h={key:2},f={key:3};function v(e,t,n,a,v,k){var g=Object(o["resolveComponent"])("van-image");return Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{class:"tx-li-item",onClick:t[0]||(t[0]=Object(o["withModifiers"])((function(){return k.goLink&&k.goLink.apply(k,arguments)}),["stop"]))},[Object(o["createElementVNode"])("div",l,[Object(o["createElementVNode"])("div",r,[Object(o["createVNode"])(g,{round:"",width:"0.32rem",height:"0.32rem","icon-size":"0.32rem",style:{"margin-right":"0.1rem"},"lazy-load":"","show-loading":"",src:e.$f.formatIcon(n.item.from_address+"-"+n.item.chain),"error-icon":i("aecc")},null,8,["src","error-icon"]),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$f.formatNumber2(n.item.from_amount))+" "+Object(o["toDisplayString"])(n.item.from_symbol||""),1)]),Object(o["createElementVNode"])("div",s,[0===n.item.is_merged?(Object(o["openBlock"])(),Object(o["createElementBlock"])("img",c)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("i",m))]),Object(o["createElementVNode"])("div",d,[Object(o["createVNode"])(g,{round:"",width:"0.32rem",height:"0.32rem","icon-size":"0.32rem",style:{"margin-right":"0.1rem"},"lazy-load":"","show-loading":"",src:e.$f.formatIcon(n.item.to_address+"-"+n.item.chain),"error-icon":i("aecc")},null,8,["src","error-icon"]),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$f.formatNumber2(n.item.to_amount))+" "+Object(o["toDisplayString"])(n.item.to_symbol||""),1)])]),Object(o["createElementVNode"])("ul",u,[Object(o["createElementVNode"])("li",null,[1===n.item.is_merged?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",p,Object(o["toDisplayString"])(e.$f.formatDate(n.item.time)),1)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",b,"--")),1===n.item.is_merged&&""!==n.item.from_price_usd?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",h,"$"+Object(o["toDisplayString"])(e.$f.formatNumber2((Number(n.item.from_amount)||0)*(Number(n.item.from_price_usd)||0))),1)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",f,"--"))])])])}var k={name:"TxItem",props:{item:Object},data:function(){return{}},methods:{goLink:function(){this.$f.openBrowser(this.$f.formatExplorerUrl(this.item.chain,this.item.transaction,"tx"))}}},g=(i("14b8"),i("6b0d")),O=i.n(g);const j=O()(k,[["render",v],["__scopeId","data-v-92f54958"]]);t["a"]=j},5959:function(e,t,i){},"598e":function(e,t,i){"use strict";i("d9b4")},7449:function(e,t,i){"use strict";i("dcee")},"78ee":function(e,t,i){},"8e5e":function(e,t,i){},"93c0":function(e,t,i){e.exports=i.p+"static/img/jfswaplogo.8e49f590.svg"},"965b":function(e,t,i){e.exports=i.p+"static/img/audit-logo.01052351.png"},a4d2:function(e,t,i){"use strict";i("b34e")},a7d7:function(e,t,i){},aecc:function(e,t,i){e.exports=i.p+"static/img/icon-default.75f6e9a0.png"},afd7:function(e,t,i){e.exports=i.p+"static/img/loading.fdd45987.svg"},b34e:function(e,t,i){},c228:function(e,t,i){},c59b:function(e,t,i){},d64a:function(e,t,i){"use strict";i("e74c")},d937:function(e,t,i){},d9b4:function(e,t,i){},da4c:function(e,t,i){"use strict";i("c228")},da73:function(e,t,i){"use strict";i("8e5e")},dcee:function(e,t,i){},e035:function(e,t,i){},e524:function(e,t,i){e.exports=i.p+"static/img/arrow-right.484eb652.svg"},e74c:function(e,t,i){},e7b0:function(e,t,i){"use strict";i("377f")},f0e9:function(e,t,i){"use strict";i("5959")},f37e:function(e,t,i){"use strict";i("c59b")},f898:function(e,t,i){},f8d0:function(e,t,i){"use strict";i("a7d7")}}]);