(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Bridge"],{"0ad2":function(e,t,n){},"11a6":function(e,t,n){},"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"3b2c":function(e,t,n){"use strict";n("0ad2")},"449c":function(e,t,n){"use strict";var o=n("7a23"),i=function(e){return Object(o["pushScopeId"])("data-v-249758bf"),e=e(),Object(o["popScopeId"])(),e},c=i((function(){return Object(o["createElementVNode"])("use",{"xlink:href":"#icon-slippage"},null,-1)})),a=[c],r={class:"popup-title"},s={class:"slippage-label"},l={style:{width:"100%"}},d={class:"radio-group"},u={key:0,style:{flex:"1"}},m=["id","value"],b=["for"],p={class:"slippage-input"},h=i((function(){return Object(o["createElementVNode"])("span",null,"%",-1)})),f={class:"form-submit"};function g(e,t,n,i,c,g){var j=this,O=Object(o["resolveComponent"])("van-field"),k=Object(o["resolveComponent"])("van-button"),v=Object(o["resolveComponent"])("van-form"),T=Object(o["resolveComponent"])("van-popup");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[(Object(o["openBlock"])(),Object(o["createElementBlock"])("svg",{class:"icon-svg icon-slippage","aria-hidden":"true",onClick:t[0]||(t[0]=Object(o["withModifiers"])((function(e){return c.slippageVisible=!0}),["stop"]))},a)),Object(o["createVNode"])(T,{show:c.slippageVisible,"onUpdate:show":t[5]||(t[5]=function(e){return c.slippageVisible=e}),class:"popup-container",closeable:!0,"close-on-click-overlay":!1,"close-on-popstate":!1,round:"",position:"center",teleport:"#app",style:{width:"90%","min-height":"20vh"}},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("h3",r,Object(o["toDisplayString"])(e.$t("setSlippage")),1),Object(o["createVNode"])(v,{class:"popup-content",onSubmit:g.confirmSubmit},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",s,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("slippage")),1),Object(o["createElementVNode"])("i",{class:"iconfont icon-changjianwentixiangguanwenti",onClick:t[1]||(t[1]=Object(o["withModifiers"])((function(){return g.openSlippageTips&&g.openSlippageTips.apply(g,arguments)}),["stop"])),style:{"font-size":"0.38rem","margin-left":"0.05rem",color:"#558BED"}})]),Object(o["createVNode"])(O,{name:"slippage",modelValue:c.slippageValue,"onUpdate:modelValue":t[4]||(t[4]=function(e){return c.slippageValue=e}),label:"",style:{"--van-cell-horizontal-padding":"0"},rules:[{required:!0,message:j.$t("enterSlippage")},{validator:g.validator,message:j.$t("slippageMaxTip")}],border:!1},{input:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",l,[Object(o["createElementVNode"])("div",d,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(c.slippageList,(function(e,n){return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:n},[0!==n?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",u)):Object(o["createCommentVNode"])("",!0),Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"radio",id:"radio-".concat(e),"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.slippageValue=e}),value:e,class:"radio-input"},null,8,m),[[o["vModelRadio"],c.slippageValue]]),Object(o["createElementVNode"])("label",{for:"radio-".concat(e),class:"radio-item"},Object(o["toDisplayString"])(e)+"%",9,b)],64)})),128))]),Object(o["createElementVNode"])("div",p,[Object(o["createVNode"])(O,{class:"input",name:"slippage",type:"number",min:"0",max:"49.99",modelValue:c.slippageValue,"onUpdate:modelValue":t[3]||(t[3]=function(e){return c.slippageValue=e}),onBlur:g.handleBlur,clearable:""},null,8,["modelValue","onBlur"]),h])])]})),_:1},8,["modelValue","rules"]),Object(o["createElementVNode"])("div",f,[Object(o["createVNode"])(k,{class:"btn",block:"",round:"","native-type":"submit",size:"normal",type:"primary"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("confirm1")),1)]})),_:1})])]})),_:1},8,["onSubmit"])]})),_:1},8,["show"])],64)}n("a9e3");var j={name:"slippageButton",props:{slippage:{type:String,default:"1"}},emits:["update:slippage"],data:function(){return{slippageVisible:!1,slippageList:["0.1","0.5","1"],slippageValue:this.slippage||"1"}},watch:{slippageVisible:function(e){e&&(this.slippageValue=this.slippage||"1")}},methods:{confirmSubmit:function(){this.$emit("update:slippage",this.slippageValue),this.slippageVisible=!1},openSlippageTips:function(){this.$dialog.alert({title:this.$t("slippage"),message:this.$t("slippageTips"),confirmButtonText:this.$t("iKnown"),confirmButtonColor:"#558BED",messageAlign:"left"}).then((function(){}))},handleBlur:function(){this.slippageVisible&&Number(this.slippageValue)<0&&(this.slippageValue=0)},validator:function(e){return Number(e)<=49.99}}},O=(n("da73"),n("6b0d")),k=n.n(O);const v=k()(j,[["render",g],["__scopeId","data-v-249758bf"]]);t["a"]=v},4511:function(e,t,n){"use strict";var o=n("7a23"),i=function(e){return Object(o["pushScopeId"])("data-v-96e14eba"),e=e(),Object(o["popScopeId"])(),e},c=["src"],a=i((function(){return Object(o["createElementVNode"])("i",{class:"iconfont icon-collapse-down"},null,-1)})),r=i((function(){return Object(o["createElementVNode"])("svg",{class:"icon-svg","aria-hidden":"true"},[Object(o["createElementVNode"])("use",{"xlink:href":"#icon-qianbao1"})],-1)}));function s(e,t,n,i,s,l){return""!==e.$store.state.wallet&&"importAddress"!==e.$store.state.wallet&&l.netId?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:0,class:"left",onClick:t[1]||(t[1]=Object(o["withModifiers"])((function(){return l.handleWalletAddress&&l.handleWalletAddress.apply(l,arguments)}),["stop"]))},[l.netId?(Object(o["openBlock"])(),Object(o["createElementBlock"])("img",{key:0,onClick:t[0]||(t[0]=function(){return l.appSwitchChain&&l.appSwitchChain.apply(l,arguments)}),class:"icon-svg icon-net-connect",src:"https://avesp.xyz/oss/chain/".concat(l.netId,".png"),alt:"",srcset:""},null,8,c)):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(l.currentAccountSplit),1),a])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:1,class:"left",onClick:t[2]||(t[2]=Object(o["withModifiers"])((function(){return l.handleWalletAddress&&l.handleWalletAddress.apply(l,arguments)}),["stop"]))},[r,Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("connectWallet")),1)]))}n("ac1f"),n("5319"),n("4d63"),n("c607"),n("2c3e"),n("25f0");var l={name:"ConnectButton",computed:{currentAccount:function(){return this.$store.state.currentAccount||""},currentAccountSplit:function(){return this.currentAccount.replace(new RegExp("(.{6})(.+)(.{4})"),"$1...$3")},netId:function(){return this.$store.getters.netId}},methods:{handleWalletAddress:function(){""===this.$store.state.wallet||"importAddress"===this.$store.state.wallet?window.ethereum?(this.$store.state.importAddressVisible=!1,this.$store.commit("changeConnectVisible",!0)):this.$toast({message:this.$t("browserWalletNotDetected"),position:"top"}):this.$store.commit("changeDisconnectVisible",!0)},appSwitchChain:function(e){var t,n,o,i;null!==(t=window)&&void 0!==t&&null!==(n=t._tw_)&&void 0!==n&&n.appSwitchChain&&(null===(o=window)||void 0===o||null===(i=o._tw_)||void 0===i||i.appSwitchChain(),e.stopPropagation())}}},d=(n("598e"),n("6b0d")),u=n.n(d);const m=u()(l,[["render",s],["__scopeId","data-v-96e14eba"]]);t["a"]=m},5489:function(e,t,n){"use strict";n.r(t);var o=n("7a23"),i=n("f7fa"),c=n.n(i),a=function(e){return Object(o["pushScopeId"])("data-v-5e8d2f24"),e=e(),Object(o["popScopeId"])(),e},r={class:"bridge-container"},s={class:"top"},l=a((function(){return Object(o["createElementVNode"])("span",{style:{flex:"1"}},null,-1)})),d=["xlink:href"],u={class:"card-container"},m={class:"card-container_top"},b={class:"flex items-center"},p={class:"flex justify-between items-center mt-40"},h={class:"switch-container"},f=a((function(){return Object(o["createElementVNode"])("i",{class:"iconfont icon-switch"},null,-1)})),g=[f],j={class:"card-container"},O={class:"card-container_top"},k={class:"flex justify-between items-center mt-40"},v={class:"card-container flex items-center justify-between mt-6 min-h-40"},T={class:"card-container flex items-center justify-between mt-6 min-h-40"},w={class:"rate-container flex items-center justify-center"},y={key:0},V={key:1},N={class:"card-container txs-container"},C={class:"van-hairline--bottom"},S={class:"support-container"},E={class:"pop-content"},B={class:"icon-container"},x={class:"text-1"};function $(e,t,n,i,a,f){var $=this,A=Object(o["resolveComponent"])("ConnectButton"),D=Object(o["resolveComponent"])("van-count-down"),_=Object(o["resolveComponent"])("SlippageButton"),I=Object(o["resolveComponent"])("van-button"),U=Object(o["resolveComponent"])("SelectBridgeToken"),F=Object(o["resolveComponent"])("van-field"),z=Object(o["resolveComponent"])("SelectDex"),M=Object(o["resolveComponent"])("van-form"),L=Object(o["resolveComponent"])("van-empty"),R=Object(o["resolveComponent"])("BridgeTxItem"),H=Object(o["resolveComponent"])("DynamicScrollerItem"),W=Object(o["resolveComponent"])("DynamicScroller"),K=Object(o["resolveComponent"])("ConfirmBridgeSwap"),P=Object(o["resolveComponent"])("van-icon"),Q=Object(o["resolveComponent"])("van-action-sheet");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",r,[Object(o["createElementVNode"])("div",s,[Object(o["createVNode"])(A),l,Object(o["createVNode"])(D,{ref:"countDown",class:"icon-countDown",time:3e4,format:"sss",onFinish:f.onCountDownFinish},{default:Object(o["withCtx"])((function(e){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.seconds)+"s ",1)]})),_:1},8,["onFinish"]),Object(o["createVNode"])(_,{slippage:a.slippage,"onUpdate:slippage":t[0]||(t[0]=function(e){return a.slippage=e})},null,8,["slippage"]),(Object(o["openBlock"])(),Object(o["createElementBlock"])("svg",{class:"icon-svg icon-lang","aria-hidden":"true",onClick:t[1]||(t[1]=Object(o["withModifiers"])((function(t){return e.$store.state.changeLangVisible=!0}),["stop"]))},[Object(o["createElementVNode"])("use",{"xlink:href":"#icon-".concat(e.$store.getters.language,"-o")},null,8,d)]))]),Object(o["createVNode"])(M,{class:"form-container",onSubmit:f.onSubmit},{default:Object(o["withCtx"])((function(){var n;return[Object(o["createElementVNode"])("div",u,[Object(o["createElementVNode"])("div",m,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("from")),1),Object(o["createElementVNode"])("div",b,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("balance"))+": "+Object(o["toDisplayString"])(e.$f.formatNumber2((null===(n=i.fromToken)||void 0===n?void 0:n.balance)||"0")),1),Object(o["createVNode"])(I,{plain:"",type:"primary",round:"",size:"mini",class:"max-btn",onClick:Object(o["withModifiers"])(f.handleMax,["stop"])},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("max")),1)]})),_:1},8,["onClick"])])]),Object(o["createElementVNode"])("div",p,[Object(o["createVNode"])(U,{token:i.fromToken,"onUpdate:token":[t[2]||(t[2]=function(e){return i.fromToken=e}),f.handelTokenChange],tokens:a.tokens,switchChain:""},null,8,["token","tokens","onUpdate:token"]),Object(o["createVNode"])(F,{modelValue:a.fromTokenAmount,"onUpdate:modelValue":[t[3]||(t[3]=function(e){return a.fromTokenAmount=e}),f.watchFromAmount],placeholder:"0.0",type:"number","input-align":"right",clearable:"",class:"input-number"},null,8,["modelValue","onUpdate:modelValue"])])]),Object(o["createElementVNode"])("div",h,[Object(o["createElementVNode"])("div",{class:"switch-box",onClick:t[4]||(t[4]=Object(o["withModifiers"])((function(){return f.switchToken&&f.switchToken.apply(f,arguments)}),["stop"]))},g)]),Object(o["createElementVNode"])("div",j,[Object(o["createElementVNode"])("div",O,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("to")),1)]),Object(o["createElementVNode"])("div",k,[Object(o["createVNode"])(U,{token:i.toToken,"onUpdate:token":[t[5]||(t[5]=function(e){return i.toToken=e}),f.handelTokenChange],tokens:a.tokens},null,8,["token","tokens","onUpdate:token"]),Object(o["createVNode"])(F,{"model-value":f.toTokenAmount,readonly:"",placeholder:"0.0",type:"number","input-align":"right",clearable:"",class:"input-number"},null,8,["model-value"])])]),Object(o["createElementVNode"])("div",v,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("receiveAddress")),1),Object(o["createVNode"])(F,{modelValue:a.toAddress,"onUpdate:modelValue":t[6]||(t[6]=function(e){return a.toAddress=e}),placeholder:e.$t("noCex"),"input-align":"right",clearable:"",class:"input-address"},null,8,["modelValue","placeholder"])]),Object(o["createElementVNode"])("div",T,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("exchangeChannel")),1),Object(o["createVNode"])(z,{bridge:a.bridge,"bridge-list":a.bridgeList},null,8,["bridge","bridge-list"])]),Object(o["createVNode"])(I,{class:"submit-btn",block:"","native-type":"submit",color:f.errorCode<=1||a.loading?"#3F80F7":"#aaa",round:"",loading:a.loading||a.loading1,"loading-text":a.loadingText,disabled:(f.errorCode>1||!a.fromTokenAmount||!f.toTokenAmount)&&1!==f.errorCode},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(f.submitMsg||""),1)]})),_:1},8,["color","loading","loading-text","disabled"]),Object(o["createElementVNode"])("div",w,[a.rateType?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",y,"1 "+Object(o["toDisplayString"])(i.fromToken.symbol)+" = "+Object(o["toDisplayString"])(f.getRate(1))+" "+Object(o["toDisplayString"])(i.toToken.symbol),1)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",V,"1 "+Object(o["toDisplayString"])(i.toToken.symbol)+" = "+Object(o["toDisplayString"])(f.getRate(0))+" "+Object(o["toDisplayString"])(i.fromToken.symbol),1)),Object(o["createElementVNode"])("i",{class:"iconfont icon-switch-h ml-5 clickable",onClick:t[7]||(t[7]=Object(o["withModifiers"])((function(e){return a.rateType=!a.rateType}),["stop"]))})])]})),_:1},8,["onSubmit"]),Object(o["createElementVNode"])("div",N,[Object(o["createElementVNode"])("h3",C,Object(o["toDisplayString"])(e.$t("exchangeHistory")),1),Object(o["withDirectives"])(Object(o["createVNode"])(L,{description:e.$t("empty"),class:"empty"},null,8,["description"]),[[o["vShow"],a.txs&&0===a.txs.length&&!a.loadingTxs]]),Object(o["createElementVNode"])("ul",null,[Object(o["createVNode"])(W,{items:a.txs,"min-item-size":30,"key-field":"createTimeT",class:"tokens"},{default:Object(o["withCtx"])((function(e){var t=e.item,n=e.index,i=e.active;return[Object(o["createVNode"])(H,{item:t,active:i,"data-index":n},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(R,{item:t},null,8,["item"])]})),_:2},1032,["item","active","data-index"])]})),_:1},8,["items"])])]),Object(o["createElementVNode"])("div",S,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("supported"))+": ",1),Object(o["createElementVNode"])("img",{src:c.a,onClick:t[8]||(t[8]=Object(o["withModifiers"])((function(t){return e.$f.openBrowser("https://www.swft.pro")}),["stop"])),alt:"",srcset:""})]),Object(o["createVNode"])(K,{visible:a.show,"onUpdate:visible":t[9]||(t[9]=function(e){return a.show=e}),fromToken:i.fromToken,toToken:i.toToken,bridge:a.bridge,fromTokenAmount:a.fromTokenAmount,toTokenAmount:f.toTokenAmount,loading:a.loadingConfirm,onConfirmSwap:f.confirmSwap},null,8,["visible","fromToken","toToken","bridge","fromTokenAmount","toTokenAmount","loading","onConfirmSwap"]),Object(o["createVNode"])(Q,{show:a.confirmTxVisible,"onUpdate:show":t[11]||(t[11]=function(e){return a.confirmTxVisible=e}),title:e.$t("confirmSwap")},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",E,[Object(o["createElementVNode"])("div",B,[Object(o["createVNode"])(P,{class:"icon-s",name:"success",size:"0.64rem",color:"#3F80F7"})]),Object(o["createElementVNode"])("div",x,Object(o["toDisplayString"])(e.$t("transactionSubmitted")),1),Object(o["createElementVNode"])("a",{class:"text-2 clickable",href:"javascript:;",onClick:t[10]||(t[10]=function(t){return e.$f.openBrowser(e.$f.formatExplorerUrl(i.fromToken.chain,$.txHash,"tx"))}),rel:"noopener noreferrer"},Object(o["toDisplayString"])(e.$t("viewBlockExplorerTransactionHistory")),1)])]})),_:1},8,["show","title"])])}var A=n("5530"),D=(n("ac1f"),n("00b4"),n("99af"),n("d3b7"),n("25f0"),n("a9e3"),n("9129"),n("4de4"),n("caad"),n("b680"),n("4511")),_=n("449c"),I=(n("fb6a"),function(e){return Object(o["pushScopeId"])("data-v-04959765"),e=e(),Object(o["popScopeId"])(),e}),U={class:"select-box"},F={key:0,class:"token-container"},z={class:"icon-token-container"},M=["src"],L={key:1},R=I((function(){return Object(o["createElementVNode"])("i",{class:"iconfont icon-collapse-down"},null,-1)})),H={class:"rules-content"},W={class:"search-bar",action:"/"},K={style:{background:"#fff","padding-bottom":"1rem"}},P=["onClick"],Q={class:"main"},q={key:0,class:"risk-status high"},J={key:0,class:"minor"},Z=I((function(){return Object(o["createElementVNode"])("span",{style:{flex:"1"}},null,-1)})),G={class:"right-label"},X=I((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),Y={key:0,class:"minor"};function ee(e,t,i,c,a,r){var s,l,d,u,m,b=Object(o["resolveComponent"])("van-image"),p=Object(o["resolveComponent"])("van-search"),h=Object(o["resolveComponent"])("van-tab"),f=Object(o["resolveComponent"])("van-tabs"),g=Object(o["resolveComponent"])("van-empty"),j=Object(o["resolveComponent"])("van-icon"),O=Object(o["resolveComponent"])("van-action-sheet");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",U,[Object(o["createElementVNode"])("button",{class:"select-container",type:"button",onClick:t[0]||(t[0]=Object(o["withModifiers"])((function(e){return a.show=!0}),["stop"]))},[i.token.address?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",F,[Object(o["createElementVNode"])("div",z,[Object(o["createVNode"])(b,{round:"",width:"0.48rem",height:"0.48rem","icon-size":"0.48rem","lazy-load":"","show-loading":"",src:i.token.logoURI||e.$f.formatIcon((null===(s=i.token)||void 0===s?void 0:s.address)+"-"+(null===(l=i.token)||void 0===l?void 0:l.chain)||r.tabChain),"error-icon":n("aecc")},null,8,["src","error-icon"]),null!==(d=i.token)&&void 0!==d&&d.chain||r.tabChain?(Object(o["openBlock"])(),Object(o["createElementBlock"])("img",{key:0,class:"icon-svg icon-network",src:"https://www.avestorage.cloud/chain/".concat((null===(u=i.token)||void 0===u?void 0:u.chain)||r.tabChain,".png"),alt:"",srcset:""},null,8,M)):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])((null===(m=i.token)||void 0===m?void 0:m.symbol)||""),1)])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",L,Object(o["toDisplayString"])(e.$t("pleaseSelectToken")),1)),R]),Object(o["createVNode"])(O,{show:a.show,"onUpdate:show":t[3]||(t[3]=function(e){return a.show=e}),title:e.$t("selectToken"),style:{height:"80vh","--van-popup-background-color":"#fff"},"lazy-render":!1},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",H,[Object(o["createElementVNode"])("form",W,[Object(o["createVNode"])(p,{modelValue:a.keyword,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.keyword=e}),modelModifiers:{trim:!0},clearable:"",background:"#fff",shape:"round",placeholder:e.$t("searchContractORName"),onSearch:r.onSearch,onCancel:r.onCancel},null,8,["modelValue","placeholder","onSearch","onCancel"])]),Object(o["createVNode"])(f,{class:"tabs",active:a.active,"onUpdate:active":t[2]||(t[2]=function(e){return a.active=e}),shrink:"",color:"#558BED",style:{"--van-tabs-nav-background-color":"#fff"},onChange:r.tabChainChange},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.chains,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(h,{title:e,name:e,key:t},null,8,["title","name"])})),128))]})),_:1},8,["active","onChange"]),Object(o["createElementVNode"])("ul",K,[Object(o["withDirectives"])(Object(o["createVNode"])(g,{description:e.$t("empty"),class:"empty"},null,8,["description"]),[[o["vShow"],r.searchTokens&&0===r.searchTokens.length&&!a.loading]]),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.searchTokens,(function(t,c){return Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{class:"token-item",key:c,onClick:Object(o["withModifiers"])((function(e){return r.handleSelectToken(t)}),["stop"])},[Object(o["createVNode"])(b,{class:"icon-token",round:"",width:"0.6rem",height:"0.6rem","icon-size":"0.6rem","lazy-load":"","show-loading":"",src:t.logoURI||e.$f.formatIcon("".concat(t.address,"-").concat(r.tabChain)),"error-icon":n("aecc")},null,8,["src","error-icon"]),Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("div",Q,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(t.symbol),1),t.risk_score>60?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",q,Object(o["toDisplayString"])(e.$t("highRisk")),1)):Object(o["createCommentVNode"])("",!0)]),t.address!==a.NATIVE_TOKEN?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",J,Object(o["toDisplayString"])(t.address.slice(0,6)+"..."+t.address.slice(-6)),1)):Object(o["createCommentVNode"])("",!0)]),Z,Object(o["createElementVNode"])("div",G,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(t.balance?e.$f.formatNumber2(t.balance):""),1),X,t.price?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",Y,"$"+Object(o["toDisplayString"])(t.balance?e.$f.formatNumber2(t.balance*t.price):""),1)):Object(o["createCommentVNode"])("",!0)]),t.address===i.token.address&&r.tabChain===i.token.chain?(Object(o["openBlock"])(),Object(o["createBlock"])(j,{key:0,size:"0.32rem",color:"#558BED",name:"success"})):(Object(o["openBlock"])(),Object(o["createBlock"])(j,{key:1,style:{opacity:"0"},size:"0.32rem",color:"#558BED",name:"success"}))],8,P)})),128))])])]})),_:1},8,["show","title"])])}n("4d63"),n("c607"),n("2c3e"),n("b0c0"),n("b64b"),n("2532"),n("d81d"),n("841c"),n("159b");var te=n("c9d9"),ne=n("fa7d"),oe=n("365c"),ie=n("6779"),ce=null,ae={name:"SelectBridgeToken",props:{tokens:{type:Object,default:function(){return{}}},token:{type:Object,default:function(){return{address:"",chain:""}}},switchChain:{type:Boolean,default:!1}},emits:["onSelect","update:token"],data:function(){return{show:!1,keyword:"",loading:!1,NATIVE_TOKEN:te["e"],active:Object(oe["h"])(this.$store.getters.netId,2)}},computed:{searchTokens:function(){var e;if(!this.active||!this.tokens)return[];var t=(null===(e=this.tokens)||void 0===e?void 0:e[this.active])||[];if(""===this.keyword)return t;var n=new RegExp(this.keyword,"i");return t.filter((function(e){return n.test(e.symbol)||n.test(e.name)||n.test(e.address)}))},chain:function(){return this.$store.getters.netId},tabChain:function(){return Object(oe["h"])(this.active)},chains:function(){var e=["ETH","BSC","HECO","OKEXCHAIN","POLYGON","ETC","ETHW","ETHF","AVALANCHE","FANTOM","ARBITRUM","OPTIMISM","KCC","CUBE"],t=Object.keys(this.tokens);return e.filter((function(e){return t.includes(e)}))}},watch:{tokens:function(){this.tokens[this.active]&&this.getBalanceList(this.active)}},methods:{getBalanceList:function(e){var t,n,o=this,i=Object(oe["h"])(e),c=(null===(t=this.tokens)||void 0===t?void 0:t[e])||[];Array.isArray(null===(n=this.tokens)||void 0===n?void 0:n[e])&&Object(oe["g"])(c.map((function(e){return e.address})),i).then((function(t){o.tokens[e]=c.map((function(e,n){return Object(A["a"])(Object(A["a"])({},e),{},{balance:ie["utils"].formatUnits(t[n].toString(),e.decimals)})}))}))},tabChainChange:function(e){var t=this;if(this.switchChain){var n=Object(oe["h"])(e);Object(ne["g"])(n).finally((function(){t.getBalanceList(e)}))}},onSearch:function(e){console.log(e),ce&&(clearTimeout(ce),ce=null),this.search()},onCancel:function(){this.keyword="",this.show=!1},handleSelectToken:function(e){var t=this;if(null!==e&&void 0!==e&&e.address){var n=Object(A["a"])(Object(A["a"])({},e),{},{chain:this.tabChain,bridgeChain:this.active});this.$emit("update:token",n),Object.keys(n).forEach((function(e){t.token[e]=n[e]})),this.show=!1}},tokenSearch:function(){var e=this;ce&&(clearTimeout(ce),ce=null),ce=setTimeout((function(){e.search()}),500)}}},re=(n("b7ae"),n("6b0d")),se=n.n(re);const le=se()(ae,[["render",ee],["__scopeId","data-v-04959765"]]);var de=le,ue=function(e){return Object(o["pushScopeId"])("data-v-724d9fef"),e=e(),Object(o["popScopeId"])(),e},me={class:"select-box"},be=ue((function(){return Object(o["createElementVNode"])("i",{class:"iconfont icon-collapse-down"},null,-1)})),pe={key:1},he={style:{background:"#fff","padding-bottom":"1rem"}},fe={class:"token-item header"},ge=ue((function(){return Object(o["createElementVNode"])("span",{style:{flex:"1"}},null,-1)})),je={class:"right-label"},Oe=ue((function(){return Object(o["createElementVNode"])("span",{style:{width:"0.32rem"}},null,-1)})),ke=["onClick"],ve={class:"main"},Te={key:0,class:"tag"},we=ue((function(){return Object(o["createElementVNode"])("span",{style:{flex:"1"}},null,-1)})),ye={class:"right-label"};function Ve(e,t,i,c,a,r){var s=Object(o["resolveComponent"])("van-image"),l=Object(o["resolveComponent"])("van-empty"),d=Object(o["resolveComponent"])("van-icon"),u=Object(o["resolveComponent"])("van-action-sheet");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",me,[i.bridge.dex?(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:0,class:"select-container",type:"button",onClick:t[0]||(t[0]=Object(o["withModifiers"])((function(e){return a.show=!0}),["stop"]))},[Object(o["createVNode"])(s,{class:"icon-token mr-5",round:"",width:"0.36rem",height:"0.36rem","lazy-load":"","show-loading":"",src:i.bridge.logoUrl,"error-icon":n("aecc")},null,8,["src","error-icon"]),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(i.bridge.dex),1),be])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",pe,"--")),Object(o["createVNode"])(u,{show:a.show,"onUpdate:show":t[1]||(t[1]=function(e){return a.show=e}),title:e.$t("exchangeChannel"),style:{height:"70%","--van-popup-background-color":"#fff"}},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("ul",he,[Object(o["createElementVNode"])("li",fe,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("channel")),1),ge,Object(o["createElementVNode"])("span",je,Object(o["toDisplayString"])(e.$t("expectedAmount1")),1),Oe]),Object(o["withDirectives"])(Object(o["createVNode"])(l,{description:e.$t("empty"),class:"empty"},null,8,["description"]),[[o["vShow"],i.bridgeList&&0===i.bridgeList.length&&!a.loading]]),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(i.bridgeList,(function(t,c){return Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{key:c,class:"token-item",onClick:Object(o["withModifiers"])((function(e){return r.handleSelectToken(t)}),["stop"])},[Object(o["createVNode"])(s,{class:"icon-token",round:"",width:"0.48rem",height:"0.48rem","icon-size":"0.48rem","lazy-load":"","show-loading":"",src:t.logoUrl,"error-icon":n("aecc")},null,8,["src","error-icon"]),Object(o["createElementVNode"])("div",ve,Object(o["toDisplayString"])(t.dex),1),0===c?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Te,Object(o["toDisplayString"])(e.$t("best")),1)):Object(o["createCommentVNode"])("",!0),we,Object(o["createElementVNode"])("div",ye,Object(o["toDisplayString"])(t.toTokenAmount),1),t.dex===i.bridge.dex?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:1,size:"0.32rem",color:"#558BED",name:"success"})):(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:2,style:{opacity:"0"},size:"0.32rem",color:"#558BED",name:"success"}))],8,ke)})),128))])]})),_:1},8,["show","title"])])}var Ne={name:"SelectDex",props:{bridgeList:{type:Array,default:function(){return[]}},bridge:{type:Object,default:function(){return{dex:"",logoUrl:""}}}},emits:["onSelect","update:bridge"],data:function(){return{show:!1,keyword:"",loading:!1}},methods:{handleSelectToken:function(e){var t=this;if(null!==e&&void 0!==e&&e.dex){var n=Object(A["a"])({},e);this.$emit("update:bridge",n),Object.keys(n).forEach((function(e){t.bridge[e]=n[e]})),this.show=!1}}}};n("9c8e");const Ce=se()(Ne,[["render",Ve],["__scopeId","data-v-724d9fef"]]);var Se=Ce,Ee=function(e){return Object(o["pushScopeId"])("data-v-d58ada8a"),e=e(),Object(o["popScopeId"])(),e},Be={style:{background:"#fff","padding-bottom":"1rem"},class:"swap-container"},xe={class:"flex justify-between"},$e=Ee((function(){return Object(o["createElementVNode"])("span",null,null,-1)})),Ae={class:"flex justify-between mt-20"},De={key:0,class:"token-container"},_e={class:"icon-token-container"},Ie=["src"],Ue={class:"flex justify-between mt-20"},Fe={key:0,class:"token-container"},ze={class:"icon-token-container"},Me=["src"],Le={class:"flex justify-between li-item mt-20"},Re={class:"flex justify-between li-item"},He={class:"flex justify-between items-center"},We={class:"flex justify-between li-item"},Ke={class:"flex justify-between li-item"},Pe={class:"flex justify-between li-item"},Qe={key:0,class:"flex justify-between li-item"},qe={class:"tips"};function Je(e,t,i,c,a,r){var s=Object(o["resolveComponent"])("van-image"),l=Object(o["resolveComponent"])("van-button"),d=Object(o["resolveComponent"])("van-action-sheet");return Object(o["openBlock"])(),Object(o["createBlock"])(d,{show:r.show,"onUpdate:show":t[1]||(t[1]=function(e){return r.show=e}),title:e.$t("confirmSwap"),style:{height:"70%","--van-popup-background-color":"#fff"}},{default:Object(o["withCtx"])((function(){var c,a,r,d,u,m,b,p,h,f,g,j,O;return[Object(o["createElementVNode"])("ul",Be,[Object(o["createElementVNode"])("li",xe,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("youWillSwap")),1),$e]),Object(o["createElementVNode"])("li",Ae,[i.fromToken.address?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",De,[Object(o["createElementVNode"])("div",_e,[Object(o["createVNode"])(s,{round:"",width:"0.48rem",height:"0.48rem","icon-size":"0.48rem","lazy-load":"","show-loading":"",src:i.fromToken.logoURI||e.$f.formatIcon((null===(c=i.fromToken)||void 0===c?void 0:c.address)+"-"+(null===(a=i.fromToken)||void 0===a?void 0:a.chain)),"error-icon":n("aecc")},null,8,["src","error-icon"]),null!==(r=i.fromToken)&&void 0!==r&&r.chain?(Object(o["openBlock"])(),Object(o["createElementBlock"])("img",{key:0,class:"icon-svg icon-network",src:"https://www.avestorage.cloud/chain/".concat(null===(d=i.fromToken)||void 0===d?void 0:d.chain,".png"),alt:"",srcset:""},null,8,Ie)):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])((null===(u=i.fromToken)||void 0===u?void 0:u.symbol)||""),1)])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(i.fromTokenAmount),1)]),Object(o["createElementVNode"])("li",Ue,[i.fromToken.address?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Fe,[Object(o["createElementVNode"])("div",ze,[Object(o["createVNode"])(s,{round:"",width:"0.48rem",height:"0.48rem","icon-size":"0.48rem","lazy-load":"","show-loading":"",src:i.toToken.logoURI||e.$f.formatIcon((null===(m=i.toToken)||void 0===m?void 0:m.address)+"-"+(null===(b=i.toToken)||void 0===b?void 0:b.chain)),"error-icon":n("aecc")},null,8,["src","error-icon"]),null!==(p=i.toToken)&&void 0!==p&&p.chain?(Object(o["openBlock"])(),Object(o["createElementBlock"])("img",{key:0,class:"icon-svg icon-network",src:"https://www.avestorage.cloud/chain/".concat(null===(h=i.toToken)||void 0===h?void 0:h.chain,".png"),alt:"",srcset:""},null,8,Me)):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])((null===(f=i.toToken)||void 0===f?void 0:f.symbol)||""),1)])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(i.bridge.toTokenAmount),1)]),Object(o["createElementVNode"])("li",Le,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("receiveAddress"))+"("+Object(o["toDisplayString"])(e.$t("defaultCurrentAddress"))+")",1),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])((null===(g=e.$store.state.currentAccount)||void 0===g?void 0:g.slice(0,6))+"..."+(null===(j=e.$store.state.currentAccount)||void 0===j?void 0:j.slice(-3))),1)]),Object(o["createElementVNode"])("li",Re,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("exchangeChannel")),1),Object(o["createElementVNode"])("div",He,[Object(o["createVNode"])(s,{class:"mr-5",round:"",width:"0.32rem",height:"0.32rem","icon-size":"0.32rem","lazy-load":"","show-loading":"",src:i.bridge.logoUrl,"error-icon":n("aecc")},null,8,["src","error-icon"]),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(i.bridge.dex||""),1)])]),Object(o["createElementVNode"])("li",We,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("fee")),1),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$f.formatNumber2((i.fromTokenAmount||0)*(i.bridge.fee||0)))+" "+Object(o["toDisplayString"])(i.fromToken.symbol)+" ("+Object(o["toDisplayString"])(100*i.bridge.fee)+"%)",1)]),Object(o["createElementVNode"])("li",Ke,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("referenceRate")),1),Object(o["createElementVNode"])("span",null,"1 "+Object(o["toDisplayString"])(i.fromToken.symbol)+" = "+Object(o["toDisplayString"])(e.$f.formatNumber2(i.toTokenAmount/i.fromTokenAmount))+" "+Object(o["toDisplayString"])(i.toToken.symbol),1)]),Object(o["createElementVNode"])("li",Pe,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("expectedReceipt")),1),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$f.formatNumber2((null===(O=i.bridge)||void 0===O?void 0:O.receiveTokenAmount)||"0"))+" "+Object(o["toDisplayString"])(i.toToken.symbol),1)]),i.bridge.estimatedTime?(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",Qe,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("estimatedCompletionTime")),1),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(i.bridge.estimatedTime)+"~"+Object(o["toDisplayString"])(i.bridge.estimatedTime+2)+" "+Object(o["toDisplayString"])(e.$t("min")),1)])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(l,{class:"submit-btn",block:"",round:"",loading:i.loading,"loading-text":e.$t("confirmSwap"),onClick:t[0]||(t[0]=Object(o["withModifiers"])((function(t){return e.$emit("confirmSwap")}),["stop"])),size:"normal",type:"primary"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("confirmSwap")),1)]})),_:1},8,["loading","loading-text"]),Object(o["createElementVNode"])("div",qe,"*"+Object(o["toDisplayString"])(e.$t("confirmSwapTips")),1)])]})),_:1},8,["show","title"])}var Ze={name:"confirmBridgeSwap",props:{visible:{type:Boolean,default:!1},fromToken:Object,toToken:Object,fromTokenAmount:String,toTokenAmount:String|Number,bridge:Object,loading:Boolean},emits:["update:visible","confirmSwap"],data:function(){return{}},computed:{show:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}}}};n("3b2c");const Ge=se()(Ze,[["render",Je],["__scopeId","data-v-d58ada8a"]]);var Xe=Ge,Ye={class:"flex items-center"},et={class:"label mr-20"},tt={key:0,class:"token-container"},nt={class:"icon-token-container mr-5"},ot=["src"],it={class:"mr-5"},ct={class:"flex items-center mt-10"},at={class:"label mr-20"},rt={key:0,class:"token-container"},st={class:"icon-token-container mr-5"},lt=["src"],dt={class:"mr-5"},ut={class:"flex items-center justify-between mt-10 label"};function mt(e,t,i,c,a,r){var s,l,d,u,m,b,p,h,f=Object(o["resolveComponent"])("van-image"),g=Object(o["resolveComponent"])("van-loading");return Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{class:"tx-li-item van-hairline--bottom clickable",onClick:t[0]||(t[0]=Object(o["withModifiers"])((function(e){return r.goBridgeTx(i.item)}),["stop"]))},[Object(o["createElementVNode"])("div",Ye,[Object(o["createElementVNode"])("span",et,Object(o["toDisplayString"])(e.$t("from")),1),i.item.txHash?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",tt,[Object(o["createElementVNode"])("div",nt,[Object(o["createVNode"])(f,{round:"",width:"0.4rem",height:"0.4rem","icon-size":"0.4rem","lazy-load":"","show-loading":"",src:i.item.fromTokenUrl||e.$f.formatIcon(i.item.fromTokenAddress+"-"+a.getBridgeChain(null===(s=i.item)||void 0===s?void 0:s.fromTokenChain)),"error-icon":n("aecc")},null,8,["src","error-icon"]),null!==(l=i.item)&&void 0!==l&&l.fromTokenChain?(Object(o["openBlock"])(),Object(o["createElementBlock"])("img",{key:0,class:"icon-svg icon-network",src:"https://www.avestorage.cloud/chain/".concat(a.getBridgeChain(null===(d=i.item)||void 0===d?void 0:d.fromTokenChain),".png"),alt:"",srcset:""},null,8,ot)):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("span",it,Object(o["toDisplayString"])(i.item.fromAmount),1),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])((null===(u=i.item)||void 0===u?void 0:u.fromTokenSymbol)||""),1)])):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("div",ct,[Object(o["createElementVNode"])("span",at,Object(o["toDisplayString"])(e.$t("to")),1),i.item.txHash?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",rt,[Object(o["createElementVNode"])("div",st,[Object(o["createVNode"])(f,{round:"",width:"0.4rem",height:"0.4rem","icon-size":"0.4rem","lazy-load":"","show-loading":"",src:i.item.toTokenUrl||e.$f.formatIcon(i.item.toTokenAddress+"-"+a.getBridgeChain(null===(m=i.item)||void 0===m?void 0:m.toTokenChain)),"error-icon":n("aecc")},null,8,["src","error-icon"]),null!==(b=i.item)&&void 0!==b&&b.toTokenChain?(Object(o["openBlock"])(),Object(o["createElementBlock"])("img",{key:0,class:"icon-svg icon-network",src:"https://www.avestorage.cloud/chain/".concat(a.getBridgeChain(null===(p=i.item)||void 0===p?void 0:p.toTokenChain),".png"),alt:"",srcset:""},null,8,lt)):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("span",dt,Object(o["toDisplayString"])(i.item.toTokenAmount),1),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])((null===(h=i.item)||void 0===h?void 0:h.toTokenSymbol)||""),1)])):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("div",ut,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$f.formatDate(i.item.createTimeT)),1),"pending"===i.item.status||"wait_kyc"===i.item.status||"wait_refund"===i.item.status?(Object(o["openBlock"])(),Object(o["createBlock"])(g,{key:0,size:"0.24rem",color:"#3F80F7","text-size":"0.24rem"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(r.formatStatus(i.item.status)),1)]})),_:1})):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",{key:1,style:Object(o["normalizeStyle"])({color:r.formatStatusColor(i.item.status)})},Object(o["toDisplayString"])(r.formatStatus(i.item.status)),5))])])}var bt={name:"BridgeTxItem",props:{item:{type:Object,default:function(){return{}}}},data:function(){return{getBridgeChain:oe["h"]}},methods:{goBridgeTx:function(e){this.$router.push({name:"BridgeTx",params:{hash:e.txHash}})},formatStatus:function(e){var t,n={pending:this.$t("pending"),success:this.$t("succeed"),fail:this.$t("failed"),wait_kyc:this.$t("wait_kyc"),wait_refund:this.$t("wait_refund"),refund_complete:this.$t("refund_complete"),timeout:this.$t("timeout")};return null!==(t=n[e])&&void 0!==t?t:e},formatStatusColor:function(e){return"pending"===e||"wait_kyc"===e||"wait_refund"===e?"#3F80F7":"success"===e||"refund_complete"===e?"#12B886":"#999999"}}};n("5c41");const pt=se()(bt,[["render",mt],["__scopeId","data-v-9606f24a"]]);var ht,ft=pt,gt=n("e36d"),jt=n("901e"),Ot=n.n(jt),kt=n("2c28"),vt={name:"Bridge",components:{ConnectButton:D["a"],SlippageButton:_["a"],SelectBridgeToken:de,SelectDex:Se,ConfirmBridgeSwap:Xe,BridgeTxItem:ft},setup:function(){var e=Object(kt["useStorage"])("bridge_FromToken",{address:"",chain:"",symbol:""},sessionStorage),t=Object(kt["useStorage"])("bridge_toToken",{address:"",chain:"",symbol:""},sessionStorage);return{fromToken:e,toToken:t}},data:function(){return{slippageVisible:!1,slippage:"1",tokens:{},fromTokenAmount:"",toAddress:this.$store.state.currentAccount||"",bridge:{dex:"",logoUrl:""},bridgeList:[],loading:!1,loadingText:"",bridgeSwapTxData:{},show:!1,loadingConfirm:!1,allowance:gt["a"].from(te["d"]),loading1:!1,txHash:"",txs:[],getBridgeChain:oe["h"],loadingTxs:!1,rateType:!0,confirmTxVisible:!1}},computed:{errorCode:function(){return this.$store.state.wallet&&this.$store.state.currentAccount?this.fromToken.chain&&this.fromToken.chain!==this.$store.getters.netId?2:new Ot.a(this.fromTokenAmount||0).gt(this.fromToken.balance||0)?3:!/^0x[0-9a-zA-Z]{40}$/.test(this.toAddress)&&this.toAddress?6:new Ot.a(this.fromTokenAmount).lt(this.bridge.depositMin||0)&&this.bridge.depositMin?4:new Ot.a(this.fromTokenAmount).gt(this.bridge.depositMax||0)&&this.bridge.depositMax?5:this.allowance.lt(ie["utils"].parseUnits(this.fromTokenAmount||"0",this.fromToken.decimals||0))&&this.bridge.contractAddress?-1:0:1},submitMsg:function(){var e={0:this.$t("crossChainExchange"),1:this.$t("connectWallet"),2:this.$t("switchChain1"),3:this.$t("insufficientBalance"),6:this.$t("pleaseEnterCorrectReceiveAddress"),4:"".concat(this.$t("swapAmountCannotLess")," ").concat(this.bridge.depositMin||0," ").concat(this.fromToken.symbol),5:"".concat(this.$t("swapAmountCannotMore")," ").concat(this.bridge.depositMax||0," ").concat(this.fromToken.symbol),"-1":this.$t("approve")};return e[this.errorCode]},toTokenAmount:function(){return this.bridge.toTokenAmount||""},addressPattern:function(){return/^0x[0-9a-zA-Z]{40}$/}},watch:{"bridge.contractAddress":function(e){e?(this.loadingText=this.$t("checkingAllowance"),this.getBalanceAndAllowance()):this.allowance=gt["a"].from(te["d"])},fromTokenAmount:function(e){""===e&&(this.bridge={dex:"",logoUrl:""})}},activated:function(){this.init()},methods:{init:function(){this.fromToken=Object(kt["useStorage"])("bridge_FromToken",{address:"",chain:"",symbol:""},sessionStorage),this.toToken=Object(kt["useStorage"])("bridge_toToken",{address:"",chain:"",symbol:""},sessionStorage),this.fromToken.chain&&this.fromToken.chain!==this.$store.getters.netId&&Object(ne["g"])(this.fromToken.chain),this.getBridgeTokens(),this.getBridgeTransData(),this.getBalance()},getBridgeTokens:function(){var e=this;Object(oe["k"])().then((function(t){console.log(t),e.tokens=t.tokens}))},getBalanceAndAllowance:function(){var e=this;this.loading1=!0,Object(oe["f"])(this.fromToken.address,this.bridge.contractAddress,this.fromToken.chain).then((function(t){e.allowance=t.allowance,e.fromToken.balance=ie["utils"].formatUnits(t.balance.toString(),e.fromToken.decimals)})).finally((function(){e.loading1=!1}))},getBalance:function(){var e=this;this.fromToken.address&&this.fromToken.chain&&this.$store.state.currentAccount&&Object(oe["e"])(this.fromToken.address,this.fromToken.chain).then((function(t){e.fromToken.balance=ie["utils"].formatUnits(t.toString(),e.fromToken.decimals)}))},watchFromAmount:function(e){var t=this;(Number(e)<0||Number.isNaN(Number(e)))&&(this.fromTokenAmount="0"),this.fromToken.address&&this.toToken.address&&this.fromTokenAmount&&this.fromToken.bridgeChain&&this.toToken.bridgeChain&&this.$store.state.currentAccount&&(new Ot.a(this.fromTokenAmount).lte(0)||(ht&&(clearTimeout(ht),ht=null),this.loading=!0,this.loadingText=this.$t("lookingForBestChannel"),ht=setTimeout((function(){t.getBridgeQuote()}),500)))},handelTokenChange:function(){this.bridgeList=[],this.bridge={},this.watchFromAmount(this.fromTokenAmount)},onCountDownFinish:function(){this.bridgeList=[],this.bridge={},this.watchFromAmount(this.fromTokenAmount)},countDownFinishReset:function(){this.$refs.countDown.reset()},switchToken:function(){var e=Object(A["a"])({},this.fromToken);this.fromToken=this.toToken,this.toToken=e,this.getBridgeQuote(),this.getBalanceAndAllowance(),this.fromToken.chain!==this.$store.getters.netId&&Object(ne["g"])(this.fromToken.chain)},getBridgeQuote:function(){var e,t=this;if(this.fromToken.address&&this.toToken.address&&this.fromTokenAmount&&this.fromToken.bridgeChain&&this.toToken.bridgeChain&&this.$store.state.currentAccount){if(this.fromToken.address===this.toToken.address&&this.fromToken.bridgeChain===this.toToken.bridgeChain)return this.$toast({position:"top",message:this.$t("twoTokensCannotBeTheSame")}),void(this.loading=!1);var n={fromTokenAddress:this.fromToken.address,toTokenAddress:this.toToken.address,fromTokenAmount:null===(e=ie["utils"].parseUnits(this.fromTokenAmount,this.fromToken.decimals||0))||void 0===e?void 0:e.toString(),fromTokenChain:this.fromToken.bridgeChain,toTokenChain:this.toToken.bridgeChain,toAddress:this.toAddress||this.$store.state.currentAccount||"",slippage:this.slippage};this.loading=!0,this.loadingText=this.$t("lookingForBestChannel"),Object(oe["i"])(n).then((function(e){t.bridgeList=(e.txData||[]).filter((function(e){return n.fromTokenChain!==n.toTokenChain&&["SWFT","Bridgers","Aggregator"].includes(e.dex)||n.fromTokenChain===n.toTokenChain})),t.bridge=Object(A["a"])({},t.bridgeList[0])})).catch((function(e){console.log(e),t.$toast({position:"top",message:e})})).finally((function(){t.loading=!1,t.countDownFinishReset()}))}},getBridgeSwap:function(){var e=this,t={fromTokenAddress:this.fromToken.address,toTokenAddress:this.toToken.address,fromAddress:this.$store.state.currentAccount,amountOutMin:this.bridge.amountOutMin||this.$f.formatNumShort(this.bridge.toTokenAmount*(1-this.slippage/100),3)||"0",routerPath:this.bridge.path,amounts:[],dex:this.bridge.dex,aggregator:"",fromTokenChain:this.fromToken.bridgeChain,toTokenChain:this.toToken.bridgeChain,toAddress:this.toAddress||this.$store.state.currentAccount||"",fromTokenAmount:this.bridge.fromTokenAmount,slippage:this.slippage};this.loading=!0,this.loadingText=this.$t("crossChainExchange"),Object(oe["j"])(t).then((function(t){var n;console.log(t),e.bridgeSwapTxData=Object(A["a"])({from:(null===t||void 0===t||null===(n=t.txData)||void 0===n?void 0:n.from)||e.$store.state.currentAccount||void 0},(null===t||void 0===t?void 0:t.txData)||{}),t.txData?e.show=!0:e.$toast({position:"top",message:e.$t("failedTransation")})})).catch((function(t){console.log(t),e.$toast({position:"top",message:t})})).finally((function(){e.countDownFinishReset(),e.loading=!1}))},confirmSwap:function(){var e=this;this.bridgeSwapTxData.to&&(this.loadingConfirm=!0,Object(oe["E"])(this.bridgeSwapTxData).then((function(t){return e.txHash=t.hash,e.addBridgeTransData(t.hash),e.show=!1,e.fromTokenAmount="",e.bridge={dex:"",logoUrl:""},""!==t.hash&&(e.confirmTxVisible=!0),t.wait()})).then((function(t){console.log(t),e.getBalanceAndAllowance()})).catch((function(t){console.log(t),e.$f.handleError(t)})).finally((function(){e.loadingConfirm=!1})))},approve:function(){var e=this;this.loading=!0,this.loadingText=this.$t("approve"),Object(oe["c"])(this.fromToken.address,this.bridge.contractAddress).then((function(e){return e.wait()})).then((function(t){console.log(t),e.getBalanceAndAllowance()})).catch((function(t){console.log(t),e.$f.handleError(t)})).finally((function(){e.loading=!1}))},onSubmit:function(){1===this.errorCode?this.$store.dispatch("handleWalletAddress"):-1===this.errorCode?this.approve():this.getBridgeSwap()},handleMax:function(){var e,t;Number(null===(e=this.fromToken)||void 0===e?void 0:e.balance)>0&&(this.fromTokenAmount=null===(t=this.fromToken)||void 0===t?void 0:t.balance,this.fromToken.address===te["e"]&&(this.fromTokenAmount=new Ot.a(this.fromTokenAmount).minus(.01).toFixed()),this.getBridgeQuote())},addBridgeTransData:function(){var e,t,n,o=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.txHash,c={fromTokenAddress:this.fromToken.address,toTokenAddress:this.toToken.address,fromAddress:this.$store.state.currentAccount,toAddress:this.toAddress||this.$store.state.currentAccount||"",fromTokenAmount:this.bridge.fromTokenAmount,fromChain:this.fromToken.bridgeChain,toChain:this.toToken.bridgeChain,slippage:this.slippage,hash:i,toTokenAmount:this.toTokenAmount,dexName:this.bridge.dex,transferData:null!==(e=null===(t=this.bridgeSwapTxData)||void 0===t?void 0:t.transferData)&&void 0!==e?e:null,orderId:null===(n=this.bridgeSwapTxData)||void 0===n?void 0:n.orderId};Object(oe["a"])(c).then((function(e){console.log(e),o.getBridgeTransData(i),["success","refund_complete"].includes(e.finalStatus)?o.$toast.success(o.$t("swapSucceed")):o.getBridgeTransDetail(i)})).catch((function(e){console.log(e),o.$toast({position:"top",message:e})}))},getBridgeTransDetail:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.txHash;Object(oe["m"])(t).then((function(n){console.log(n),["success","refund_complete"].includes(n.finalStatus)?(e.confirmTxVisible=!1,e.$toast.success(e.$t("swapSucceed")),e.getBridgeTransData()):setTimeout((function(){e.getBridgeTransDetail(t)}),8e3)})).catch((function(t){console.log(t),e.$toast({position:"top",message:t})}))},getBridgeTransData:function(){var e=this,t={pageNo:1,pageSize:1e3};this.loadingTxs=!0,Object(oe["l"])(t).then((function(t){var n;console.log(t),e.txs=null!==(n=t.list)&&void 0!==n?n:[]})).catch((function(t){console.log(t),e.$toast({position:"top",message:t})})).finally((function(){e.loadingTxs=!1}))},formatStatus:function(e){var t,n={pending:this.$t("pending"),success:this.$t("succeed"),fail:this.$t("failed"),wait_kyc:this.$t("wait_kyc"),wait_refund:this.$t("wait_refund"),refund_complete:this.$t("refund_complete"),timeout:this.$t("timeout")};return null!==(t=n[e])&&void 0!==t?t:e},formatStatusColor:function(e){return"pending"===e||"wait_kyc"===e||"wait_refund"===e?"#3F80F7":"success"===e||"refund_complete"===e?"#12B886":"#999999"},getRate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.fromTokenAmount&&this.toTokenAmount?0===e?this.$f.formatNumber2(new Ot.a(this.fromTokenAmount).div(this.toTokenAmount).toFixed()):this.$f.formatNumber2(new Ot.a(this.toTokenAmount).div(this.fromTokenAmount).toFixed()):"--"},goBridgeTx:function(e){this.$router.push({name:"BridgeTx",params:{hash:e.txHash}})}}};n("942a");const Tt=se()(vt,[["render",$],["__scopeId","data-v-5e8d2f24"]]);t["default"]=Tt},"598e":function(e,t,n){"use strict";n("d9b4")},"5c41":function(e,t,n){"use strict";n("a247")},6363:function(e,t,n){},"72f4":function(e,t,n){},"841c":function(e,t,n){"use strict";var o=n("c65b"),i=n("d784"),c=n("825a"),a=n("1d80"),r=n("129f"),s=n("577e"),l=n("dc4a"),d=n("14c3");i("search",(function(e,t,n){return[function(t){var n=a(this),i=void 0==t?void 0:l(t,e);return i?o(i,t,n):new RegExp(t)[e](s(n))},function(e){var o=c(this),i=s(e),a=n(t,o,i);if(a.done)return a.value;var l=o.lastIndex;r(l,0)||(o.lastIndex=0);var u=d(o,i);return r(o.lastIndex,l)||(o.lastIndex=l),null===u?-1:u.index}]}))},"8e5e":function(e,t,n){},"942a":function(e,t,n){"use strict";n("6363")},"9c8e":function(e,t,n){"use strict";n("72f4")},a247:function(e,t,n){},aecc:function(e,t,n){e.exports=n.p+"static/img/icon-default.75f6e9a0.png"},b7ae:function(e,t,n){"use strict";n("11a6")},d9b4:function(e,t,n){},da73:function(e,t,n){"use strict";n("8e5e")},f7fa:function(e,t,n){e.exports=n.p+"static/img/SWFT-logo.f1cf69ef.png"}}]);