(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["BridgeTx"],{"071e":function(e,t,o){"use strict";o.r(t);o("caad"),o("fb6a");var n=o("7a23"),c=function(e){return Object(n["pushScopeId"])("data-v-510c6a97"),e=e(),Object(n["popScopeId"])(),e},i={class:"bridge-tx-container"},r={class:"status-container"},s={class:"icon-container"},a={key:0,class:"tx-info"},l={class:"tx-info_li"},d={class:"token-container"},m={class:"icon-token-container mr-5"},f=["src"],b={class:"mr-5"},u={class:"tx-info_li"},j={class:"token-container"},O={class:"icon-token-container mr-5"},h=["src"],p={class:"mr-5"},g={class:"tx-info_li"},k={class:"flex items-center"},x={class:"tx-info_li"},v={class:"flex items-center"},y={key:0},I={key:1},N={class:"tx-info_li"},T={class:"flex items-center"},V={class:"iconfont icon-copy ml-5 clickable",style:{color:"#999"}},E={class:"tx-info_li"},B={class:"flex items-center"},w=c((function(){return Object(n["createElementVNode"])("li",{class:"tx-info_li"},[Object(n["createElementVNode"])("span",null,"Hash"),Object(n["createElementVNode"])("span")],-1)})),S={class:"flex items-center"},C={class:"ml-5"},D={class:"flex items-center"},$=["onClick"],_={class:"iconfont icon-copy ml-5 clickable",style:{color:"#999"}},A={class:"flex items-center justify-center btn-container"};function z(e,t,c,z,F,U){var H,R,M,J,P,L,q,G,K=Object(n["resolveComponent"])("van-loading"),Q=Object(n["resolveComponent"])("van-icon"),W=Object(n["resolveComponent"])("van-image"),X=Object(n["resolveComponent"])("van-divider"),Y=Object(n["resolveComponent"])("van-button"),Z=Object(n["resolveDirective"])("copy");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",i,[Object(n["createElementVNode"])("div",r,[Object(n["createElementVNode"])("div",s,[["pending","wait_kyc","wait_refund"].includes(F.txInfo.finalStatus)?(Object(n["openBlock"])(),Object(n["createBlock"])(K,{key:0,size:"0.48rem",type:"spinner",color:"#3F80F7"})):"success"===F.txInfo.finalStatus?(Object(n["openBlock"])(),Object(n["createBlock"])(Q,{key:1,name:"success",color:"#12B886",size:"0.48rem"})):(Object(n["openBlock"])(),Object(n["createBlock"])(Q,{key:2,name:"fail",color:"#999999",size:"0.48rem"}))]),Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(U.formatStatus(F.txInfo.finalStatus)),1)]),F.txInfo.txHash?(Object(n["openBlock"])(),Object(n["createElementBlock"])("ul",a,[Object(n["createElementVNode"])("li",l,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("from")),1),Object(n["createElementVNode"])("div",d,[Object(n["createElementVNode"])("div",m,[Object(n["createVNode"])(W,{round:"",width:"0.4rem",height:"0.4rem","icon-size":"0.4rem","lazy-load":"","show-loading":"",src:F.txInfo.fromTokenUrl||e.$f.formatIcon(F.txInfo.fromTokenAddress+"-"+F.getBridgeChain(null===(H=F.txInfo)||void 0===H?void 0:H.fromTokenChain)),"error-icon":o("aecc")},null,8,["src","error-icon"]),null!==(R=F.txInfo)&&void 0!==R&&R.fromTokenChain?(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",{key:0,class:"icon-svg icon-network",src:"https://www.avestorage.cloud/chain/".concat(F.getBridgeChain(null===(M=F.txInfo)||void 0===M?void 0:M.fromTokenChain),".png"),alt:"",srcset:""},null,8,f)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("span",b,Object(n["toDisplayString"])(F.txInfo.fromAmount),1),Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])((null===(J=F.txInfo)||void 0===J?void 0:J.fromTokenSymbol)||""),1)])]),Object(n["createElementVNode"])("li",u,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("to")),1),Object(n["createElementVNode"])("div",j,[Object(n["createElementVNode"])("div",O,[Object(n["createVNode"])(W,{round:"",width:"0.4rem",height:"0.4rem","icon-size":"0.4rem","lazy-load":"","show-loading":"",src:F.txInfo.toTokenUrl||e.$f.formatIcon(F.txInfo.toTokenAddress+"-"+F.getBridgeChain(null===(P=F.txInfo)||void 0===P?void 0:P.toTokenChain)),"error-icon":o("aecc")},null,8,["src","error-icon"]),null!==(L=F.txInfo)&&void 0!==L&&L.toTokenChain?(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",{key:0,class:"icon-svg icon-network",src:"https://www.avestorage.cloud/chain/".concat(F.getBridgeChain(null===(q=F.txInfo)||void 0===q?void 0:q.toTokenChain),".png"),alt:"",srcset:""},null,8,h)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("span",p,Object(n["toDisplayString"])(F.txInfo.toTokenAmount),1),Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])((null===(G=F.txInfo)||void 0===G?void 0:G.toTokenSymbol)||""),1)])]),Object(n["createElementVNode"])("li",g,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("exchangePlatform")),1),Object(n["createElementVNode"])("div",k,[Object(n["createVNode"])(W,{class:"icon-token mr-5",round:"",width:"0.36rem",height:"0.36rem","lazy-load":"","show-loading":"",src:F.txInfo.logoUrl,"error-icon":o("aecc")},null,8,["src","error-icon"]),Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(F.txInfo.dexName),1)])]),Object(n["createElementVNode"])("li",x,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("referenceRate")),1),Object(n["createElementVNode"])("div",v,[F.rateType?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",y,"1 "+Object(n["toDisplayString"])(F.txInfo.fromTokenSymbol)+" = "+Object(n["toDisplayString"])(U.getRate(1))+" "+Object(n["toDisplayString"])(F.txInfo.toTokenSymbol),1)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",I,"1 "+Object(n["toDisplayString"])(F.txInfo.toTokenSymbol)+" = "+Object(n["toDisplayString"])(U.getRate(0))+" "+Object(n["toDisplayString"])(F.txInfo.fromTokenSymbol),1)),Object(n["createElementVNode"])("i",{class:"iconfont icon-switch-h ml-5 clickable",style:{color:"#999"},onClick:t[0]||(t[0]=Object(n["withModifiers"])((function(e){return F.rateType=!F.rateType}),["stop"]))})])]),Object(n["createElementVNode"])("li",N,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("receiveAddress1")),1),Object(n["createElementVNode"])("div",T,[Object(n["createElementVNode"])("a",{onClick:t[1]||(t[1]=Object(n["withModifiers"])((function(e){var t;return U.goAddress(F.getBridgeChain(null===(t=F.txInfo)||void 0===t?void 0:t.toTokenChain),F.txInfo.receiveAddress)}),["stop"])),target:"_blank",class:"flex items-center"},Object(n["toDisplayString"])(F.txInfo.receiveAddress?F.txInfo.receiveAddress.slice(0,6)+"..."+F.txInfo.receiveAddress.slice(-6):""),1),Object(n["withDirectives"])(Object(n["createElementVNode"])("i",V,null,512),[[Z,F.txInfo.receiveAddress]])])]),Object(n["createElementVNode"])("li",E,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("createTime")),1),Object(n["createElementVNode"])("div",B,Object(n["toDisplayString"])(e.$f.formatDate(F.txInfo.createTimeT)),1)]),Object(n["createVNode"])(X),w,(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(F.txInfo.status||[],(function(t,o){return Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{class:"tx-info_li",key:o},[Object(n["createElementVNode"])("div",S,["pending"===t.status||"wait_kyc"===t.status||"wait_refund"===t.status?(Object(n["openBlock"])(),Object(n["createBlock"])(K,{key:0,size:"0.4rem",color:"#3F80F7"})):"success"===t.status?(Object(n["openBlock"])(),Object(n["createBlock"])(Q,{key:1,name:"success",color:"#12B886",size:"0.4rem"})):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("span",C,Object(n["toDisplayString"])(t.chain),1)]),Object(n["createElementVNode"])("div",D,[Object(n["createElementVNode"])("a",{onClick:Object(n["withModifiers"])((function(o){return e.$f.openBrowser(t.url)}),["stop"]),target:"_blank",class:"flex items-center"},Object(n["toDisplayString"])(t.txHash?t.txHash.slice(0,6)+"..."+t.txHash.slice(-6):""),9,$),Object(n["withDirectives"])(Object(n["createElementVNode"])("i",_,null,512),[[Z,t.txHash]])])])})),128))])):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("div",A,[Object(n["createVNode"])(Y,{class:"btn-s",plain:"",round:"",onClick:Object(n["withModifiers"])(U.goBridge,["stop"])},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("swapAgain")),1)]})),_:1},8,["onClick"])])])}o("b680");var F=o("901e"),U=o.n(F),H=o("365c"),R=o("2c28"),M={name:"BridgeTx",setup:function(){var e=Object(R["useStorage"])("bridge_FromToken",{address:"",chain:"",symbol:""},sessionStorage),t=Object(R["useStorage"])("bridge_toToken",{address:"",chain:"",symbol:""},sessionStorage);return{fromToken:e,toToken:t}},data:function(){return{getBridgeChain:H["h"],rateType:!0,txInfo:{}}},watch:{"$route.params.hash":{handler:function(e){e&&this.init()},immediate:!0}},mounted:function(){},methods:{init:function(){this.getBridgeTransDetail()},getBridgeTransDetail:function(){var e=this,t=this.$route.params.hash;t&&Object(H["m"])(t).then((function(o){console.log(o),e.txInfo=o,["success","refund_complete"].includes(o.finalStatus)||setTimeout((function(){e.getBridgeTransDetail(t)}),8e3)})).catch((function(t){console.log(t),e.$toast({position:"top",message:t})}))},getRate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.txInfo.fromAmount&&this.txInfo.toTokenAmount?0===e?this.$f.formatNumber2(new U.a(this.txInfo.fromAmount).div(this.txInfo.toTokenAmount).toFixed()):this.$f.formatNumber2(new U.a(this.txInfo.toTokenAmount).div(this.txInfo.fromAmount).toFixed()):"--"},goAddress:function(e,t){this.$f.openBrowser(this.$f.formatExplorerUrl(e,t,"address"))},formatStatus:function(e){var t,o={pending:this.$t("swapPending"),success:this.$t("swapSucceed"),fail:this.$t("swapFailed"),wait_kyc:this.$t("wait_kyc"),wait_refund:this.$t("wait_refund"),refund_complete:this.$t("refund_complete"),timeout:this.$t("timeout")};return null!==(t=o[e])&&void 0!==t?t:e},goBridge:function(){var e,t;this.fromToken={address:this.txInfo.fromTokenAddress,chain:this.getBridgeChain(null===(e=this.txInfo)||void 0===e?void 0:e.fromTokenChain),bridgeChain:this.txInfo.fromTokenChain,symbol:this.txInfo.fromTokenSymbol,logoURI:this.txInfo.fromTokenUrl},this.toToken={address:this.txInfo.toTokenAddress,chain:this.getBridgeChain(null===(t=this.txInfo)||void 0===t?void 0:t.toTokenChain),bridgeChain:this.txInfo.toTokenChain,symbol:this.txInfo.toTokenSymbol,logoURI:this.txInfo.toTokenUrl},this.$router.push({name:"Bridge"})}}},J=(o("4ecc"),o("6b0d")),P=o.n(J);const L=P()(M,[["render",z],["__scopeId","data-v-510c6a97"]]);t["default"]=L},"4ecc":function(e,t,o){"use strict";o("c664")},aecc:function(e,t,o){e.exports=o.p+"static/img/icon-default.75f6e9a0.png"},c664:function(e,t,o){}}]);